<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.1.1 docs-doc-page docs-doc-id-cpp/krpc/getting_started" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">ä½¿ç”¨krpc | Kumo AI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kumo-pub.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kumo-pub.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://kumo-pub.github.io/docs/cpp/krpc/getting_started"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.1.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.1.1"><meta data-rh="true" name="docsearch:version" content="1.1.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.1.1"><meta data-rh="true" property="og:title" content="ä½¿ç”¨krpc | Kumo AI"><meta data-rh="true" name="description" content="å®‰è£…krpcåŸºç¡€ç¯å¢ƒä»¥åŠç¼–è¯‘krpc."><meta data-rh="true" property="og:description" content="å®‰è£…krpcåŸºç¡€ç¯å¢ƒä»¥åŠç¼–è¯‘krpc."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://kumo-pub.github.io/docs/cpp/krpc/getting_started"><link data-rh="true" rel="alternate" href="https://kumo-pub.github.io/docs/cpp/krpc/getting_started" hreflang="en"><link data-rh="true" rel="alternate" href="https://kumo-pub.github.io/docs/cpp/krpc/getting_started" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kumo AI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kumo AI Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Kumo AI JSON Feed">


<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E5CR2Q1NRE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E5CR2Q1NRE",{})</script>


<link rel="alternate" type="application/rss+xml" href="/changelog/rss.xml" title="Docusaurus changelog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/changelog/atom.xml" title="Docusaurus changelog Atom Feed">
<link rel="alternate" type="application/json" href="/changelog/feed.json" title="Docusaurus changelog JSON Feed">



<link rel="icon" href="/img/docusaurus.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/docusaurus.png">
<link rel="mask-icon" href="/img/docusaurus.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/img/docusaurus.png">
<meta name="msapplication-TileColor" content="#000">



<link rel="alternate" type="application/rss+xml" href="/tests/blog/rss.xml" title="Docusaurus Tests Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tests/blog/atom.xml" title="Docusaurus Tests Blog Atom Feed">
<link rel="alternate" type="application/json" href="/tests/blog/feed.json" title="Docusaurus Tests Blog JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Kumo AI" href="/opensearch.xml">

<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.21fbef88.css">
<script src="/assets/js/runtime~main.b6add41e.js" defer="defer"></script>
<script src="/assets/js/main.d99df9f3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme-b4f")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss-b4f")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">ğŸ‰ï¸ <b><a target="_blank" href="https://docusaurus.io/blog/releases/1.1">Kumo v1.1</a> is out!</b> ğŸ¥³ï¸</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kumo_logo.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE" height="48" width="128"><img src="/img/kumo_logo_white.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="48" width="128"></div><b class="navbar__title text--truncate">ä¸»é¡µ</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/docs/category/kmsearch">API</a><a class="navbar__item navbar__link" href="/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/changelog">å‘å¸ƒ</a><a class="navbar__item navbar__link" href="/showcase">åº”ç”¨æ¡ˆä¾‹</a><a class="navbar__item navbar__link" href="/community/support">æ”¯æŒä¸èµ„æº</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/cpp/krpc/getting_started">1.1.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/cpp/krpc/getting_started">nightly ğŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/cpp/krpc/getting_started">1.1.1</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>Archived versions</b></li><li><a href="https://docusaurus-archive-october-2023.netlify.app/docs/2.3.1" target="_blank" rel="noopener noreferrer" class="dropdown__link">1.0.1<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://v1.docusaurus.io" target="_blank" rel="noopener noreferrer" class="dropdown__link">1.x.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/cpp/krpc/getting_started" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://github.com/facebook/docusaurus/issues/3526" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/kumo_logo.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE" height="48" width="128"><img src="/img/kumo_logo_white.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="48" width="128"><b>ä¸»é¡µ</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">æ¦‚è¿°</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/åŸºç¡€å‡†å¤‡">åŸºç¡€å‡†å¤‡</a><button aria-label="Collapse sidebar category &#x27;åŸºç¡€å‡†å¤‡&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/env_prepare_be">åç«¯å¼€å‘ç¯å¢ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/env_prepare_fe">å‰ç«¯å¼€å‘ç¯å¢ƒ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/æŒç»­é›†æˆ----kmpkg">æŒç»­é›†æˆ -- kmpkg</a><button aria-label="Expand sidebar category &#x27;æŒç»­é›†æˆ -- kmpkg&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/cå¼€å‘">c++å¼€å‘</a><button aria-label="Collapse sidebar category &#x27;c++å¼€å‘&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/overview">æ¦‚è¿°</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/è§„èŒƒé”™è¯¯ä¸é”™è¯¯è¿”å›å€¼">è§„èŒƒé”™è¯¯ä¸é”™è¯¯è¿”å›å€¼</a><button aria-label="Expand sidebar category &#x27;è§„èŒƒé”™è¯¯ä¸é”™è¯¯è¿”å›å€¼&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/æ€§èƒ½æµ‹è¯•ä¸å•å…ƒæµ‹è¯•">æ€§èƒ½æµ‹è¯•ä¸å•å…ƒæµ‹è¯•</a><button aria-label="Expand sidebar category &#x27;æ€§èƒ½æµ‹è¯•ä¸å•å…ƒæµ‹è¯•&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/base/time">æ—¶é—´ä¸æ—¥å†</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/å‘½ä»¤è¡Œä¸é…ç½®">å‘½ä»¤è¡Œä¸é…ç½®</a><button aria-label="Expand sidebar category &#x27;å‘½ä»¤è¡Œä¸é…ç½®&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/hashå®¹å™¨">hashå®¹å™¨</a><button aria-label="Expand sidebar category &#x27;hashå®¹å™¨&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/å­—ç¬¦ä¸å­—ç¬¦ä¸²">å­—ç¬¦ä¸å­—ç¬¦ä¸²</a><button aria-label="Expand sidebar category &#x27;å­—ç¬¦ä¸å­—ç¬¦ä¸²&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/æ ¼å¼ä¸è§£æ">æ ¼å¼ä¸è§£æ</a><button aria-label="Expand sidebar category &#x27;æ ¼å¼ä¸è§£æ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/æ–‡ä»¶å’Œæ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶å’Œæ–‡ä»¶ç³»ç»Ÿ</a><button aria-label="Expand sidebar category &#x27;æ–‡ä»¶å’Œæ–‡ä»¶ç³»ç»Ÿ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/å­—ç¬¦ç¼–ç ">å­—ç¬¦ç¼–ç </a><button aria-label="Expand sidebar category &#x27;å­—ç¬¦ç¼–ç &#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/å¤šæ ¸ç¼–ç¨‹">å¤šæ ¸ç¼–ç¨‹</a><button aria-label="Expand sidebar category &#x27;å¤šæ ¸ç¼–ç¨‹&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/logæ—¥å¿—åº“">logæ—¥å¿—åº“</a><button aria-label="Expand sidebar category &#x27;logæ—¥å¿—åº“&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/ç›‘æ§ä¸ä¸ŠæŠ¥">ç›‘æ§ä¸ä¸ŠæŠ¥</a><button aria-label="Expand sidebar category &#x27;ç›‘æ§ä¸ä¸ŠæŠ¥&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/krpcæ•™ç¨‹">krpcæ•™ç¨‹</a><button aria-label="Collapse sidebar category &#x27;krpcæ•™ç¨‹&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/cpp/krpc/getting_started">ä½¿ç”¨krpc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/server">æœåŠ¡å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/http_service">httpæœåŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/thrift">ThriftæœåŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/cpu_profiler">CPUä½¿ç”¨åˆ†æ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/heap_profiler">å †æ ˆåˆ†æ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/contention_profiler">ç«æ€åˆ†æ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/dummy_server">server dummy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/rpcz">rpcè¿½è¸ª</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/thread_local">thread local</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/json2pb">jsonå’Œprotobufè½¬æ¢</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/threading_overview">å¸¸è§çº¿ç¨‹æ¨¡å‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/atomic_instructions">atomicä½¿ç”¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/flags">flagsä½¿ç”¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/io">IOè¯¦è§£</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/streaming_rpc">æµå¼rpc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/endpoint">EndPointå·¥å…·ç±»</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/kumo_std">kumoæ ‡å‡†åè®®</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/client">å®¢æˆ·ç«¯æœåŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/circuit_breaker">ç†”æ–­åŠŸèƒ½</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/connections">connectionsæœåŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/lalb">lalbè°ƒåº¦</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/consistent_hashing">ä¸€è‡´æ€§hash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/http_client">httpå®¢æˆ·ç«¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/http_derivatives">httpå»¶å±•é˜…è¯»</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/combo_channel">æœåŠ¡æ²»ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/memcache_client">memcachedå®¢æˆ·ç«¯</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/redis_client">redisæ”¯æŒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/auto_concurrency_limiter">è‡ªé€‚åº”é™æµ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cpp/krpc/server_debugging">rpcè°ƒè¯•</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/æœç´ åŸºç¡€å¼€å‘">æœç´ åŸºç¡€å¼€å‘</a><button aria-label="Expand sidebar category &#x27;æœç´ åŸºç¡€å¼€å‘&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/æœç´¢åº”ç”¨å¼€å‘">æœç´¢åº”ç”¨å¼€å‘</a><button aria-label="Expand sidebar category &#x27;æœç´¢åº”ç”¨å¼€å‘&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/å‘é‡æ•°æ®åº“æ•™ç¨‹">å‘é‡æ•°æ®åº“æ•™ç¨‹</a><button aria-label="Expand sidebar category &#x27;å‘é‡æ•°æ®åº“æ•™ç¨‹&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/åˆ†å¸ƒå¼æ•°æ®åº“">åˆ†å¸ƒå¼æ•°æ®åº“</a><button aria-label="Expand sidebar category &#x27;åˆ†å¸ƒå¼æ•°æ®åº“&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/æœç´¢-ui">æœç´¢ UI</a><button aria-label="Expand sidebar category &#x27;æœç´¢ UI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/cå¼€å‘"><span itemprop="name">c++å¼€å‘</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/krpcæ•™ç¨‹"><span itemprop="name">krpcæ•™ç¨‹</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ä½¿ç”¨krpc</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.1.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ä½¿ç”¨krpc</h1></header>
<p>å®‰è£…krpcåŸºç¡€ç¯å¢ƒä»¥åŠç¼–è¯‘krpc.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ„å»º">æ„å»º<a href="#æ„å»º" class="hash-link" aria-label="Direct link to æ„å»º" title="Direct link to æ„å»º">â€‹</a></h2>
<p>krpcé¼“åŠ±é™æ€é“¾æ¥ä¾èµ–ï¼Œä»¥ä¾¿äºæ¯ä¸ªè¿è¡Œkrpc æœåŠ¡çš„æœºå™¨ä¸å¿…å†å®‰è£…ä¾èµ–ã€‚</p>
<p>krpcæœ‰å¦‚ä¸‹ä¾èµ–ï¼š</p>
<ul>
<li><a href="https://github.com/gflags/gflags" target="_blank" rel="noopener noreferrer">gflags</a>: Extensively used to define global options.</li>
<li><a href="https://github.com/google/protobuf" target="_blank" rel="noopener noreferrer">protobuf</a>: Serializations of messages, interfaces of services.</li>
<li><a href="https://github.com/google/leveldb" target="_blank" rel="noopener noreferrer">leveldb</a>: Required by <a href="/docs/cpp/krpc/rpcz">rpcz</a> to record RPCs for tracing.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ”¯æŒçš„ç¯å¢ƒ">æ”¯æŒçš„ç¯å¢ƒ<a href="#æ”¯æŒçš„ç¯å¢ƒ" class="hash-link" aria-label="Direct link to æ”¯æŒçš„ç¯å¢ƒ" title="Direct link to æ”¯æŒçš„ç¯å¢ƒ">â€‹</a></h2>
<ul>
<li><a href="#ubuntulinuxmintwsl">Ubuntu/LinuxMint/WSL</a></li>
<li><a href="#fedoracentos">Fedora/CentOS</a></li>
<li><a href="#construct-own-linux">è‡ªå·±æ„å»ºä¾èµ–çš„Linux</a></li>
<li><a href="#macos">MacOS</a></li>
<li><a href="#docker">docker</a></li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ubuntulinuxmintwsl">Ubuntu/LinuxMint/WSL<a href="#ubuntulinuxmintwsl" class="hash-link" aria-label="Direct link to Ubuntu/LinuxMint/WSL" title="Direct link to Ubuntu/LinuxMint/WSL">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¾èµ–å‡†å¤‡">ä¾èµ–å‡†å¤‡<a href="#ä¾èµ–å‡†å¤‡" class="hash-link" aria-label="Direct link to ä¾èµ–å‡†å¤‡" title="Direct link to ä¾èµ–å‡†å¤‡">â€‹</a></h4>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-y</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">git</span><span class="token plain"> g++ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"> libssl-dev libgflags-dev libprotobuf-dev libprotoc-dev protobuf-compiler libleveldb-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ éœ€è¦é™æ€é“¾æ¥leveldbï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-y</span><span class="token plain"> libsnappy-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ éœ€è¦é€šè¿‡æºç ç¼–è¯‘ç”Ÿæˆ leveldb é™æ€åº“ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">git</span><span class="token plain"> clone --recurse-submodules https://github.com/google/leveldb.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-p</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cmake </span><span class="token parameter variable" style="color:#E36209">-DCMAKE_BUILD_TYPE</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">Release </span><span class="token parameter variable" style="color:#E36209">-DCMAKE_POSITION_INDEPENDENT_CODE</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> cmake </span><span class="token parameter variable" style="color:#E36209">--build</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">cp</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-r</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/include/leveldb /usr/include/ </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">cp</span><span class="token plain"> libleveldb.a /usr/lib/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ è¦åœ¨æ ·ä¾‹ä¸­å¯ç”¨cpu/heapçš„profilerï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-y</span><span class="token plain"> libgoogle-perftools-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ è¦è¿è¡Œæµ‹è¯•ï¼Œé‚£ä¹ˆè¦å®‰è£…å¹¶ç¼–è¯‘libgtest-devï¼ˆå®ƒæ²¡æœ‰è¢«é»˜è®¤ç¼–è¯‘ï¼‰ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-y</span><span class="token plain"> cmake libgtest-dev </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> /usr/src/gtest </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> cmake </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">mv</span><span class="token plain"> lib/libgtest* /usr/lib/ </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>gtestæºç ç›®å½•å¯èƒ½å˜åŠ¨ï¼Œå¦‚æœ<code>/usr/src/gtest</code>ä¸å­˜åœ¨ï¼Œè¯·å°è¯•<code>/usr/src/googletest/googletest</code>ã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨config_krpcshç¼–è¯‘krpc">ä½¿ç”¨config_krpc.shç¼–è¯‘krpc<a href="#ä½¿ç”¨config_krpcshç¼–è¯‘krpc" class="hash-link" aria-label="Direct link to ä½¿ç”¨config_krpc.shç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨config_krpc.shç¼–è¯‘krpc">â€‹</a></h4>
<p>gitå…‹éš†krpcï¼Œè¿›å…¥åˆ°é¡¹ç›®ç›®å½•ï¼Œç„¶åè¿è¡Œ</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> config_krpc.sh </span><span class="token parameter variable" style="color:#E36209">--headers</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/usr/include </span><span class="token parameter variable" style="color:#E36209">--libs</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/usr/lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¿®æ”¹ç¼–è¯‘å™¨ä¸ºclangï¼Œæ·»åŠ é€‰é¡¹<code>--cxx=clang++ --cc=clang</code>ã€‚</p>
<p>ä¸æƒ³é“¾æ¥è°ƒè¯•ç¬¦å·ï¼Œæ·»åŠ é€‰é¡¹<code>--nodebugsymbols</code>ï¼Œç„¶åç¼–è¯‘å°†ä¼šå¾—åˆ°æ›´è½»é‡çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨glogç‰ˆçš„krpcï¼Œæ·»åŠ é€‰é¡¹<code>--with-glog</code>ã€‚</p>
<p>è¦å¯ç”¨ <a href="/docs/cpp/krpc/thrift">thrift æ”¯æŒ</a>ï¼Œé¦–å…ˆå®‰è£…thriftå¹¶ä¸”æ·»åŠ é€‰é¡¹<code>--with-thrift</code>ã€‚</p>
<p><strong>è¿è¡Œæ ·ä¾‹</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> example/echo_c++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_server </span><span class="token operator" style="color:#D73A49">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šè¿°æ“ä½œä¼šé“¾æ¥krpcçš„é™æ€åº“åˆ°æ ·ä¾‹ä¸­ï¼Œå¦‚æœä½ æƒ³é“¾æ¥krpcçš„å…±äº«åº“ï¼Œè¯·ä¾æ¬¡æ‰§è¡Œï¼š<code>make clean</code>å’Œ<code>LINK_SO=1 make</code></p>
<p><strong>è¿è¡Œæµ‹è¯•</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> run_tests.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨cmakeç¼–è¯‘krpc">ä½¿ç”¨cmakeç¼–è¯‘krpc<a href="#ä½¿ç”¨cmakeç¼–è¯‘krpc" class="hash-link" aria-label="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc">â€‹</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> cmake </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> cmake </span><span class="token parameter variable" style="color:#E36209">--build</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-j6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¯¹äº cmake 3.13+ ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmake </span><span class="token parameter variable" style="color:#E36209">-B</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> cmake </span><span class="token parameter variable" style="color:#E36209">--build</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#E36209">-j6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¦å¸®åŠ©VSCodeæˆ–Emacs(LSP)å»æ­£ç¡®åœ°ç†è§£ä»£ç ï¼Œæ·»åŠ <code>-DCMAKE_EXPORT_COMPILE_COMMANDS=ON</code>é€‰é¡¹å»ç”Ÿæˆ<code>compile_commands.json</code>ã€‚</p>
<p>è¦ä¿®æ”¹ç¼–è¯‘å™¨ä¸ºclangï¼Œè¯·ä¿®æ”¹ç¯å¢ƒå˜é‡<code>CC</code>å’Œ<code>CXX</code>ä¸º<code>clang</code>å’Œ<code>clang++</code>ã€‚</p>
<p>ä¸æƒ³é“¾æ¥è°ƒè¯•ç¬¦å·ï¼Œ è¯·ç§»é™¤<code>build/CMakeCache.txt</code>ï¼Œç„¶åç”¨<code>-DWITH_DEBUG_SYMBOLS=OFF</code>é€‰é¡¹æ‰§è¡Œcmakeã€‚</p>
<p>æƒ³è¦è®©krpcä½¿ç”¨glogï¼Œç”¨<code>-DWITH_GLOG=ON</code>é€‰é¡¹æ‰§è¡Œcmakeã€‚</p>
<p>è¦å¯ç”¨ <a href="/docs/cpp/krpc/thrift">thrift æ”¯æŒ</a>ï¼Œå…ˆå®‰è£…thriftï¼Œç„¶åç”¨<code>-DWITH_THRIFT=ON</code>é€‰é¡¹æ‰§è¡Œcmakeã€‚</p>
<p><strong>ç”¨cmakeè¿è¡Œæ ·ä¾‹</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> example/echo_c++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cmake </span><span class="token parameter variable" style="color:#E36209">-B</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> cmake </span><span class="token parameter variable" style="color:#E36209">--build</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#E36209">-j4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_server </span><span class="token operator" style="color:#D73A49">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šè¿°æ“ä½œä¼šé“¾æ¥krpcçš„é™æ€åº“åˆ°æ ·ä¾‹ä¸­ï¼Œå¦‚æœä½ æƒ³é“¾æ¥krpcçš„å…±äº«åº“ï¼Œè¯·å…ˆç§»é™¤<code>CMakeCache.txt</code>ï¼Œç„¶åç”¨<code>-DLINK_SO=ON</code>é€‰é¡¹é‡æ–°æ‰§è¡Œcmakeã€‚</p>
<p><strong>è¿è¡Œæµ‹è¯•</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> cmake </span><span class="token parameter variable" style="color:#E36209">-DBUILD_UNIT_TESTS</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">ON </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fedoracentos">Fedora/CentOS<a href="#fedoracentos" class="hash-link" aria-label="Direct link to Fedora/CentOS" title="Direct link to Fedora/CentOS">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¾èµ–å‡†å¤‡-1">ä¾èµ–å‡†å¤‡<a href="#ä¾èµ–å‡†å¤‡-1" class="hash-link" aria-label="Direct link to ä¾èµ–å‡†å¤‡" title="Direct link to ä¾èµ–å‡†å¤‡">â€‹</a></h3>
<p>CentOSä¸€èˆ¬éœ€è¦å®‰è£…EPELï¼Œå¦åˆ™å¾ˆå¤šåŒ…éƒ½é»˜è®¤ä¸å¯ç”¨ã€‚</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> epel-release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">git</span><span class="token plain"> gcc-c++ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"> openssl-devel gflags-devel protobuf-devel protobuf-compiler leveldb-devel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ è¦åœ¨æ ·ä¾‹ä¸­å¯ç”¨cpu/heapçš„profilerï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> gperftools-devel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ è¦è¿è¡Œæµ‹è¯•ï¼Œé‚£ä¹ˆè¦å®‰è£…ligtest-dev:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> gtest-devel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨config_krpcshç¼–è¯‘krpc-1">ä½¿ç”¨config_krpc.shç¼–è¯‘krpc<a href="#ä½¿ç”¨config_krpcshç¼–è¯‘krpc-1" class="hash-link" aria-label="Direct link to ä½¿ç”¨config_krpc.shç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨config_krpc.shç¼–è¯‘krpc">â€‹</a></h4>
<p>gitå…‹éš†krpcï¼Œè¿›å…¥é¡¹ç›®ç›®å½•ç„¶åæ‰§è¡Œï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> config_krpc.sh </span><span class="token parameter variable" style="color:#E36209">--headers</span><span class="token operator" style="color:#D73A49">=</span><span class="token string" style="color:#C6105F">&quot;/usr/include&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">--libs</span><span class="token operator" style="color:#D73A49">=</span><span class="token string" style="color:#C6105F">&quot;/usr/lib64 /usr/bin&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¿®æ”¹ç¼–è¯‘å™¨ä¸ºclangï¼Œæ·»åŠ é€‰é¡¹<code>--cxx=clang++ --cc=clang</code>ã€‚</p>
<p>ä¸æƒ³é“¾æ¥è°ƒè¯•ç¬¦å·ï¼Œæ·»åŠ é€‰é¡¹<code>--nodebugsymbols</code> ç„¶åç¼–è¯‘å°†ä¼šå¾—åˆ°æ›´è½»é‡çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>æƒ³è¦è®©krpcä½¿ç”¨glogï¼Œæ·»åŠ é€‰é¡¹ï¼š<code>--with-glog</code>ã€‚</p>
<p>è¦å¯ç”¨ <a href="/docs/cpp/krpc/thrift">thrift æ”¯æŒ</a>ï¼Œå…ˆå®‰è£…thriftï¼Œç„¶åæ·»åŠ é€‰é¡¹ï¼š<code>--with-thrift</code>ã€‚</p>
<p><strong>è¿è¡Œæ ·ä¾‹</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> example/echo_c++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_server </span><span class="token operator" style="color:#D73A49">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šè¿°æ“ä½œä¼šé“¾æ¥krpcçš„é™æ€åº“åˆ°æ ·ä¾‹ä¸­ï¼Œå¦‚æœä½ æƒ³é“¾æ¥krpcçš„å…±äº«åº“ï¼Œè¯·ä¾æ¬¡æ‰§è¡Œï¼š<code>make clean</code>å’Œ<code>LINK_SO=1 make</code></p>
<p><strong>è¿è¡Œæµ‹è¯•</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> run_tests.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨cmakeç¼–è¯‘krpc-1">ä½¿ç”¨cmakeç¼–è¯‘krpc<a href="#ä½¿ç”¨cmakeç¼–è¯‘krpc-1" class="hash-link" aria-label="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc">â€‹</a></h4>
<p>å‚è€ƒ<a href="#%E4%BD%BF%E7%94%A8cmake%E7%BC%96%E8%AF%91krpc">è¿™é‡Œ</a></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨kmpkgç¼–è¯‘krpc">ä½¿ç”¨kmpkgç¼–è¯‘krpc<a href="#ä½¿ç”¨kmpkgç¼–è¯‘krpc" class="hash-link" aria-label="Direct link to ä½¿ç”¨kmpkgç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨kmpkgç¼–è¯‘krpc">â€‹</a></h4>
<p><a href="https://gitee.com/kumo-pub/kmpkg" target="_blank" rel="noopener noreferrer">kmpkg</a> æ˜¯ä¸€ä¸ªå…¨å¹³å°æ”¯æŒçš„åŒ…ç®¡ç†å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤kmpkgè½»æ¾ç¼–è¯‘krpc:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">git</span><span class="token plain"> clone https://gitee.com/kumo-pub/kmpkg.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./bootstrap-kmpkg.bat </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># ä½¿ç”¨ powershell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./bootstrap-kmpkg.sh </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># ä½¿ç”¨ bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./kmpkg </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> krpc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="construct-own-linux">è‡ªå·±æ„å»ºä¾èµ–çš„Linux<a href="#construct-own-linux" class="hash-link" aria-label="Direct link to è‡ªå·±æ„å»ºä¾èµ–çš„Linux" title="Direct link to è‡ªå·±æ„å»ºä¾èµ–çš„Linux">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¾èµ–å‡†å¤‡-2">ä¾èµ–å‡†å¤‡<a href="#ä¾èµ–å‡†å¤‡-2" class="hash-link" aria-label="Direct link to ä¾èµ–å‡†å¤‡" title="Direct link to ä¾èµ–å‡†å¤‡">â€‹</a></h4>
<p>krpcé»˜è®¤ä¼šæ„å»ºå‡ºé™æ€åº“å’Œå…±äº«åº“ï¼Œå› æ­¤å®ƒä¹Ÿéœ€è¦ä¾èµ–æœ‰é™æ€åº“å’Œå…±äº«åº“ä¸¤ä¸ªç‰ˆæœ¬ã€‚</p>
<p>ä»¥<a href="https://github.com/gflags/gflags" target="_blank" rel="noopener noreferrer">gflags</a>ä¸ºä¾‹ï¼Œå®ƒé»˜è®¤ä¸æ„å»ºå…±äº«åº“ï¼Œä½ éœ€è¦ç»™<code>cmake</code>æŒ‡å®šé€‰é¡¹å»æ”¹å˜è¿™ä¸€è¡Œä¸ºï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cmake </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-DBUILD_SHARED_LIBS</span><span class="token operator" style="color:#D73A49">=</span><span class="token number" style="color:#005CC5">1</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-DBUILD_STATIC_LIBS</span><span class="token operator" style="color:#D73A49">=</span><span class="token number" style="color:#005CC5">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¼–è¯‘krpc">ç¼–è¯‘krpc<a href="#ç¼–è¯‘krpc" class="hash-link" aria-label="Direct link to ç¼–è¯‘krpc" title="Direct link to ç¼–è¯‘krpc">â€‹</a></h4>
<p>è¿˜ä»¥gflagsä¸ºä¾‹ï¼Œ<code>../gflags_dev</code>è¡¨ç¤ºgflagsè¢«å…‹éš†çš„ä½ç½®ã€‚</p>
<p>gitå…‹éš†krpcã€‚è¿›å…¥åˆ°é¡¹ç›®ç›®å½•ç„¶åè¿è¡Œï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> config_krpc.sh </span><span class="token parameter variable" style="color:#E36209">--headers</span><span class="token operator" style="color:#D73A49">=</span><span class="token string" style="color:#C6105F">&quot;../gflags_dev /usr/include&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">--libs</span><span class="token operator" style="color:#D73A49">=</span><span class="token string" style="color:#C6105F">&quot;../gflags_dev /usr/lib64&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™é‡Œæˆ‘ä»¬ç»™<code>--headers</code>å’Œ<code>--libs</code>ä¼ é€’å¤šä¸ªè·¯å¾„ä½¿å¾—è„šæœ¬èƒ½å¤Ÿåœ¨å¤šä¸ªåœ°æ–¹è¿›è¡Œæ£€ç´¢ã€‚ä½ ä¹Ÿå¯ä»¥æ‰“åŒ…æ‰€æœ‰ä¾èµ–å’Œkrpcä¸€èµ·æ”¾åˆ°ä¸€ä¸ªç›®å½•ä¸­ï¼Œç„¶åæŠŠç›®å½•ä¼ é€’ç»™ --headers/--libsé€‰é¡¹ï¼Œå®ƒä¼šé€’å½’æœç´¢æ‰€æœ‰å­ç›®å½•ç›´åˆ°æ‰¾åˆ°å¿…é¡»çš„æ–‡ä»¶ã€‚</p>
<p>ä¿®æ”¹ç¼–è¯‘å™¨ä¸ºclangï¼Œæ·»åŠ é€‰é¡¹<code>--cxx=clang++ --cc=clang</code>ã€‚</p>
<p>ä¸æƒ³é“¾æ¥è°ƒè¯•ç¬¦å·ï¼Œæ·»åŠ é€‰é¡¹<code>--nodebugsymbols</code>ï¼Œç„¶åç¼–è¯‘å°†ä¼šå¾—åˆ°æ›´è½»é‡çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨glogç‰ˆçš„krpcï¼Œæ·»åŠ é€‰é¡¹<code>--with-glog</code>ã€‚</p>
<p>è¦å¯ç”¨<a href="/docs/cpp/krpc/thrift">thrift æ”¯æŒ</a>ï¼Œé¦–å…ˆå®‰è£…thriftå¹¶ä¸”æ·»åŠ é€‰é¡¹<code>--with-thrift</code>ã€‚</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">ls</span><span class="token plain"> my_dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gflags_dev protobuf_dev leveldb_dev krpc_dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> krpc_dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> config_krpc.sh </span><span class="token parameter variable" style="color:#E36209">--headers</span><span class="token operator" style="color:#D73A49">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">--libs</span><span class="token operator" style="color:#D73A49">=</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨cmakeç¼–è¯‘krpc-2">ä½¿ç”¨cmakeç¼–è¯‘krpc<a href="#ä½¿ç”¨cmakeç¼–è¯‘krpc-2" class="hash-link" aria-label="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc">â€‹</a></h4>
<p>å‚è€ƒ<a href="#%E4%BD%BF%E7%94%A8cmake%E7%BC%96%E8%AF%91krpc">è¿™é‡Œ</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="macos">MacOS<a href="#macos" class="hash-link" aria-label="Direct link to MacOS" title="Direct link to MacOS">â€‹</a></h3>
<p>æ³¨æ„ï¼šåœ¨ç›¸åŒç¡¬ä»¶æ¡ä»¶ä¸‹ï¼ŒMacOSç‰ˆkrpcçš„æ€§èƒ½å¯èƒ½æ˜æ˜¾å·®äºLinuxç‰ˆã€‚å¦‚æœä½ çš„æœåŠ¡æ˜¯æ€§èƒ½æ•æ„Ÿçš„ï¼Œè¯·ä¸è¦ä½¿ç”¨MacOSä½œä¸ºä½ çš„ç”Ÿäº§ç¯å¢ƒã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apple-silicon">Apple Silicon<a href="#apple-silicon" class="hash-link" aria-label="Direct link to Apple Silicon" title="Direct link to Apple Silicon">â€‹</a></h4>
<p>master HEADå·²æ”¯æŒM1ç³»åˆ—èŠ¯ç‰‡ï¼ŒM2æœªæµ‹è¯•è¿‡ã€‚æ¬¢è¿é€šè¿‡issueså‘æˆ‘ä»¬æŠ¥å‘Šé—ç•™çš„warning/errorã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä¾èµ–å‡†å¤‡-3">ä¾èµ–å‡†å¤‡<a href="#ä¾èµ–å‡†å¤‡-3" class="hash-link" aria-label="Direct link to ä¾èµ–å‡†å¤‡" title="Direct link to ä¾èµ–å‡†å¤‡">â€‹</a></h3>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> ./homebrew-formula/protobuf.rb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> openssl </span><span class="token function" style="color:#8250DF">git</span><span class="token plain"> gnu-getopt coreutils gflags leveldb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ è¦åœ¨æ ·ä¾‹ä¸­å¯ç”¨cpu/heapçš„profilerï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> gperftools</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœä½ è¦è¿è¡Œæµ‹è¯•ï¼Œéœ€å®‰è£…gtestã€‚å…ˆè¿è¡Œ<code>brew install googletest</code>çœ‹çœ‹homebrewæ˜¯å¦æ”¯æŒï¼ˆè€ç‰ˆæœ¬æ²¡æœ‰ï¼‰ï¼Œæ²¡æœ‰çš„è¯è¯·ä¸‹è½½å’Œç¼–è¯‘googletestï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">git</span><span class="token plain"> clone https://github.com/google/googletest </span><span class="token parameter variable" style="color:#E36209">-b</span><span class="token plain"> release-1.10.0 </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> googletest/googletest </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> build </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> cmake </span><span class="token parameter variable" style="color:#E36209">-DCMAKE_CXX_FLAGS</span><span class="token operator" style="color:#D73A49">=</span><span class="token string" style="color:#C6105F">&quot;-std=c++11&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨ç¼–è¯‘å®Œæˆåï¼Œå¤åˆ¶<code>include/</code>å’Œ<code>lib/</code>ç›®å½•åˆ°<code>/usr/local/include</code>å’Œ<code>/usr/local/lib</code>ç›®å½•ä¸­ï¼Œä»¥ä¾¿äºè®©æ‰€æœ‰åº”ç”¨éƒ½èƒ½ä½¿ç”¨gtestã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="openssl">OpenSSL<a href="#openssl" class="hash-link" aria-label="Direct link to OpenSSL" title="Direct link to OpenSSL">â€‹</a></h4>
<p>Montereyä¸­opensslçš„å®‰è£…ä½ç½®å¯èƒ½ä¸å†ä½äº<code>/usr/local/opt/openssl</code>ï¼Œå¾ˆå¯èƒ½ä¼šåœ¨<code>/opt/homebrew/Cellar</code>ç›®å½•ä¸‹ï¼Œå¦‚æœç¼–è¯‘æ—¶æŠ¥å‘Šæ‰¾ä¸åˆ°opensslï¼š</p>
<ul>
<li>å…ˆè¿è¡Œ<code>brew link openssl --force</code>çœ‹çœ‹<code>/usr/local/opt/openssl</code>æ˜¯å¦å‡ºç°äº†</li>
<li>æ²¡æœ‰çš„è¯å¯ä»¥è‡ªè¡Œè®¾ç½®è½¯é“¾ï¼š<code>sudo ln -s /opt/homebrew/Cellar/openssl@3/3.0.3 /usr/local/opt/openssl</code>ã€‚è¯·æ³¨æ„æ­¤å‘½ä»¤ä¸­opensslçš„ç›®å½•å¯èƒ½éšç¯å¢ƒå˜åŒ–è€Œå˜åŒ–ï¼Œå¯é€šè¿‡<code>brew info openssl</code>æŸ¥çœ‹ã€‚</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨config_krpcshç¼–è¯‘krpc-2">ä½¿ç”¨config_krpc.shç¼–è¯‘krpc<a href="#ä½¿ç”¨config_krpcshç¼–è¯‘krpc-2" class="hash-link" aria-label="Direct link to ä½¿ç”¨config_krpc.shç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨config_krpc.shç¼–è¯‘krpc">â€‹</a></h4>
<p>gitå…‹éš†krpcï¼Œè¿›å…¥åˆ°é¡¹ç›®ç›®å½•ç„¶åè¿è¡Œï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> config_krpc.sh </span><span class="token parameter variable" style="color:#E36209">--headers</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/usr/local/include </span><span class="token parameter variable" style="color:#E36209">--libs</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/usr/local/lib </span><span class="token parameter variable" style="color:#E36209">--cc</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">clang </span><span class="token parameter variable" style="color:#E36209">--cxx</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">clang++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>MacOS Montereyä¸‹çš„brewå®‰è£…è·¯å¾„å¯èƒ½æ”¹å˜ï¼Œå¦‚æœ‰è·¯å¾„ç›¸å…³çš„é”™è¯¯ï¼Œå¯è€ƒè™‘è®¾ç½®å¦‚ä¸‹ï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> config_krpc.sh </span><span class="token parameter variable" style="color:#E36209">--headers</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/opt/homebrew/include </span><span class="token parameter variable" style="color:#E36209">--libs</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/opt/homebrew/lib </span><span class="token parameter variable" style="color:#E36209">--cc</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">clang </span><span class="token parameter variable" style="color:#E36209">--cxx</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">clang++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸æƒ³é“¾æ¥è°ƒè¯•ç¬¦å·ï¼Œæ·»åŠ é€‰é¡¹<code>--nodebugsymbols</code>ï¼Œç„¶åç¼–è¯‘å°†ä¼šå¾—åˆ°æ›´è½»é‡çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨glogç‰ˆçš„krpcï¼Œæ·»åŠ é€‰é¡¹<code>--with-glog</code>ã€‚</p>
<p>è¦å¯ç”¨<a href="/docs/cpp/krpc/thrift">thrift æ”¯æŒ</a>ï¼Œé¦–å…ˆå®‰è£…thriftå¹¶ä¸”æ·»åŠ é€‰é¡¹<code>--with-thrift</code>ã€‚</p>
<p><strong>è¿è¡Œæ ·ä¾‹</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> example/echo_c++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_server </span><span class="token operator" style="color:#D73A49">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./echo_client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šè¿°æ“ä½œä¼šé“¾æ¥krpcçš„é™æ€åº“åˆ°æ ·ä¾‹ä¸­ï¼Œå¦‚æœä½ æƒ³é“¾æ¥krpcçš„å…±äº«åº“ï¼Œè¯·ä¾æ¬¡æ‰§è¡Œï¼š<code>make clean</code>å’Œ<code>LINK_SO=1 make</code></p>
<p><strong>è¿è¡Œæµ‹è¯•</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#116329">test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">sh</span><span class="token plain"> run_tests.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ä½¿ç”¨cmakeç¼–è¯‘krpc-3">ä½¿ç”¨cmakeç¼–è¯‘krpc<a href="#ä½¿ç”¨cmakeç¼–è¯‘krpc-3" class="hash-link" aria-label="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc" title="Direct link to ä½¿ç”¨cmakeç¼–è¯‘krpc">â€‹</a></h4>
<p>å‚è€ƒ<a href="#%E4%BD%BF%E7%94%A8cmake%E7%BC%96%E8%AF%91krpc">è¿™é‡Œ</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Direct link to Docker" title="Direct link to Docker">â€‹</a></h3>
<p>ä½¿ç”¨docker ç¼–è¯‘krpcï¼š</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:#E36209">-p</span><span class="token plain"> ~/krpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> ~/krpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">git</span><span class="token plain"> clone https://github.com/apache/krpc.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name" style="color:#116329">cd</span><span class="token plain"> krpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#E36209">-t</span><span class="token plain"> krpc:master </span><span class="token builtin class-name" style="color:#116329">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">docker</span><span class="token plain"> images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#8250DF">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#E36209">-it</span><span class="token plain"> krpc:master /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ”¯æŒçš„ä¾èµ–">æ”¯æŒçš„ä¾èµ–<a href="#æ”¯æŒçš„ä¾èµ–" class="hash-link" aria-label="Direct link to æ”¯æŒçš„ä¾èµ–" title="Direct link to æ”¯æŒçš„ä¾èµ–">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gcc-48-112">GCC: 4.8-11.2<a href="#gcc-48-112" class="hash-link" aria-label="Direct link to GCC: 4.8-11.2" title="Direct link to GCC: 4.8-11.2">â€‹</a></h3>
<p>c++11è¢«é»˜è®¤å¯ç”¨ï¼Œä»¥å»é™¤å»boostçš„ä¾èµ–ï¼ˆæ¯”å¦‚atomicï¼‰ã€‚</p>
<p>GCC7ä¸­over-alignedçš„é—®é¢˜æš‚æ—¶è¢«ç¦æ­¢ã€‚</p>
<p>ä½¿ç”¨å…¶ä»–ç‰ˆæœ¬çš„gccå¯èƒ½ä¼šäº§ç”Ÿç¼–è¯‘è­¦å‘Šï¼Œè¯·è”ç³»æˆ‘ä»¬äºˆä»¥ä¿®å¤ã€‚</p>
<p>è¯·åœ¨makefileä¸­ç»™cxxflagså¢åŠ <code>-D__const__=__unused__</code>é€‰  é¡¹ä»¥é¿å…<a href="/docs/cpp/krpc/thread_local">gcc4+ä¸­çš„errnoé—®é¢˜</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clang-35-40">Clang: 3.5-4.0<a href="#clang-35-40" class="hash-link" aria-label="Direct link to Clang: 3.5-4.0" title="Direct link to Clang: 3.5-4.0">â€‹</a></h3>
<p>æ— å·²çŸ¥é—®é¢˜ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="glibc-212-225">glibc: 2.12-2.25<a href="#glibc-212-225" class="hash-link" aria-label="Direct link to glibc: 2.12-2.25" title="Direct link to glibc: 2.12-2.25">â€‹</a></h3>
<p>æ— å·²çŸ¥é—®é¢˜ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protobuf-30-325">protobuf: 3.0-3.25<a href="#protobuf-30-325" class="hash-link" aria-label="Direct link to protobuf: 3.0-3.25" title="Direct link to protobuf: 3.0-3.25">â€‹</a></h3>
<p><a href="https://github.com/apache/krpc/releases/tag/1.8.0" target="_blank" rel="noopener noreferrer">1.8.0ç‰ˆæœ¬</a>ä¸­<a href="https://github.com/apache/krpc/pull/2406" target="_blank" rel="noopener noreferrer">#2406</a>å’Œ<a href="https://github.com/apache/krpc/pull/2493" target="_blank" rel="noopener noreferrer">#2493</a>å¼•å…¥äº†éƒ¨åˆ†proto3è¯­æ³•ï¼Œæ‰€ä»¥ç›®å‰kRPCä¸å†å…¼å®¹pb 2.xç‰ˆæœ¬ã€‚å¦‚æœä½ å¸Œæœ›ä½¿ç”¨pb 2.xç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨1.8.0ä¹‹å‰çš„kRPCç‰ˆæœ¬ã€‚</p>
<p>pb 3.xä¸­çš„Arenaè‡³ä»Šæ²¡è¢«æ”¯æŒã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gflags-20-221">gflags: 2.0-2.2.1<a href="#gflags-20-221" class="hash-link" aria-label="Direct link to gflags: 2.0-2.2.1" title="Direct link to gflags: 2.0-2.2.1">â€‹</a></h3>
<p>æ— å·²çŸ¥é—®é¢˜ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="openssl-097-11">openssl: 0.97-1.1<a href="#openssl-097-11" class="hash-link" aria-label="Direct link to openssl: 0.97-1.1" title="Direct link to openssl: 0.97-1.1">â€‹</a></h3>
<p>è¢«httpsåŠŸèƒ½éœ€è¦ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tcmalloc-17-25">tcmalloc: 1.7-2.5<a href="#tcmalloc-17-25" class="hash-link" aria-label="Direct link to tcmalloc: 1.7-2.5" title="Direct link to tcmalloc: 1.7-2.5">â€‹</a></h3>
<p>krpcé»˜è®¤<strong>ä¸</strong>é“¾æ¥ <a href="http://goog-perftools.sourceforge.net/doc/tcmalloc.html" target="_blank" rel="noopener noreferrer">tcmalloc</a>ã€‚ç”¨æˆ·æŒ‰éœ€è¦é“¾æ¥tcmallocã€‚</p>
<p>å’Œglibcå†…ç½®çš„ptmallocç›¸æ¯”ï¼Œtcmallocé€šå¸¸èƒ½æå‡æ€§èƒ½ã€‚ç„¶è€Œä¸åŒç‰ˆæœ¬çš„tcmallocå¯èƒ½è¡¨ç°è¿¥å¼‚ã€‚ä¾‹å¦‚ï¼štcmalloc 2.1ä¸ tcmalloc 1.7å’Œ2.5ç›¸æ¯”ï¼Œå¯èƒ½ä¼šè®©krpcçš„å¤šçº¿ç¨‹æ ·ä¾‹æ€§èƒ½æ˜¾è‘—æ¶åŒ–ï¼ˆtcmallocä¸­çš„ä¸€ä¸ªè‡ªæ—‹é”å¯¼è‡´çš„ï¼‰ã€‚ç”šè‡³ä¸åŒçš„å°ç‰ˆæœ¬å·ä¹‹é—´å˜ç°ä¹Ÿå¯èƒ½ä¸åŒã€‚å½“ä½ çš„ç¨‹åºè¡¨ç°ä¸ç¬¦åˆé¢„æœŸçš„æ—¶å€™ï¼Œç§»é™¤tcmallocç„¶åå°è¯•å…¶ä»–ç‰ˆæœ¬ã€‚</p>
<p>ç”¨gcc4.8.2ç¼–è¯‘ç„¶åé“¾æ¥æ›´æ—©ç‰ˆæœ¬GCCç¼–è¯‘çš„tcmallocï¼Œå¯èƒ½ä¼šè®©ç¨‹åºä¸­main()å‡½æ•°ä¹‹å‰æŒ‚æ‰æˆ–è€…æ­»é”ï¼Œä¾‹å¦‚ï¼š</p>
<!-- -->
<img src="[object Object]">
<p>å½“ä½ é‡åˆ°è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œè¯·ç”¨åŒä¸€ä¸ªGCCé‡æ–°ç¼–è¯‘tcmallocã€‚</p>
<p>å¦å¤–ä¸€ä¸ªä½¿ç”¨tcmallocçš„å¸¸è§é—®é¢˜æ˜¯ï¼Œå®ƒä¸ä¼šåƒ ptmallocä¸€æ ·åŠæ—¶åœ°å½’è¿˜å†…å­˜ç»™ç³»ç»Ÿã€‚å› æ­¤å½“æœ‰ä¸€ä¸ªæ— æ•ˆçš„å†…å­˜è®¿é—®çš„æ—¶å€™ï¼Œç¨‹åºå¯èƒ½ä¸ä¼šç›´æ¥æŒ‚æ‰ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å®ƒå¯èƒ½åœ¨ä¸€ä¸ªä¸ç›¸å…³çš„åœ°æ–¹æŒ‚æ‰ï¼Œæˆ–è€…ç”šè‡³ä¸€ç›´ä¸æŒ‚æ‰ã€‚å½“ä½ çš„ç¨‹åºå‡ºç°æ€ªå¼‚çš„å†…å­˜é—®é¢˜çš„æ—¶å€™ï¼Œå°è¯•ç§»é™¤tcmallocã€‚</p>
<p>å¦‚æœä½ è¦ä½¿ç”¨<a href="/docs/cpp/krpc/cpu_profiler">cpu profiler</a>æˆ–<a href="/docs/cpp/krpc/heap_profiler">heap profiler</a>ï¼Œè¦é“¾æ¥<code>libtcmalloc_and_profiler.a</code>ã€‚è¿™ä¸¤ä¸ª profileréƒ½æ˜¯åŸºäºtcmallocçš„ã€‚è€Œ<a href="/docs/cpp/krpc/contention_profiler">contention profiler</a>ä¸éœ€è¦tcmallocã€‚</p>
<p>å½“ä½ ç§»é™¤tcmallocçš„æ—¶å€™ï¼Œä¸ä»…è¦ç§»é™¤tcmallocçš„é“¾æ¥ï¼Œä¹Ÿè¦ç§»é™¤å®<code>-DKRPC_ENABLE_CPU_PROFILER</code>ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="glog-33">glog: 3.3+<a href="#glog-33" class="hash-link" aria-label="Direct link to glog: 3.3+" title="Direct link to glog: 3.3+">â€‹</a></h3>
<p>krpcå®ç°äº†ä¸€ä¸ªé»˜è®¤çš„ <code>æ—¥å¿—åŠŸèƒ½</code> å®ƒå’Œglogå†²çª  ã€‚è¦æ›¿æ¢æˆglogï¼Œå¯ä»¥ç»™config_krpc.shå¢åŠ *--with-glog*é€‰é¡¹æˆ–è€…ç»™cmakeå¢åŠ <code>-DWITH_GLOG=ON</code>é€‰é¡¹ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="valgrind-38">valgrind: 3.8+<a href="#valgrind-38" class="hash-link" aria-label="Direct link to valgrind: 3.8+" title="Direct link to valgrind: 3.8+">â€‹</a></h3>
<p>krpcä¼šè‡ªåŠ¨æ£€æµ‹valgrindï¼ˆç„¶åæ³¨å†Œkthreadçš„æ ˆï¼‰ã€‚ä¸æ”¯æŒè€ç‰ˆæœ¬çš„valgrindï¼ˆæ¯”å¦‚3.2ï¼‰ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="thrift-093-0110">thrift: 0.9.3-0.11.0<a href="#thrift-093-0110" class="hash-link" aria-label="Direct link to thrift: 0.9.3-0.11.0" title="Direct link to thrift: 0.9.3-0.11.0">â€‹</a></h3>
<p>æ— å·²çŸ¥é—®é¢˜ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å®ä¾‹è¿½è¸ª">å®ä¾‹è¿½è¸ª<a href="#å®ä¾‹è¿½è¸ª" class="hash-link" aria-label="Direct link to å®ä¾‹è¿½è¸ª" title="Direct link to å®ä¾‹è¿½è¸ª">â€‹</a></h2>
<p>æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç¨‹åºå»å¸®åŠ©ä½ è¿½è¸ªå’Œç›‘æ§æ‰€æœ‰krpcå®ä¾‹ã€‚ åªéœ€è¦åœ¨æŸå¤„è¿è¡Œ <a href="https://github.com/apache/krpc/tree/master/tools/trackme_server/" target="_blank" rel="noopener noreferrer">trackme_server</a> ç„¶åå†å¸¦ç€ -trackme_server=SERVERå‚æ•°å¯åŠ¨éœ€è¦è¢«è¿½è¸ªçš„å®ä¾‹ã€‚trackme_serverå°†ä»å®ä¾‹å‘¨æœŸæ€§åœ°æ”¶åˆ°pingæ¶ˆæ¯ç„¶åæ‰“å°æ—¥å¿—ã€‚æ‚¨å¯ä»¥ä»æ—¥å¿—ä¸­èšåˆå®ä¾‹åœ°å€ï¼Œå¹¶è°ƒç”¨å®ä¾‹çš„å†…ç½®æœåŠ¡ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/krpcæ•™ç¨‹"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">krpcæ•™ç¨‹</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/cpp/krpc/server"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">æœåŠ¡å¼€å‘</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#æ„å»º" class="table-of-contents__link toc-highlight">æ„å»º</a></li><li><a href="#æ”¯æŒçš„ç¯å¢ƒ" class="table-of-contents__link toc-highlight">æ”¯æŒçš„ç¯å¢ƒ</a><ul><li><a href="#ubuntulinuxmintwsl" class="table-of-contents__link toc-highlight">Ubuntu/LinuxMint/WSL</a></li></ul></li><li><a href="#fedoracentos" class="table-of-contents__link toc-highlight">Fedora/CentOS</a><ul><li><a href="#ä¾èµ–å‡†å¤‡-1" class="table-of-contents__link toc-highlight">ä¾èµ–å‡†å¤‡</a></li><li><a href="#construct-own-linux" class="table-of-contents__link toc-highlight">è‡ªå·±æ„å»ºä¾èµ–çš„Linux</a></li><li><a href="#macos" class="table-of-contents__link toc-highlight">MacOS</a></li><li><a href="#ä¾èµ–å‡†å¤‡-3" class="table-of-contents__link toc-highlight">ä¾èµ–å‡†å¤‡</a></li><li><a href="#docker" class="table-of-contents__link toc-highlight">Docker</a></li></ul></li><li><a href="#æ”¯æŒçš„ä¾èµ–" class="table-of-contents__link toc-highlight">æ”¯æŒçš„ä¾èµ–</a><ul><li><a href="#gcc-48-112" class="table-of-contents__link toc-highlight">GCC: 4.8-11.2</a></li><li><a href="#clang-35-40" class="table-of-contents__link toc-highlight">Clang: 3.5-4.0</a></li><li><a href="#glibc-212-225" class="table-of-contents__link toc-highlight">glibc: 2.12-2.25</a></li><li><a href="#protobuf-30-325" class="table-of-contents__link toc-highlight">protobuf: 3.0-3.25</a></li><li><a href="#gflags-20-221" class="table-of-contents__link toc-highlight">gflags: 2.0-2.2.1</a></li><li><a href="#openssl-097-11" class="table-of-contents__link toc-highlight">openssl: 0.97-1.1</a></li><li><a href="#tcmalloc-17-25" class="table-of-contents__link toc-highlight">tcmalloc: 1.7-2.5</a></li><li><a href="#glog-33" class="table-of-contents__link toc-highlight">glog: 3.3+</a></li><li><a href="#valgrind-38" class="table-of-contents__link toc-highlight">valgrind: 3.8+</a></li><li><a href="#thrift-093-0110" class="table-of-contents__link toc-highlight">thrift: 0.9.3-0.11.0</a></li></ul></li><li><a href="#å®ä¾‹è¿½è¸ª" class="table-of-contents__link toc-highlight">å®ä¾‹è¿½è¸ª</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">é˜…è¯»</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">æ–‡æ¡£</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">å®‰è£…</a></li></ul></div><div class="col footer__col"><div class="footer__title">æ”¯æŒä¸èµ„æº</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/feature-requests">Feature Requests</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community/support">Help</a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">åšå®¢</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">æ›´æ–°</a></li><li class="footer__item"><a href="https://gitee.com/kumo-pub" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://kumo-ai.tech" target="_blank" rel="noopener noreferrer" class="footer__link-item">ç½‘ç«™<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ç‰ˆæƒ Â© 2025 åŒ—äº¬ç§‘ç±³æ™ºåˆ›ç§‘æŠ€æœ‰é™å…¬å¸</div></div></div></footer></div>
</body>
</html>