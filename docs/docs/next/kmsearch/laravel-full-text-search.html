<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-kmsearch/laravel-full-text-search" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Laravel Full-Text Search | Kumo AI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kumo-pub.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kumo-pub.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://kumo-pub.github.io/docs/next/kmsearch/laravel-full-text-search"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Laravel Full-Text Search | Kumo AI"><meta data-rh="true" name="description" content="Laravel Scout is a powerful package that provides a simple, driver-based solution for adding full-text search to Laravel Eloquent ORM models."><meta data-rh="true" property="og:description" content="Laravel Scout is a powerful package that provides a simple, driver-based solution for adding full-text search to Laravel Eloquent ORM models."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://kumo-pub.github.io/docs/next/kmsearch/laravel-full-text-search"><link data-rh="true" rel="alternate" href="https://kumo-pub.github.io/docs/next/kmsearch/laravel-full-text-search" hreflang="en"><link data-rh="true" rel="alternate" href="https://kumo-pub.github.io/docs/next/kmsearch/laravel-full-text-search" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kumo AI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kumo AI Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Kumo AI JSON Feed">


<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E5CR2Q1NRE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E5CR2Q1NRE",{})</script>


<link rel="alternate" type="application/rss+xml" href="/changelog/rss.xml" title="Docusaurus changelog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/changelog/atom.xml" title="Docusaurus changelog Atom Feed">
<link rel="alternate" type="application/json" href="/changelog/feed.json" title="Docusaurus changelog JSON Feed">



<link rel="icon" href="/img/docusaurus.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/docusaurus.png">
<link rel="mask-icon" href="/img/docusaurus.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/img/docusaurus.png">
<meta name="msapplication-TileColor" content="#000">



<link rel="alternate" type="application/rss+xml" href="/tests/blog/rss.xml" title="Docusaurus Tests Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tests/blog/atom.xml" title="Docusaurus Tests Blog Atom Feed">
<link rel="alternate" type="application/json" href="/tests/blog/feed.json" title="Docusaurus Tests Blog JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Kumo AI" href="/opensearch.xml">

<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.21fbef88.css">
<script src="/assets/js/runtime~main.4a84cfb3.js" defer="defer"></script>
<script src="/assets/js/main.fbc4aaaa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme-b4f")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss-b4f")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">🎉️ <b><a target="_blank" href="https://docusaurus.io/blog/releases/1.1">Kumo v1.1</a> is out!</b> 🥳️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kumo_logo.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE" height="48" width="128"><img src="/img/kumo_logo_white.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="48" width="128"></div><b class="navbar__title text--truncate">主页</b></a><a class="navbar__item navbar__link" href="/docs/next">文档</a><a class="navbar__item navbar__link" href="/docs/next/category/kmsearch">API</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/changelog">发布</a><a class="navbar__item navbar__link" href="/showcase">应用案例</a><a class="navbar__item navbar__link" href="/community/support">支持与资源</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/kmsearch/laravel-full-text-search">nightly 🚧</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/kmsearch/laravel-full-text-search">nightly 🚧</a></li><li><a class="dropdown__link" href="/docs/kmsearch/laravel-full-text-search">1.1.1</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>Archived versions</b></li><li><a href="https://docusaurus-archive-october-2023.netlify.app/docs/2.3.1" target="_blank" rel="noopener noreferrer" class="dropdown__link">1.0.1<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://v1.docusaurus.io" target="_blank" rel="noopener noreferrer" class="dropdown__link">1.x.x<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/next/kmsearch/laravel-full-text-search" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://github.com/facebook/docusaurus/issues/3526" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Kumo AI<!-- --> <b>nightly 🚧</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/kmsearch/laravel-full-text-search">latest version</a></b> (<!-- -->1.1.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: nightly 🚧</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Laravel Full-Text Search</h1></header>
<p><a href="https://laravel.com/docs/11.x/scout" target="_blank" rel="noopener noreferrer">Laravel Scout</a> is a powerful package that provides a simple, driver-based solution for adding full-text search to <a href="https://laravel.com/docs/11.x/eloquent" target="_blank" rel="noopener noreferrer">Laravel Eloquent</a> ORM models.</p>
<p>Laravel Scout has native support for kumosearch and this guide will focus on how to add the Laravel Scout kumosearch Driver to an existing Laravel project in order to add full-text search to your Laravel application.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>This guide will use <a href="https://laravel.com/docs/11.x/sail" target="_blank" rel="noopener noreferrer">Laravel Sail</a>, a CLI that enables you to run Laravel applications using Docker.</p>
<p>Please ensure that you have Docker installed on your machine before proceeding. You can install Docker by following the instructions on the <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">official Docker website</a>.</p>
<p>To create a new Laravel project using Laravel Sail, you can follow the instructions in the <a href="https://laravel.com/docs/11.x/installation#docker-installation-using-sail" target="_blank" rel="noopener noreferrer">official Laravel documentation</a>.</p>
<p>This guide will use a Linux environment, but you can adapt the commands to your operating system.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1-create-a-new-laravel-project-using-laravel-sail">Step 1: Create a New Laravel Project Using Laravel Sail<a href="#step-1-create-a-new-laravel-project-using-laravel-sail" class="hash-link" aria-label="Direct link to Step 1: Create a New Laravel Project Using Laravel Sail" title="Direct link to Step 1: Create a New Laravel Project Using Laravel Sail">​</a></h2>
<p>Laravel Sail by default uses a <a href="https://laravel.com/docs/11.x/installation#choosing-your-sail-services" target="_blank" rel="noopener noreferrer">set of default services</a>, if the user doesn&#x27;t specify any specific services. For this guide, we will use the PostgreSQL database service. This command is used to create a new Laravel project using Laravel Sail:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>This command will create a new Laravel project named <code>kumosearch-scout-example</code> with the PostgreSQL service enabled. You can then navigate to the project directory:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>Start the Laravel Sail Docker containers:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>And apply the User model migrations:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>You can now access the Laravel application by visiting <code>http://localhost</code> in your browser.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2-install-the-laravel-scout-kumosearch-driver">Step 2: Install the Laravel Scout kumosearch Driver<a href="#step-2-install-the-laravel-scout-kumosearch-driver" class="hash-link" aria-label="Direct link to Step 2: Install the Laravel Scout kumosearch Driver" title="Direct link to Step 2: Install the Laravel Scout kumosearch Driver">​</a></h2>
<p>To install the Laravel Scout kumosearch Driver, let&#x27;s add the package to your Laravel project. You can do this by running the following command:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>And then selecting the <code>kumosearch</code> driver from the list.</p>
<p>NOTE: The default kumosearch in Laravel Scout version is <code>0.25.2</code>. If you want to use the latest version, you can specify it in the <code>docker-compose.yml</code> file. For example, to use version <code>1.0.8</code>, you can add the following line to the <code>docker-compose.yml</code> file:</p>
<tabs :tabs="[&#x27;yml&#x27;]">
<template v-slot:yml=""></template>
</tabs>
<p>In order for the changes to take effect, let&#x27;s rebuild the Docker containers:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-3-install-and-configure-laravel-scout">Step 3: Install and Configure Laravel Scout<a href="#step-3-install-and-configure-laravel-scout" class="hash-link" aria-label="Direct link to Step 3: Install and Configure Laravel Scout" title="Direct link to Step 3: Install and Configure Laravel Scout">​</a></h2>
<p>As per <a href="https://laravel.com/docs/11.x/sail#executing-composer-commands" target="_blank" rel="noopener noreferrer">Laravel Sail&#x27;s documentation</a>, to install Laravel Scout via Composer, let&#x27;s run the following command:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>You&#x27;ll also need to install the <a href="https://github.com/kumosearch/kumosearch-php" target="_blank" rel="noopener noreferrer">Official PHP client for the kumosearch API</a> by running the following command:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>Next, let&#x27;s publish the Laravel Scout configuration file:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>And configure Laravel Scout to use the kumosearch driver by modifying the <code>config/scout.php</code> file:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configure-queueing-optional">Configure Queueing (Optional)<a href="#configure-queueing-optional" class="hash-link" aria-label="Direct link to Configure Queueing (Optional)" title="Direct link to Configure Queueing (Optional)">​</a></h3>
<p>While not required, you can configure Laravel Scout to handle indexing and searching using <a href="https://laravel.com/docs/11.x/scout#queueing" target="_blank" rel="noopener noreferrer">queues</a>. For this guide, we&#x27;ll use the <code>database</code> queue driver, but you can use a plethora of different drivers mentioned in the <a href="https://laravel.com/docs/11.x/queues#driver-prerequisites" target="_blank" rel="noopener noreferrer">official Laravel documentation</a>. To configure the <code>database</code> queue driver, let&#x27;s ensure that the database includes a table for the jobs by running the following commands:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>Next, let&#x27;s configure the <code>SCOUT_CONNECTION</code> environment variable in the <code>.env</code> file to use the <code>database</code> queue driver:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>And finally, let&#x27;s configure the <code>config/scout.php</code> file to use the <code>database</code> queue driver:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<p>You can then run the queue worker to start processing the queued jobs:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>This will start the queue worker in the background, processing the queued jobs. For more info regarding queue workers and their benefits, you can refer to the <a href="https://laravel.com/docs/11.x/queues" target="_blank" rel="noopener noreferrer">official Laravel documentation</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-4-create-a-model-and-migrate-data">Step 4: Create a Model and Migrate Data<a href="#step-4-create-a-model-and-migrate-data" class="hash-link" aria-label="Direct link to Step 4: Create a Model and Migrate Data" title="Direct link to Step 4: Create a Model and Migrate Data">​</a></h2>
<p>Next, let&#x27;s add some data to the PostgreSQL database. You can use any dataset you want, but this guide will use Terenci Claramunt&#x27;s (<a href="https://github.com/terencicp" target="_blank" rel="noopener noreferrer">@terencicp</a>) public dataset of Steam Games released from 2013 to 2023, which you can find <a href="https://github.com/kumosearch/showcase-laravel-steam-games-search/blob/master/data/games.csv" target="_blank" rel="noopener noreferrer">here</a>, and save it in the <code>data</code> folder.
To use it, you&#x27;ll have to create an Eloquent model for the Steam Games, and create a migration file, along with a model file and a controller. To do so, let&#x27;s use the following command:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>This command will create a new Eloquent model named <code>Game</code>, along with a migration file and a resource controller. Let&#x27;s now modify the model file <code>app/Models/Game.php</code> to include the necessary columns for the Steam Games dataset:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<p>And modify the migration file <code>database/migrations/**timestamp**_create_games_table.php</code> to include the necessary columns for the Steam Games dataset:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<p>You can then run the migration to create the <code>games</code> table in the PostgreSQL database:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>We&#x27;ve created a <a href="https://github.com/kumosearch/showcase-laravel-steam-games-search/blob/master/scripts/sourcedb.sh" target="_blank" rel="noopener noreferrer">simple bash script</a> to load all the data into the PostgreSQL database. You can add the script in the <code>scripts</code> folder and run it in the terminal to populate the <code>games</code> table with the Steam Games dataset.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-5-index-the-data-using-laravel-scout">Step 5: Index the Data Using Laravel Scout<a href="#step-5-index-the-data-using-laravel-scout" class="hash-link" aria-label="Direct link to Step 5: Index the Data Using Laravel Scout" title="Direct link to Step 5: Index the Data Using Laravel Scout">​</a></h2>
<p>To index the data using Laravel Scout, let&#x27;s add the <code>Searchable</code> trait to the <code>Game</code> model, and create a <code>toSearchableArray</code> method that returns the indexable data array for the model. This is required only for Models that have a different schema in the database than in kumosearch, e.g. Models that include Dates. You can modify the <code>app/Models/Game.php</code> file as follows:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<p>And then define the <routerlink :to="`/${$site.themeConfig.kumoLatestVersion}/api/kmsearch/collections.mdx#with-pre-defined-schema`">Collection Schema</routerlink> in the <code>config/scout.php</code> file:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<p>After setting up the Laravel Scout Driver, all subsequent model changes will be <strong>automatically synced</strong> with kumosearch, using the <a href="https://github.com/laravel/scout/blob/10.x/src/ModelObserver.php" target="_blank" rel="noopener noreferrer">Model Observer</a> provided by Laravel Scout.</p>
<p>To verify that it&#x27;s working, let&#x27;s create a new record in the <code>Games</code> table. We&#x27;ll be using <a href="https://github.com/laravel/tinker" target="_blank" rel="noopener noreferrer">Laravel Tinker</a>, a REPL enabling us to write and execute PHP code interactively. You can run the following command to open Laravel Tinker:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>And then create a new record in the <code>Games</code> table:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<p>You can then run a search query to verify that the record has been indexed in kumosearch:</p>
<tabs :tabs="[&#x27;PHP&#x27;, &#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
<template v-slot:php=""></template>
</tabs>
<p>You should see the record you created in the search results.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dynamic-search-parameters">Dynamic Search Parameters<a href="#dynamic-search-parameters" class="hash-link" aria-label="Direct link to Dynamic Search Parameters" title="Direct link to Dynamic Search Parameters">​</a></h3>
<p>You can also set <routerlink :to="`/${$site.themeConfig.kumoLatestVersion}/api/kmsearch/documents.mdx#search-parameter`">search parameters</routerlink> for searching through your collections on the fly. For example, you can set the <code>query_by</code> parameter to search by a game&#x27;s Steam App ID only:</p>
<tabs :tabs="[&#x27;PHP&#x27;]">
<template v-slot:php=""></template>
</tabs>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-6-backfill-existing-data">Step 6: Backfill Existing Data<a href="#step-6-backfill-existing-data" class="hash-link" aria-label="Direct link to Step 6: Backfill Existing Data" title="Direct link to Step 6: Backfill Existing Data">​</a></h2>
<p>Our setup so far will cause data changes to be auto-synced into kumosearch for any changes <em>going forward</em>.</p>
<p>To backfill your existing data in your tables into kumosearch, you can run this command:</p>
<tabs :tabs="[&#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
</tabs>
<p>To test that everything is working correctly, you can run a search query:</p>
<tabs :tabs="[&#x27;PHP&#x27;, &#x27;Shell&#x27;]">
<template v-slot:shell=""></template>
<template v-slot:php=""></template>
</tabs>
<p>You can then proceed as you prefer. You can create a controller to handle the search requests, or use the <a href="https://github.com/kumosearch/kumosearch-instantsearch-adapter" target="_blank" rel="noopener noreferrer">kumosearch InstantSearch Adapter</a> to use Instantsearch.js on your frontend. If you prefer using a Javascript framework, you can use <a href="https://inertiajs.com/" target="_blank" rel="noopener noreferrer">Inertia.js</a> to create a Vue.js, Svelte or React.js frontend.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h2>
<p>This <a href="https://github.com/kumosearch/showcase-laravel-steam-games-search/tree/master" target="_blank" rel="noopener noreferrer">Demo Laravel app</a> uses a React Typescript frontend with the kumosearch InstantSearch Adapter, and uses Laravel Scout to sync the data from Postgres to kumosearch.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-05-24T10:16:12.000Z" itemprop="dateModified">May 24, 2025</time></b> by <b>Jeff lothar</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#step-1-create-a-new-laravel-project-using-laravel-sail" class="table-of-contents__link toc-highlight">Step 1: Create a New Laravel Project Using Laravel Sail</a></li><li><a href="#step-2-install-the-laravel-scout-kumosearch-driver" class="table-of-contents__link toc-highlight">Step 2: Install the Laravel Scout kumosearch Driver</a></li><li><a href="#step-3-install-and-configure-laravel-scout" class="table-of-contents__link toc-highlight">Step 3: Install and Configure Laravel Scout</a><ul><li><a href="#configure-queueing-optional" class="table-of-contents__link toc-highlight">Configure Queueing (Optional)</a></li></ul></li><li><a href="#step-4-create-a-model-and-migrate-data" class="table-of-contents__link toc-highlight">Step 4: Create a Model and Migrate Data</a></li><li><a href="#step-5-index-the-data-using-laravel-scout" class="table-of-contents__link toc-highlight">Step 5: Index the Data Using Laravel Scout</a><ul><li><a href="#dynamic-search-parameters" class="table-of-contents__link toc-highlight">Dynamic Search Parameters</a></li></ul></li><li><a href="#step-6-backfill-existing-data" class="table-of-contents__link toc-highlight">Step 6: Backfill Existing Data</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">阅读</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">文档</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">安装</a></li></ul></div><div class="col footer__col"><div class="footer__title">支持与资源</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/feature-requests">Feature Requests</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community/support">Help</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">更新</a></li><li class="footer__item"><a href="https://gitee.com/kumo-pub" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://kumo-ai.tech" target="_blank" rel="noopener noreferrer" class="footer__link-item">网站<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">版权 © 2025 北京科米智创科技有限公司</div></div></div></footer></div>
</body>
</html>