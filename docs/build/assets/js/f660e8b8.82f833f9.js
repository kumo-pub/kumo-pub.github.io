(self.webpackChunkkumo_website=self.webpackChunkkumo_website||[]).push([[71692],{22373:(e,n,d)=>{e.exports={src:{srcSet:d.p+"assets/ideal-img/join.687999c.640.png 640w,"+d.p+"assets/ideal-img/join.a397af2.1030.png 1030w",images:[{path:d.p+"assets/ideal-img/join.687999c.640.png",width:640,height:443},{path:d.p+"assets/ideal-img/join.a397af2.1030.png",width:1030,height:713}],src:d.p+"assets/ideal-img/join.687999c.640.png",toString:function(){return d.p+"assets/ideal-img/join.687999c.640.png"},placeholder:void 0,width:640,height:443},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4UlEQVR4nFWPzU/CQBTE96/Xq1704kGaePBCgjHxixAOaIwgAtom1M8C1iII2KVdUrv9mV2jiXOZlzeT92aEF1RJVzEGRaEtv84faLiHxJ8SrQujIC6eN5GrsTXoIrd8M6hR7myQpAtStbQ70R44TGSfWIVIuSRTGu/tkmOvRDT1eYm6LJIIcR3scv9+SnvooNQXeQa9UYOD3pa9VOvvc3S3Yy6WeJrUccOyFQxuw3Mq3R/jietQ6Wwj6v6afWsi/2ZsBWfsXa3beS6nzOIxYjRrkuXJv9bDD5/mY/XvgynzDQRyAM8ipxw2AAAAAElFTkSuQmCC"}},72395:(e,n,d)=>{e.exports={src:{srcSet:d.p+"assets/ideal-img/local-exchange-1-to-N.9a8ff32.640.png 640w,"+d.p+"assets/ideal-img/local-exchange-1-to-N.9f7d579.1030.png 1030w",images:[{path:d.p+"assets/ideal-img/local-exchange-1-to-N.9a8ff32.640.png",width:640,height:669},{path:d.p+"assets/ideal-img/local-exchange-1-to-N.9f7d579.1030.png",width:1030,height:1077}],src:d.p+"assets/ideal-img/local-exchange-1-to-N.9a8ff32.640.png",toString:function(){return d.p+"assets/ideal-img/local-exchange-1-to-N.9a8ff32.640.png"},placeholder:void 0,width:640,height:669},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAABYlAAAWJQFJUiTwAAABIklEQVR4nF2Qy0rDUBRF77/5Df6CFARBHItOHImIIjgQnIlOJFCoEzOoihYr0VaMRmvpw1qTJm2tSS1pHktuQiu6Z4ezzt6bI+I4Io5jfN/H8zy8oYfUi6VxVc2SLe+iNVQE/yQPpZTSDtv5BQ6Ka2iNU0S5dYT1pU8h6S51fLfFZn6ejdMM6tMh4ryyzlv/mnAMHdvG94MENN41ilWVmnmP+91HBNEocQrGIYOBy4fpYPYq1OwL6s4lfuAmh0JvK9iukQxhFOC5Qz6HbZrdIq3eLUE4SkGllMEwc8kQRWmsNWiwX1il7jxOuwulNMezdTJ1lGr2DFZysxjmTWogwdzDEq8d9Q9Yd3QWlRn0duEXlMvJ7yavkdF7Z8s0u2l3Gf0DuAVuns8jV60AAAAASUVORK5CYII="}},23049:(e,n,d)=>{e.exports={src:{srcSet:d.p+"assets/ideal-img/local-exchange-N-to-1.1631842.640.png 640w,"+d.p+"assets/ideal-img/local-exchange-N-to-1.63f1fcd.1030.png 1030w",images:[{path:d.p+"assets/ideal-img/local-exchange-N-to-1.1631842.640.png",width:640,height:490},{path:d.p+"assets/ideal-img/local-exchange-N-to-1.63f1fcd.1030.png",width:1030,height:789}],src:d.p+"assets/ideal-img/local-exchange-N-to-1.1631842.640.png",toString:function(){return d.p+"assets/ideal-img/local-exchange-N-to-1.1631842.640.png"},placeholder:void 0,width:640,height:490},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5UlEQVR4nFWPQUvDQBCF93cLCp48eKwHRRGlIHjpocVDqUpBsYWiiKG2itEgzcUmDY3bbbps9pNuIjRzGXjvm3kzgrK01sRxTBiGSCn/ZWSWMFcRIojuWOrEiRZb2ha1VKh0RevliPP+LqIz2iaWvrON0VhbwOliSvjj0fQOOe3tIHqfByTqm980YxrNMMZy5R1zM6oDGU9Bl/u3JmIQnDBXE7clt/k6lc64zoPf2jjHIrrve8wWX4VYxjaea9yOL4phcgeL9usWkfwowdz1y8d92sOzyoNivU0bVREH/jXDSb8C/gGeHymLhnbP9wAAAABJRU5ErkJggg=="}},94596:(e,n,d)=>{e.exports={src:{srcSet:d.p+"assets/ideal-img/local-exchange.f31a0f5.640.png 640w,"+d.p+"assets/ideal-img/local-exchange.94469ae.1030.png 1030w",images:[{path:d.p+"assets/ideal-img/local-exchange.f31a0f5.640.png",width:640,height:592},{path:d.p+"assets/ideal-img/local-exchange.94469ae.1030.png",width:1030,height:953}],src:d.p+"assets/ideal-img/local-exchange.f31a0f5.640.png",toString:function(){return d.p+"assets/ideal-img/local-exchange.f31a0f5.640.png"},placeholder:void 0,width:640,height:592},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGElEQVR4nFWQS0tCUQCEzw/tD7RpXYsyaBNBLsIIFSooAt1YENRCJTXLJB8Z0dXsofnKMm+lnHv1HL/oFpWzmVl8DMMI/mk0Go35YGjhTU6TKIcQhXqA5w/jB9BjoDXosxKbIloMIOI3S9S651gSGs0W0rKRUvJYr9A2y/jisyRKIcTprYfqa4qhsrFsiVLfrT3ZodbNoJVGqSEiW92ibuaIGPNO85euW2nCxjYDJbFV35kgYqVFKp0T0g9+mm+XDhgxdnBHJ1FqQDDrJphZRoQNF3cvR5zdr9EwCw54XA7hS86gtWI3v0oo70E0zQt6VtsB9Eg5fni1ycLBBGjNRsrFemoO8feh/r2l896k8lR08l7Oy37ezyefBURDwx8UggAAAABJRU5ErkJggg=="}},97295:(e,n,d)=>{e.exports={src:{srcSet:d.p+"assets/ideal-img/local-planner.41318ea.640.png 640w,"+d.p+"assets/ideal-img/local-planner.2963916.1030.png 1030w",images:[{path:d.p+"assets/ideal-img/local-planner.41318ea.640.png",width:640,height:513},{path:d.p+"assets/ideal-img/local-planner.2963916.1030.png",width:1030,height:825}],src:d.p+"assets/ideal-img/local-planner.41318ea.640.png",toString:function(){return d.p+"assets/ideal-img/local-planner.41318ea.640.png"},placeholder:void 0,width:640,height:513},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9UlEQVR4nGWQ70vCcBCH98/3ohfVi3ohERnhGwsiqEAYmZlJmKHbaJItba7mFiO3lbH264l9rQj6wMF9jueOu5OGVpvZm0OhPM9FFHKDR27uG3ieRxRFSE1jGSdUv8FMRKGr0QmV6yWyLBFeao82sANFmCxPiZNPkfesOgfKOmkaL8CuuY3tK3TMEl5o4r688jGPUZ7OkQe7nN1Vqek7SJ3xJrbfp2WsMJtboltMnNSp3ZaRBxWOtFIBbjH1VbTnPd4j9xfsWw1qepmL4SGnehWp9bCKE2j/julOZPZ7ayQ/O469JmE0/QMu3mO4KpfDY3F1UfkCb2kkB1QR6hcAAAAASUVORK5CYII="}},94485:(e,n,d)=>{"use strict";d.r(n),d.d(n,{assets:()=>m,contentTitle:()=>g,default:()=>b,frontMatter:()=>u,metadata:()=>N,toc:()=>A});var r=d(74848),s=d(28453),l=d(97295),i=d.n(l),t=d(22373),c=d.n(t),h=d(23049),o=d.n(h),x=d(72395),j=d.n(x),a=d(94596),p=d.n(a);const u={},g="Plan Nodes and Operators",N={id:"pollux/develop/operators",title:"Plan Nodes and Operators",description:"Pollux \u67e5\u8be2\u8ba1\u5212\u662f\u7531 PlanNode \u7ec4\u6210\u7684\u6811\u72b6\u7ed3\u6784\u3002\u6bcf\u4e2a PlanNode \u90fd\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u5b50 PlanNode\u3002\u4e3a\u4e86\u6267\u884c\u67e5\u8be2\u8ba1\u5212\uff0cPollux \u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a\u4e00\u7ec4\u7ba1\u9053\u3002",source:"@site/versioned_docs/version-1.1.1/pollux/develop/operators.mdx",sourceDirName:"pollux/develop",slug:"/pollux/develop/operators",permalink:"/docs/pollux/develop/operators",draft:!1,unlisted:!1,tags:[],version:"1.1.1",lastUpdatedBy:"Jeff lothar",lastUpdatedAt:1748143706e3,frontMatter:{},sidebar:"docs",previous:{title:"Anti joins",permalink:"/docs/pollux/develop/anti-join"},next:{title:"What's in the Task?",permalink:"/docs/pollux/develop/task"}},m={},A=[{value:"Plan Nodes",id:"plan-nodes",level:2},{value:"TableScanNode",id:"tablescannode",level:3},{value:"ArrowStreamNode",id:"arrowstreamnode",level:3},{value:"FilterNode",id:"filternode",level:3},{value:"ProjectNode",id:"projectnode",level:3},{value:"AggregationNode",id:"aggregationnode",level:3},{value:"ExpandNode",id:"expandnode",level:3},{value:"GroupIdNode",id:"groupidnode",level:3},{value:"HashJoinNode and MergeJoinNode",id:"hashjoinnode-and-mergejoinnode",level:3},{value:"NestedLoopJoinNode",id:"nestedloopjoinnode",level:3},{value:"OrderByNode",id:"orderbynode",level:3},{value:"TopNNode",id:"topnnode",level:3},{value:"LimitNode",id:"limitnode",level:3},{value:"UnnestNode",id:"unnestnode",level:3},{value:"TableWriteNode",id:"tablewritenode",level:3},{value:"TableWriteMergeNode",id:"tablewritemergenode",level:3},{value:"PartitionedOutputNode",id:"partitionedoutputnode",level:3},{value:"ValuesNode",id:"valuesnode",level:3},{value:"ExchangeNode",id:"exchangenode",level:3},{value:"MergeExchangeNode",id:"mergeexchangenode",level:3},{value:"LocalMergeNode",id:"localmergenode",level:3},{value:"LocalPartitionNode",id:"localpartitionnode",level:3},{value:"EnforceSingleRowNode",id:"enforcesinglerownode",level:3},{value:"AssignUniqueIdNode",id:"assignuniqueidnode",level:3},{value:"WindowNode",id:"windownode",level:3},{value:"RowNumberNode",id:"rownumbernode",level:3},{value:"TopNRowNumberNode",id:"topnrownumbernode",level:3},{value:"MarkDistinctNode",id:"markdistinctnode",level:3},{value:"Examples",id:"examples",level:2},{value:"Join",id:"join",level:3},{value:"Local Exchange",id:"local-exchange",level:3}];function y(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"plan-nodes-and-operators",children:"Plan Nodes and Operators"})}),"\n",(0,r.jsx)(n.p,{children:"Pollux \u67e5\u8be2\u8ba1\u5212\u662f\u7531 PlanNode \u7ec4\u6210\u7684\u6811\u72b6\u7ed3\u6784\u3002\u6bcf\u4e2a PlanNode \u90fd\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u5b50 PlanNode\u3002\u4e3a\u4e86\u6267\u884c\u67e5\u8be2\u8ba1\u5212\uff0cPollux \u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a\u4e00\u7ec4\u7ba1\u9053\u3002\n\u6bcf\u4e2a\u7ba1\u9053\u7531\u4e00\u7cfb\u5217\u7ebf\u6027\u8fd0\u7b97\u7b26\u7ec4\u6210\uff0c\u8fd9\u4e9b\u8fd0\u7b97\u7b26\u5bf9\u5e94\u4e8e\u8ba1\u5212\u7684\u4e00\u4e2a\n\u7ebf\u6027\u5b50\u6811\u3002\u901a\u8fc7\u5c06\u6bcf\u4e2a\u5177\u6709\u4e24\u4e2a\u6216\u591a\u4e2a\u5b50\u8282\u70b9\u7684\u8282\u70b9\u4e0e\u6240\u6709\u5b50\u8282\u70b9\u65ad\u5f00\u8fde\u63a5\uff0c\u5c06\u8ba1\u5212\u6811\u5206\u89e3\u4e3a\u4e00\u7ec4\u7ebf\u6027\u5b50\u6811\u3002"}),"\n","\n",(0,r.jsx)("img",{width:"400",align:"center",src:i()}),"\n",(0,r.jsx)(n.p,{children:"\u8ba1\u5212\u8282\u70b9\u5230\u8fd0\u7b97\u7b26\u7684\u8f6c\u6362\u5927\u591a\u662f\u4e00\u5bf9\u4e00\u7684\u3002\u4ee5\u4e0b\u60c5\u51b5\u9664\u5916\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8fc7\u6ee4\u8282\u70b9\u540e\u8ddf\u9879\u76ee\u8282\u70b9\u65f6\uff0c\u4f1a\u8f6c\u6362\u4e3a\u5355\u4e2a\u8fd0\u7b97\u7b26 FilterProject"}),"\n",(0,r.jsx)(n.li,{children:"\u5177\u6709\u4e24\u4e2a\u6216\u591a\u4e2a\u5b50\u8282\u70b9\u7684\u8282\u70b9\u4f1a\u8f6c\u6362\u4e3a\u591a\u4e2a\u8fd0\u7b97\u7b26\uff0c\u4f8b\u5982 HashJoin \u8282\u70b9\u4f1a\u8f6c\u6362\u4e3a\u4e00\u5bf9\u8fd0\u7b97\u7b26\uff1aHashProbe \u548c HashBuild\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4e0e\u53f6\u8282\u70b9\u5bf9\u5e94\u7684\u8fd0\u7b97\u7b26\u79f0\u4e3a\u6e90\u8fd0\u7b97\u7b26\u3002\u53ea\u6709\u4e00\u90e8\u5206\u8ba1\u5212\u8282\u70b9\u53ef\u4ee5\u4f4d\u4e8e\u8ba1\u5212\u6811\u7684\u53f6\u5b50\u8282\u70b9\u4e0a\u3002\u8fd9\u4e9b\u8282\u70b9\u5305\u62ec\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"TableScanNode"}),"\n",(0,r.jsx)(n.li,{children:"ValuesNode"}),"\n",(0,r.jsx)(n.li,{children:"ExchangeNode"}),"\n",(0,r.jsx)(n.li,{children:"MergeExchangeNode"}),"\n",(0,r.jsx)(n.li,{children:"ArrowStreamNode"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u53d7\u652f\u6301\u7684\u8ba1\u5212\u8282\u70b9\u548c\u76f8\u5e94\u64cd\u4f5c\u7b26\u7684\u5217\u8868\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Plan Node"}),(0,r.jsx)(n.th,{children:"Operator(s)"}),(0,r.jsx)(n.th,{children:"Leaf Node / Source Operator"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TableScanNode"}),(0,r.jsx)(n.td,{children:"TableScan"}),(0,r.jsx)(n.td,{children:"Y"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ArrowStreamNode"}),(0,r.jsx)(n.td,{children:"ArrowStream"}),(0,r.jsx)(n.td,{children:"Y"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FilterNode"}),(0,r.jsx)(n.td,{children:"FilterProject"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ProjectNode"}),(0,r.jsx)(n.td,{children:"FilterProject"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AggregationNode"}),(0,r.jsx)(n.td,{children:"HashAggregation or StreamingAggregation"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GroupIdNode"}),(0,r.jsx)(n.td,{children:"GroupId"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MarkDistinctNode"}),(0,r.jsx)(n.td,{children:"MarkDistinct"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"HashJoinNode"}),(0,r.jsx)(n.td,{children:"HashProbe and HashBuild"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MergeJoinNode"}),(0,r.jsx)(n.td,{children:"MergeJoin"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"NestedLoopJoinNode"}),(0,r.jsx)(n.td,{children:"NestedLoopJoinProbe and NestedLoopJoinBuild"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OrderByNode"}),(0,r.jsx)(n.td,{children:"OrderBy"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TopNNode"}),(0,r.jsx)(n.td,{children:"TopN"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LimitNode"}),(0,r.jsx)(n.td,{children:"Limit"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"UnnestNode"}),(0,r.jsx)(n.td,{children:"Unnest"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TableWriteNode"}),(0,r.jsx)(n.td,{children:"TableWrite"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TableWriteMergeNode"}),(0,r.jsx)(n.td,{children:"TableWriteMerge"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"PartitionedOutputNode"}),(0,r.jsx)(n.td,{children:"PartitionedOutput"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ExchangeNode"}),(0,r.jsx)(n.td,{children:"Exchange"}),(0,r.jsx)(n.td,{children:"Y"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ExpandNode"}),(0,r.jsx)(n.td,{children:"Expand"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MergeExchangeNode"}),(0,r.jsx)(n.td,{children:"MergeExchange"}),(0,r.jsx)(n.td,{children:"Y"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ValuesNode"}),(0,r.jsx)(n.td,{children:"Values"}),(0,r.jsx)(n.td,{children:"Y"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LocalMergeNode"}),(0,r.jsx)(n.td,{children:"LocalMerge"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"LocalPartitionNode"}),(0,r.jsx)(n.td,{children:"LocalPartition and LocalExchange"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"EnforceSingleRowNode"}),(0,r.jsx)(n.td,{children:"EnforceSingleRow"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AssignUniqueIdNode"}),(0,r.jsx)(n.td,{children:"AssignUniqueId"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"WindowNode"}),(0,r.jsx)(n.td,{children:"Window"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"RowNumberNode"}),(0,r.jsx)(n.td,{children:"RowNumber"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TopNRowNumberNode"}),(0,r.jsx)(n.td,{children:"TopNRowNumber"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"plan-nodes",children:"Plan Nodes"}),"\n",(0,r.jsx)(n.h3,{id:"tablescannode",children:"TableScanNode"}),"\n",(0,r.jsxs)(n.p,{children:["\u8868\u626b\u63cf\u64cd\u4f5c\u4ece ",(0,r.jsx)(n.code,{children:"connector </develop/connectors>"})," \u8bfb\u53d6\u6570\u636e\u3002\u4f8b\u5982\uff0c\u5f53\u4e0e HiveConnector \u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u8868\u626b\u63cf\u4f1a\u4ece ORC \u6216 Parquet \u6587\u4ef6\u8bfb\u53d6\u6570\u636e\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"outputType"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u5217\u7684\u5217\u8868\u3002\u8fd9\u662f\u57fa\u7840\u8868\u4e2d\u53ef\u7528\u5217\u7684\u5b50\u96c6\u3002\u5217\u7684\u987a\u5e8f\u53ef\u80fd\u4e0e\u8868\u7684\u67b6\u6784\u4e0d\u4e00\u81f4\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tableHandle"}),(0,r.jsx)(n.td,{children:"\u7279\u5b9a\u4e8e\u8fde\u63a5\u5668\u7684\u8868\u683c\u63cf\u8ff0\u3002\u53ef\u80fd\u5305\u542b\u4e0b\u63a8\u5f0f\u8fc7\u6ee4\u5668\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"assignments"}),(0,r.jsx)(n.td,{children:"\u4ece\u8868\u6a21\u5f0f\u5230\u8f93\u51fa\u5217\u7684\u8fde\u63a5\u5668\u7279\u5b9a\u6620\u5c04\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"arrowstreamnode",children:"ArrowStreamNode"}),"\n",(0,r.jsx)(n.p,{children:"Arrow \u6d41\u64cd\u4f5c\u4ece Arrow \u6570\u7ec4\u6d41\u4e2d\u8bfb\u53d6\u6570\u636e\u3002ArrowArrayStream \u7ed3\u6784\u5728 Arrow ABI \u4e2d\u5b9a\u4e49\uff0c\u5e76\u63d0\u4f9b\u4e0e Arrow \u6570\u7ec4\u6d41\u6e90\u4ea4\u4e92\u6240\u9700\u7684\u56de\u8c03\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"arrowStream"}),(0,r.jsx)(n.td,{children:"\u6784\u9020\u7684 Arrow \u6570\u7ec4\u6d41\u3002\u8fd9\u662f\u6570\u636e\u5757\u7684\u6d41\u5f0f\u6e90\uff0c\u6bcf\u4e2a\u6570\u636e\u5757\u5177\u6709\u76f8\u540c\u7684\u67b6\u6784\u3002"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"filternode",children:"FilterNode"}),"\n",(0,r.jsx)(n.p,{children:"\u8fc7\u6ee4\u64cd\u4f5c\u6839\u636e\u5e03\u5c14\u8fc7\u6ee4\u8868\u8fbe\u5f0f\u4ece\u8f93\u5165\u6570\u636e\u4e2d\u5254\u9664\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"filter"}),(0,r.jsx)(n.td,{children:"\u5e03\u5c14\u8fc7\u6ee4\u8868\u8fbe\u5f0f\u3002"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"projectnode",children:"ProjectNode"}),"\n",(0,r.jsx)(n.p,{children:"\u6295\u5f71\u64cd\u4f5c\u4f1a\u6839\u636e\u6570\u636e\u96c6\u7684\u8f93\u5165\u751f\u6210\u4e00\u4e2a\u6216\u591a\u4e2a\u9644\u52a0\u8868\u8fbe\u5f0f\u3002\u6295\u5f71\u64cd\u4f5c\u8fd8\u53ef\u80fd\u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u5165\u5217\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"names"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u8868\u8fbe\u5f0f\u7684\u5217\u540d\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"expressions"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u5217\u7684\u8868\u8fbe\u5f0f\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"aggregationnode",children:"AggregationNode"}),"\n",(0,r.jsx)(n.p,{children:"\u805a\u5408\u64cd\u4f5c\u6839\u636e\u4e00\u7ec4\u5206\u7ec4\u952e\u5bf9\u8f93\u5165\u6570\u636e\u8fdb\u884c\u5206\u7ec4\uff0c\u5e76\u8ba1\u7b97\u6bcf\u4e2a\u5206\u7ec4\u952e\u7ec4\u5408\u5bf9\u5e94\u7684\u5ea6\u91cf\u503c\u3002\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u5bf9\u5404\u4e2a\u5ea6\u91cf\u503c\u7684\u8f93\u5165\u8fdb\u884c\u6392\u5e8f\u548c\u53bb\u91cd\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"step"}),(0,r.jsx)(n.td,{children:"\u805a\u5408\u6b65\u9aa4\uff1a\u90e8\u5206\u3001\u6700\u7ec8\u3001\u4e2d\u95f4\u3001\u5355\u4e00\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"groupingKeys"}),(0,r.jsx)(n.td,{children:"\u96f6\u4e2a\u6216\u591a\u4e2a\u5206\u7ec4\u952e\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"preGroupedKeys"}),(0,r.jsx)(n.td,{children:"\u5df2\u77e5\u8f93\u5165\u5df2\u6309\u5206\u7ec4\u952e\u9884\u5206\u7ec4\u7684\u5206\u7ec4\u952e\u5b50\u96c6\uff0c\u5373\u6240\u6709\u5177\u6709\u7ed9\u5b9a\u9884\u5206\u7ec4\u952e\u503c\u7ec4\u5408\u7684\u884c\u5c06\u4f9d\u6b21\u51fa\u73b0\u3002\u8f93\u5165\u4e0d\u6309\u9884\u5206\u7ec4\u952e\u6392\u5e8f\u3002\u5982\u679c\u8f93\u5165\u5df2\u6309\u6240\u6709\u5206\u7ec4\u952e\u9884\u5206\u7ec4\uff0c\u5219\u6267\u884c\u5c06\u4f7f\u7528 StreamingAggregation \u8fd0\u7b97\u7b26\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"aggregateNames"}),(0,r.jsx)(n.td,{children:"\u5ea6\u91cf\u7684\u8f93\u51fa\u5217\u7684\u540d\u79f0\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"aggregates"}),(0,r.jsx)(n.td,{children:"\u4e00\u4e2a\u6216\u591a\u4e2a\u5f85\u8ba1\u7b97\u7684\u5ea6\u91cf\u3002\u6bcf\u4e2a\u5ea6\u91cf\u6307\u5b9a\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982 count(1)\u3001sum(a)\u3001avg(b)\uff1b\u53ef\u9009\u7684\u5e03\u5c14\u503c\u8f93\u5165\u5217\uff08\u7528\u4e8e\u5c4f\u853d\u6b64\u7279\u5b9a\u5ea6\u91cf\u7684\u884c\uff09\uff1b\u53ef\u9009\u7684\u8f93\u5165\u5217\u5217\u8868\uff08\u7528\u4e8e\u5728\u8ba1\u7b97\u5ea6\u91cf\u4e4b\u524d\u8fdb\u884c\u6392\u5e8f\uff09\uff1b\u53ef\u9009\u7684\u6807\u5fd7\uff08\u7528\u4e8e\u6307\u793a\u5728\u8ba1\u7b97\u5ea6\u91cf\u4e4b\u524d\u5fc5\u987b\u5bf9\u8f93\u5165\u8fdb\u884c\u91cd\u590d\u6570\u636e\u5220\u9664\uff09\u3002\u8868\u8fbe\u5f0f\u5fc5\u987b\u91c7\u7528\u76f4\u63a5\u5bf9\u8f93\u5165\u5217\u8fdb\u884c\u805a\u5408\u51fd\u6570\u8c03\u7528\u7684\u5f62\u5f0f\uff0c\u4f8b\u5982 sum(c) \u53ef\u4ee5\uff0c\u4f46 sum(c + d) \u4e0d\u53ef\u4ee5\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ignoreNullKeys"}),(0,r.jsx)(n.td,{children:"\u4e00\u4e2a\u5e03\u5c14\u6807\u5fd7\uff0c\u6307\u793a\u805a\u5408\u662f\u5426\u5e94\u5220\u9664\u4efb\u4f55\u5206\u7ec4\u952e\u4e2d\u4e3a\u7a7a\u7684\u884c\u3002\u7528\u4e8e\u907f\u514d\u5bf9\u5206\u7ec4\u952e\u4e0a\u7d27\u63a5\u7740\u5185\u8fde\u63a5\u7684\u805a\u5408\u8fdb\u884c\u4e0d\u5fc5\u8981\u7684\u5904\u7406\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"globalGroupingSets"}),(0,r.jsx)(n.td,{children:"\u5982\u679c AggregationNode \u4f4d\u4e8e GroupIdNode \u4e4b\u4e0a\uff0c\u5219\u67d0\u4e9b\u7ec4\u53ef\u80fd\u662f\u5168\u5c40\u7ec4\uff0c\u8fd9\u4e9b\u7ec4\u4ec5\u5177\u6709 GroupId \u5206\u7ec4\u952e\u503c\u3002\u8fd9\u4e9b\u503c\u8868\u793a\u5168\u5c40\u805a\u5408\u503c\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"groupId"}),(0,r.jsx)(n.td,{children:"GroupId \u662f AggregationNode \u4e2d\u7531\u5e95\u5c42 GroupIdNode \u751f\u6210\u7684 groupId \u5217\u7684\u5206\u7ec4\u952e\u3002\u5b83\u5fc5\u987b\u662f BIGINT \u7c7b\u578b\u3002"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"\u5404\u4e2a\u5ea6\u91cf\u7684\u5c5e\u6027\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"call"}),(0,r.jsx)(n.td,{children:"\u7528\u4e8e\u8ba1\u7b97\u5ea6\u91cf\u7684\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982 count(1)\u3001sum(a)\u3001avg(b)\u3002\u8868\u8fbe\u5f0f\u5fc5\u987b\u91c7\u7528\u76f4\u63a5\u5bf9\u8f93\u5165\u5217\u8c03\u7528\u805a\u5408\u51fd\u6570\u7684\u5f62\u5f0f\uff0c\u4f8b\u5982 sum(c) \u53ef\u4ee5\uff0c\u4f46 sum(c + d) \u4e0d\u53ef\u4ee5\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rawInputTypes"}),(0,r.jsx)(n.td,{children:"\u805a\u5408\u51fd\u6570\u7684\u539f\u59cb\u8f93\u5165\u7c7b\u578b\u5217\u8868\u3002\u7528\u4e8e\u6b63\u786e\u8bc6\u522b\u805a\u5408\u51fd\u6570\uff0c\u4f8b\u5982\uff0c\u5728\u4e2d\u95f4\u805a\u5408\u7684\u60c5\u51b5\u4e0b\uff0c\u51b3\u5b9a\u662f min(x) \u8fd8\u662f min(x, n)\u3002\u5f53\u805a\u5408\u6b65\u9aa4\u4e3a\u4e2d\u95f4\u6216\u6700\u7ec8\u65f6\uff0c\u8fd9\u4e9b\u8f93\u5165\u7c7b\u578b\u53ef\u80fd\u4e0e\u201ccall\u201d\u4e2d\u6307\u5b9a\u7684\u8f93\u5165\u7c7b\u578b\u4e0d\u540c\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mask"}),(0,r.jsx)(n.td,{children:"\u53ef\u9009\u7684\u5e03\u5c14\u503c\u8f93\u5165\u5217\uff0c\u7528\u4e8e\u5c4f\u853d\u6b64\u7279\u5b9a\u5ea6\u91cf\u7684\u884c\u3002\u591a\u4e2a\u5ea6\u91cf\u53ef\u4ee5\u6307\u5b9a\u76f8\u540c\u7684\u8f93\u5165\u5217\u4f5c\u4e3a\u63a9\u7801\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingKeys"}),(0,r.jsx)(n.td,{children:"\u8ba1\u7b97\u5ea6\u91cf\u503c\u4e4b\u524d\u8981\u6392\u5e8f\u7684\u8f93\u5165\u5217\u7684\u53ef\u9009\u5217\u8868\u3002\u5982\u679c\u6307\u5b9a\uff0c\u5219\u5fc5\u987b\u4f7f\u7528 sortingOrders \u6765\u6307\u5b9a\u6bcf\u4e2a\u6392\u5e8f\u952e\u7684\u6392\u5e8f\u987a\u5e8f\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingOrders"}),(0,r.jsx)(n.td,{children:"\u6bcf\u4e2a\u6392\u5e8f\u952e\u7684\u6392\u5e8f\u987a\u5e8f\u5217\u8868\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"distinct"}),(0,r.jsx)(n.td,{children:"\u5e03\u5c14\u6807\u5fd7\uff0c\u6307\u793a\u5728\u8ba1\u7b97\u6d4b\u91cf\u503c\u4e4b\u524d\u5fc5\u987b\u5bf9\u8f93\u5165\u8fdb\u884c\u91cd\u590d\u6570\u636e\u5220\u9664\u3002"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5ea6\u91cf\u6307\u5b9a\u4e86\u6392\u5e8f\u952e\uff0cHashAggregation \u8fd0\u7b97\u7b26\u4f1a\u5c06\u6240\u6709\u8f93\u5165\u884c\u7d2f\u52a0\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u5bf9\u5b83\u4eec\u8fdb\u884c\u6392\u5e8f\u5e76\u6dfb\u52a0\u5230\u7d2f\u52a0\u5668\u4e2d\u3002\u4e0e\u8f93\u5165\u65e0\u9700\u6392\u5e8f\u7684\u60c5\u51b5\u76f8\u6bd4\uff0c\u8fd9\u9700\u8981\u66f4\u591a\u7684\u5185\u5b58\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u540c\u6837\uff0c\u5982\u679c\u5ea6\u91cf\u8981\u6c42\u5bf9\u8f93\u5165\u8fdb\u884c\u53bb\u91cd\uff0cHashAggregation \u8fd0\u7b97\u7b26\u4f1a\u5c06\u6240\u6709\u4e0d\u540c\u7684\u8f93\u5165\u884c\u7d2f\u52a0\u5230\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u7d2f\u52a0\u5668\u4e2d\u3002\u4e0e\u8f93\u5165\u65e0\u9700\u53bb\u91cd\u7684\u60c5\u51b5\u76f8\u6bd4\uff0c\u8fd9\u9700\u8981\u66f4\u591a\u7684\u5185\u5b58\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u5916\uff0c\u8bb8\u591a\u805a\u5408\u51fd\u6570\u5bf9\u5df2\u6392\u5e8f\u548c\u672a\u6392\u5e8f\u7684\u8f93\u5165\u90fd\u4f1a\u4ea7\u751f\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u4f8b\u5982\uff1a:func:",(0,r.jsx)(n.code,{children:"min"}),"\u3001:func:",(0,r.jsx)(n.code,{children:"max"}),"\u3001:func:",(0,r.jsx)(n.code,{children:"count"})," \u548c :func:",(0,r.jsx)(n.code,{children:"sum"}),"\u3002\n\u67e5\u8be2\u89c4\u5212\u5668\u5e94\u907f\u514d\u4e3a\u6b64\u7c7b\u805a\u5408\u51fd\u6570\u751f\u6210\u9700\u8981\u5df2\u6392\u5e8f\u8f93\u5165\u7684\u8ba1\u5212\u3002\u5bf9\u8f93\u5165\u987a\u5e8f\u654f\u611f\u7684\u805a\u5408\u51fd\u6570\u7684\u4e00\u4e9b\u793a\u4f8b\u5305\u62ec\uff1afunc:",(0,r.jsx)(n.code,{children:"array_agg"})," \u548c :func:",(0,r.jsx)(n.code,{children:"min_by"}),"\uff08\u5b58\u5728\u5173\u7cfb\u65f6\uff09\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u7c7b\u4f3c\u5730\uff0c\u67d0\u4e9b\u805a\u5408\u51fd\u6570\u5bf9\u552f\u4e00\u8f93\u5165\u548c\u91cd\u590d\u8f93\u5165\u90fd\u4f1a\u4ea7\u751f\u76f8\u540c\u7684\u7ed3\u679c\uff0c\u4f8b\u5982\uff1a:func:",(0,r.jsx)(n.code,{children:"min"})," \u548c :func:",(0,r.jsx)(n.code,{children:"max"}),"\u3002\u67e5\u8be2\u89c4\u5212\u5668\u5e94\u907f\u514d\u4e3a\u6b64\u7c7b\u805a\u5408\u51fd\u6570\u751f\u6210\u8981\u6c42\u53bb\u91cd\u8f93\u5165\u7684\u8ba1\u5212\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u6700\u540e\uff0c\u8bf7\u6ce8\u610f\uff0c\u53ea\u6709\u5f53\u805a\u5408\u6b65\u9aa4\u4e3a\u201c\u5355\u6b65\u201d\u65f6\uff0c\u624d\u53ef\u4ee5\u5bf9\u5df2\u6392\u5e8f\u7684\u8f93\u5165\u8fdb\u884c\u5ea6\u91cf\u8ba1\u7b97\u3002\u6b64\u7c7b\u8ba1\u7b97\u4e0d\u80fd\u62c6\u5206\u4e3a\u90e8\u5206\u8ba1\u7b97\u548c\u6700\u7ec8\u8ba1\u7b97\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u4e86\u8bf4\u660e globalGroupingSets \u548c groupIdColumn \u7684\u5fc5\u8981\u6027\uff0c\u6211\u4eec\u5206\u6790\u4ee5\u4e0b SQL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"\n  SELECT orderkey, sum(total_quantity) FROM orders GROUP BY CUBE (orderkey);\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u76f8\u5f53\u4e8e\u4ee5\u4e0b\u5e26\u6709 GROUPING SETS \u7684 SQL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"\n  SELECT orderkey, sum(total_quantity) FROM orders GROUP BY GROUPING SETS ((orderkey), ());\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8be5 SQL \u7ed9\u51fa\u4e86\u6bcf\u4e2a orderkey \u7684 total_quantity \u5c0f\u8ba1\u4ee5\u53ca\u5168\u5c40\u603b\u548c\uff08\u6765\u81ea\u7a7a\u5206\u7ec4\u96c6\uff09\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4f18\u5316\u5668\u5c06\u4e0a\u8ff0\u67e5\u8be2\u89c4\u5212\u4e3a\u57fa\u4e8e GroupId \u8282\u70b9\u7684\u805a\u5408\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5047\u8bbe\u8ba2\u5355\u8868\u6709 5 \u884c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  orderkey   total_quantity\n     1            5\n     2            6\n     2            7\n     3            8\n     4            9\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5206\u7ec4\u96c6 ((orderkey), ()) \u7684 GroupId \u4e4b\u540e\uff0c\u8868\u6709\u4ee5\u4e0b 10 \u884c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  orderkey   total_quantity    group_id\n     1            5                0\n     2            6                0\n     2            7                0\n     3            8                0\n     4            9                0\n     null         5                1\n     null         6                1\n     null         7                1\n     null         8                1\n     null         9                1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u968f\u540e\u4f7f\u7528\u5206\u7ec4\u952e\uff08orderkey\u3001group_id\uff09\u8fdb\u884c\u805a\u5408\uff0c\u7ed9\u51fa\u67e5\u8be2\u7684\u5c0f\u8ba1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  orderkey   total_quantity     group_id\n    1           5                  0\n    2           13                 0\n    3           8                  0\n    4           9                  0\n    null        35                 1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679c\u6b64 GROUP BY CUBE \u8bed\u53e5\u6ca1\u6709\u8f93\u5165\u884c\uff0c\u5219\u9884\u671f\u7ed3\u679c\u4e3a\u4e00\u884c\uff0c\u5176\u4e2d\u5305\u542b\u5168\u5c40\u805a\u5408\u7684\u9ed8\u8ba4\u503c\u3002\u5bf9\u4e8e\u4e0a\u8ff0\u67e5\u8be2\uff0c\u7ed3\u679c\u5c06\u662f\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  orderkey   total_quantity      group_id\n    null           null             1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8981\u751f\u6210\u6b64\u7279\u6b8a\u884c\uff0cAggregationNode \u9700\u8981\u5168\u5c40\u5206\u7ec4\u96c6\u7684 groupId\uff08\u5728\u672c\u4f8b\u4e2d\u4e3a 1\uff09\uff0c\u5e76\u8fd4\u56de\u4e00\u884c\u5305\u542b\u805a\u5408\u9ed8\u8ba4\u503c\u7684\u8bb0\u5f55\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1aPresto \u5141\u8bb8\u5728\u5355\u4e2a SQL \u67e5\u8be2\u4e2d\u4f7f\u7528\u591a\u4e2a\u5168\u5c40\u5206\u7ec4\u96c6\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"\n  SELECT orderkey, sum(total_quantity) FROM orders GROUP BY GROUPING SETS ((), ());\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u56e0\u6b64\uff0cglobalGroupingSets \u662f groupIds \u7684\u5411\u91cf\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"expandnode",children:"ExpandNode"}),"\n",(0,r.jsx)(n.p,{children:"\u5bf9\u4e8e\u6bcf\u4e2a\u8f93\u5165\u884c\uff0c\u6839\u636e\u6307\u5b9a\u7684\u201cprojections\u201d\u751f\u6210 N \u884c M \u5217\u3002\n\u201cprojections\u201d\u662f\u4e00\u4e2a N x M \u7684\u8868\u8fbe\u5f0f\u77e9\u9635\uff1a\u4e00\u4e2a N \u884c M \u5217\u7684\u5411\u91cf\u3002\n\u6bcf\u4e2a\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u5217\u5f15\u7528\u6216\u5e38\u91cf\u3002\u5e38\u91cf\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u975e\u7a7a\u3002\n\u201cnames\u201d\u662f\u4e00\u4e2a\u5305\u542b M \u4e2a\u65b0\u5217\u540d\u7684\u5217\u8868\u3002\u6b64\u8fd0\u7b97\u7b26\u7684\u8bed\u4e49\u4e0e Spark \u5339\u914d\u3002\u53ef\u4ee5\u4f7f\u7528 project \u548c unnest \u6765\u5b9e\n\u73b0\u6269\u5c55\u529f\u80fd\u3002\u4f46\u662f\uff0c\u5728 Project \u64cd\u4f5c\u4e2d\u521b\u5efa\u6570\u7ec4\u6784\u9020\u51fd\u6570\u65f6\uff0c\u6027\u80fd\u5e76\u4e0d\u7406\u60f3\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"projections"}),(0,r.jsx)(n.td,{children:"\u4e00\u4e2a\u5305\u542b N \u884c\u3001\u6bcf\u884c M \u5217\u7684\u5411\u91cf\u3002\u6bcf\u4e2a\u8868\u8fbe\u5f0f\u8981\u4e48\u662f\u5217\u5f15\u7528\uff0c\u8981\u4e48\u662f\u5e38\u91cf\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"names"}),(0,r.jsx)(n.td,{children:"\u65b0\u5217\u540d\u7684\u5217\u8868\u3002"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"ExpandNode \u901a\u5e38\u7528\u4e8e\u8ba1\u7b97 GROUPING SETS\u3001CUBE\u3001ROLLUP \u548c COUNT DISTINCT\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u4e86\u8bf4\u660e ExpandNode \u7684\u5de5\u4f5c\u539f\u7406\uff0c\u8ba9\u6211\u4eec\u68c0\u67e5\u4ee5\u4e0b SQL \u67e5\u8be2\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"\n  SELECT l_orderkey, l_partkey, count(l_suppkey) FROM lineitem GROUP BY ROLLUP(l_orderkey, l_partkey);\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u89c4\u5212\u9636\u6bb5\uff0cSpark \u4f1a\u751f\u6210\u4e00\u4e2a Expand \u8fd0\u7b97\u7b26\uff0c\u5176\u6295\u5f71\u5217\u8868\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n  [l_suppkey, l_orderkey, l_partkey, 0],\n  [l_suppkey, l_orderkey, null,      1],\n  [l_suppkey, null,       null,      3]\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\u6700\u540e\u4e00\u5217\u7528\u4f5c\u7279\u6b8a\u7684\u7ec4 ID\uff0c\u6307\u793a\u6bcf\u884c\u6240\u5c5e\u7684\u5206\u7ec4\u96c6\u3002\u5728 Spark \u4e2d\uff0c\u6b64 ID \u4f7f\u7528\u4f4d\u63a9\u7801\u8ba1\u7b97\u3002\u5982\u679c\u9009\u62e9\u4e86\u67d0\u4e00\u5217\uff0c\u5219\u8be5\u4f4d\n\u503c\u8d4b\u503c\u4e3a 0\uff1b\u5426\u5219\uff0c\u8d4b\u503c\u4e3a 1\u3002\u56e0\u6b64\uff0c\u7b2c\u4e00\u884c\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e3a (000)\uff0c\u7ed3\u679c\u4e3a 0\u3002\u7b2c\u4e8c\u884c\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e3a (001)\uff0c\u7ed3\u679c\u4e3a 1\u3002\u7b2c\u4e09\u884c\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e3a (011)\uff0c\u7ed3\u679c\u4e3a 3\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4f8b\u5982\uff0c\u5047\u8bbe\u8f93\u5165\u884c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  l_suppkey l_orderkey l_partkey\n  93        1          673\n  75        2          674\n  38        3          22\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7ecf\u8fc7 ExpandNode \u8ba1\u7b97\u540e\uff0c\u6bcf\u4e00\u884c\u90fd\u4f1a\u751f\u6210 3 \u884c\u6570\u636e\uff0c\u6240\u4ee5\u4e00\u5171\u6709 9 \u884c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  l_suppkey l_orderkey l_partkey grouping_id_0 \n  93        1          673       0\n  93        1          null      1\n  93        null       null      3\n  75        2          674       0\n  75        2          null      1\n  75        null       null      3\n  38        3          22        0\n  38        3          null      1\n  38        null       null      3\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u63a5\u4e0b\u6765\u7684\u805a\u5408\u8fd0\u7b97\u7b26\u5c06\u8fd9 9 \u884c\u6309 (l_orderkey\u3001l_partkey\u3001grouping_id_0) \u5206\u7ec4\uff0c\u5e76\u8ba1\u7b97 count(l_suppkey)\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  l_orderkey l_partkey count(l_suppkey)\n  1          673       1\n  null       null      3\n  1          null      1\n  2          null      1\n  2          674       1\n  3          null      1\n  3          22        1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53e6\u4e00\u4e2a\u4f8b\u5b50\u662f COUNT DISTINCT \u67e5\u8be2\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"\n  SELECT COUNT(DISTINCT l_suppkey), COUNT(DISTINCT l_partkey) FROM lineitem;\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u89c4\u5212\u9636\u6bb5\uff0cSpark \u4f1a\u751f\u6210\u4e00\u4e2a Expand \u8fd0\u7b97\u7b26\uff0c\u5176\u6295\u5f71\u5217\u8868\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  [l_suppkey, null,      1],\n  [null,      l_partkey, 2]\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f8b\u5982\uff0c\u5982\u679c\u8f93\u5165\u884c\u662f\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  l_suppkey l_partkey\n  93        673     \n  75        674      \n  38        22\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7ecf\u8fc7 ExpandNode \u8ba1\u7b97\u540e\uff0c\u6bcf\u4e00\u884c\u90fd\u4f1a\u751f\u6210 2 \u884c\u6570\u636e\uff0c\u6240\u4ee5\u4e00\u5171\u6709 6 \u884c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  l_suppkey l_partkey grouping_id_0 \n  93        null      1\n  null      673       2\n  75        null      1\n  null      674       2\n  38        null      1\n  null      22        2\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u63a5\u4e0b\u6765\u7684\u805a\u5408\u8fd0\u7b97\u7b26\u6839\u636e ",(0,r.jsx)(n.code,{children:"(l_suppkey, l_partkey, grouping_id_0)"})," \u5bf9\u8fd9\u4e9b\u884c\u8fdb\u884c\u5206\u7ec4\u5e76\u751f\u6210\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"  l_suppkey l_partkey grouping_id_0 \n  93        null      1\n  75        null      1\n  38        null      1\n  null      673       2\n  null      674       2\n  null      22        2\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u63a5\u4e0b\u6765\u7684\u53e6\u4e00\u4e2a\u805a\u5408\u8fd0\u7b97\u7b26\u8ba1\u7b97\u5168\u5c40\u8ba1\u6570\uff08l_suppkey\uff09\u548c\u8ba1\u6570\uff08l_partkey\uff09\uff0c\u4ea7\u751f\u6700\u7ec8\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  COUNT(DISTINCT l_suppkey) COUNT(DISTINCT l_partkey)\n  3                         3\n"})}),"\n",(0,r.jsx)(n.h3,{id:"groupidnode",children:"GroupIdNode"}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u6bcf\u4e2a\u6307\u5b9a\u7684\u5206\u7ec4\u952e\u96c6\u590d\u5236\u8f93\u5165\u3002\u7528\u4e8e\n\u5b9e\u73b0\u5206\u7ec4\u96c6\u7684\u805a\u5408\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u8f93\u51fa\u7531\u5206\u7ec4\u952e\u3001\u805a\u5408\u8f93\u5165\u548c\u7ec4 ID \u5217\u7ec4\u6210\u3002\u7ec4 ID \u5217\u7684\u7c7b\u578b\u4e3a BIGINT\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"groupingSets"}),(0,r.jsx)(n.td,{children:"\u5206\u7ec4\u952e\u96c6\u5217\u8868\u3002\u6bcf\u4e2a\u96c6\u5408\u4e2d\u7684\u952e\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u4f46\u952e\u53ef\u4ee5\u5728\u96c6\u5408\u4e4b\u95f4\u91cd\u590d\u3002\u5206\u7ec4\u952e\u901a\u8fc7\u5176\u8f93\u51fa\u540d\u79f0\u6307\u5b9a\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"groupingKeyInfos"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u4e2d\u5206\u7ec4\u952e\u5217\u7684\u540d\u79f0\u548c\u987a\u5e8f\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"aggregationInputs"}),(0,r.jsx)(n.td,{children:"\u8f93\u5165\u8981\u590d\u5236\u7684\u5217\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"groupIdName"}),(0,r.jsx)(n.td,{children:"\u6807\u8bc6\u5206\u7ec4\u96c6\u7684 group-id \u5217\u7684\u540d\u79f0\u3002\u8be5\u5217\u4ee5\u96f6\u4e3a\u57fa\u6570\uff0c\u5bf9\u5e94\u4e8e\u5206\u7ec4\u96c6\u5728\u201cgroupingSets\u201d\u5217\u8868\u4e2d\u7684\u4f4d\u7f6e\u3002"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"GroupIdNode \u901a\u5e38\u7528\u4e8e\u8ba1\u7b97 GROUPING SETS\u3001CUBE \u548c ROLLUP\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u867d\u7136 GroupingSet \u901a\u5e38\u4e0d\u4f1a\u91cd\u590d\u4f7f\u7528\u76f8\u540c\u7684\u5206\u7ec4\u952e\u5217\uff0c\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u3002\u4e3a\u4e86\u8bf4\u660e GroupingSet \u4e3a\u4f55\u4f1a\u91cd\u590d\u4f7f\u7528\u76f8\u540c\u7684\u5206\u7ec4\u952e\u5217\uff0c\u8ba9\u6211\u4eec\u68c0\u67e5\u4ee5\u4e0b SQL \u67e5\u8be2\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"\n  SELECT count(orderkey), count(DISTINCT orderkey) FROM orders;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u6b64\u67e5\u8be2\u4e2d\uff0c\u7528\u6237\u5e0c\u671b\u4f7f\u7528\u540c\u4e00\u5217\u8ba1\u7b97\u5168\u5c40\u805a\u5408\uff0c\u65e0\u8bba\u662f\u5426\u4f7f\u7528 DISTINCT \u5b50\u53e5\u3002Presto \u91c7\u7528\u4e86\u4e00\u79cd\u7279\u6b8a\u7684\u4f18\u5316\u7b56\u7565\uff1a",(0,r.jsx)(n.code,{children:"optimize.mixed-distinct-aggregations <https://www.qubole.com/blog/presto-optimizes-aggregations-over-distinct-values>"}),"\uff0c\u5e76\u4f7f\u7528 GroupIdNode \u6765\u8ba1\u7b97\u8fd9\u4e9b\u805a\u5408\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u9996\u5148\uff0c\u4f18\u5316\u5668\u521b\u5efa\u4e00\u4e2a GroupIdNode \u6765\u590d\u5236\u6bcf\u4e00\u884c\uff0c\u5e76\u5c06\u4e00\u4efd\u526f\u672c\u5206\u914d\u7ed9\u7ec4 0\uff0c\u53e6\u4e00\u4efd\u526f\u672c\u5206\u914d\u7ed9\u7ec4 1\u3002\u8fd9\u662f\u901a\u8fc7\u4f7f\u7528 GroupIdNode \u548c\u4e24\u4e2a\u5206\u7ec4\u96c6\u6765\u5b9e\u73b0\u7684\uff0c\u6bcf\u4e2a\u5206\u7ec4\u96c6\u90fd\u4f7f\u7528 orderkey \u4f5c\u4e3a\u5206\u7ec4\u952e\u3002\u4e3a\u4e86\u6d88\u9664\u7ec4\u95f4\u7684\u6b67\u4e49\uff0corderkey \u5217\u88ab\u8bbe\u7f6e\u4e3a\u5176\u4e2d\u4e00\u4e2a\u5206\u7ec4\u96c6\u7684\u5206\u7ec4\u952e\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u5047\u8bbe orders \u8868\u6709 5 \u884c\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n  orderkey\n     1\n     2\n     2\n     3\n     4\n"})}),"\n",(0,r.jsx)(n.p,{children:"GroupIdNode \u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n    orderkey   orderkey1   group_id\n    1             null        0\n    2             null        0\n    2             null        0\n    3             null        0\n    4             null        0\n    null           1          1\n    null           2          1\n    null           2          1\n    null           3          1\n    null           4          1\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540e\uff0cPresto \u4f7f\u7528 (orderkey, group_id) \u548c count(orderkey1) \u8fdb\u884c\u805a\u5408\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u7ed3\u679c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n    orderkey     group_id     count(orderkey1) as c\n    1                0         null\n    2                0         null\n    3                0         null\n    4                0         null\n    null             1          5\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540e\uff0cPresto \u8ba1\u5212\u8fdb\u884c\u7b2c\u4e8c\u6b21\u805a\u5408\uff0c\u5176\u4e2d\u6ca1\u6709\u952e\uff0c\u5e76\u4e14 count(orderkey)\uff0carbitrarily(c)\u3002\n\u7531\u4e8e\u8fd9\u4e24\u4e2a\u805a\u5408\u90fd\u5ffd\u7565\u7a7a\u503c\uff0c\u56e0\u6b64\u53ef\u4ee5\u6b63\u786e\u8ba1\u7b97\u4e0d\u540c orderkey \u7684\u6570\u91cf\u4ee5\u53ca\u6240\u6709 orderkey \u7684\u6570\u91cf\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\n    count(orderkey)     arbitrary(c)\n     4                     5\n"})}),"\n",(0,r.jsx)(n.h3,{id:"hashjoinnode-and-mergejoinnode",children:"HashJoinNode and MergeJoinNode"}),"\n",(0,r.jsx)(n.p,{children:"\u8fde\u63a5\u64cd\u4f5c\u57fa\u4e8e\u8fde\u63a5\u8868\u8fbe\u5f0f\uff0c\u5c06\u4e24\u4e2a\u72ec\u7acb\u7684\u8f93\u5165\u5408\u5e76\u4e3a\u4e00\u4e2a\u8f93\u51fa\u3002\u8fde\u63a5\u7684\u4e00\u79cd\u5e38\u89c1\u5b50\u7c7b\u578b\u662f\u7b49\u5f0f\u8fde\u63a5\uff0c\u5176\u4e2d\u8fde\u63a5\u8868\u8fbe\u5f0f\u88ab\u7ea6\u675f\u4e3a\u8fde\u63a5\u7684\u4e24\u4e2a\u8f93\u5165\u4e4b\u95f4\u7684\u7b49\u5f0f\uff08\u6216\u7b49\u5f0f + \u96f6\u7b49\u5f0f\uff09\u6761\u4ef6\u5217\u8868\u3002"}),"\n",(0,r.jsx)(n.p,{children:"HashJoinNode \u8868\u793a\u4e00\u79cd\u5b9e\u73b0\uff0c\u5b83\u9996\u5148\u5c06\u8fde\u63a5\u53f3\u4fa7\u7684\u6240\u6709\u884c\u52a0\u8f7d\u5230\u54c8\u5e0c\u8868\u4e2d\uff0c\u7136\u540e\u6d41\u5f0f\u4f20\u8f93\u8fde\u63a5\u5de6\u4fa7\uff0c\u63a2\u6d4b\u54c8\u5e0c\u8868\u4e2d\u7684\u5339\u914d\u884c\u5e76\u8f93\u51fa\u7ed3\u679c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"MergeJoinNode \u8868\u793a\u4e00\u79cd\u5b9e\u73b0\uff0c\u5b83\u5047\u8bbe\u4e24\u4e2a\u8f93\u5165\u90fd\u5df2\u6309\u8fde\u63a5\u952e\u6392\u5e8f\uff0c\u5e76\u6d41\u5f0f\u4f20\u8f93\u8fde\u63a5\u4e24\u4fa7\u4ee5\u67e5\u627e\u5339\u914d\u7684\u884c\u5e76\u8f93\u51fa\u7ed3\u679c\u3002"}),"\n",(0,r.jsx)(n.h1,{id:"\u8868\u683c\u8f6c\u6362",children:"\u8868\u683c\u8f6c\u6362"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u5c06\u7ed9\u5b9a\u5185\u5bb9\u8f6c\u6362\u4e3aMarkdown\u683c\u5f0f\u7684\u8868\u683c\uff1a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"joinType"}),(0,r.jsxs)(n.td,{children:["Join type: inner, left, right, full, left semi filter, left semi project, right semi filter, right semi project, anti. ",(0,r.jsx)(n.a,{href:"https://dataschool.com/how-to-teach-people-sql/sql-join-types-explained-visually/",children:"You can read about different join types in this blog post"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nullAware"}),(0,r.jsx)(n.td,{children:"\u4ec5\u9002\u7528\u4e8e\u53cd\u9879\u76ee\u548c\u534a\u9879\u76ee\u8fde\u63a5\u3002\u6307\u793a\u8fde\u63a5\u8bed\u4e49\u662f IN\uff08nullAware = true\uff09\u8fd8\u662f EXISTS\uff08nullAware = false\uff09\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"leftKeys"}),(0,r.jsx)(n.td,{children:"\u5de6\u4fa7\u8f93\u5165\u4e2d\u5c5e\u4e8e\u76f8\u7b49\u6761\u4ef6\u7684\u5217\u3002\u5fc5\u987b\u81f3\u5c11\u6307\u5b9a\u4e00\u4e2a\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rightKeys"}),(0,r.jsx)(n.td,{children:"\u53f3\u4fa7\u8f93\u5165\u4e2d\u5c5e\u4e8e\u76f8\u7b49\u6761\u4ef6\u7684\u5217\u3002\u5fc5\u987b\u81f3\u5c11\u6307\u5b9a\u4e00\u5217\u3002rightKeys \u7684\u6570\u91cf\u548c\u987a\u5e8f\u5fc5\u987b\u4e0e leftKeys \u7684\u6570\u91cf\u548c\u987a\u5e8f\u5339\u914d\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"filter"}),(0,r.jsx)(n.td,{children:"\u53ef\u9009\u7684\u975e\u76f8\u7b49\u8fc7\u6ee4\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u5f15\u7528\u6765\u81ea\u4e24\u4e2a\u8f93\u5165\u7684\u5217\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"outputType"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u5217\u7684\u5217\u8868\u3002\u8fd9\u662f\u8fde\u63a5\u64cd\u4f5c\u7684\u5de6\u8f93\u5165\u548c\u53f3\u8f93\u5165\u4e2d\u53ef\u7528\u5217\u7684\u5b50\u96c6\u3002\u8fd9\u4e9b\u5217\u7684\u663e\u793a\u987a\u5e8f\u53ef\u80fd\u4e0e\u8f93\u5165\u4e2d\u7684\u987a\u5e8f\u4e0d\u540c\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"nestedloopjoinnode",children:"NestedLoopJoinNode"}),"\n",(0,r.jsx)(n.p,{children:"NestedLoopJoinNode \u8868\u793a\u4e00\u79cd\u5b9e\u73b0\uff0c\u5b83\u4ece\u8fde\u63a5\u5de6\u4fa7\u8fed\u4ee3\u6bcf\u4e00\u884c\uff0c\u5e76\u9488\u5bf9\u6bcf\u4e00\u884c\u4ece\u8fde\u63a5\u53f3\u4fa7\u8fed\u4ee3\u6240\u6709\u884c\uff0c\u6839\u636e\u8fde\u63a5\u6761\u4ef6\u8fdb\u884c\u6bd4\u8f83\u4ee5\u67e5\u627e\u5339\u914d\u7684\u884c\u5e76\u53d1\u51fa\u7ed3\u679c\u3002\u5d4c\u5957\u5faa\u73af\u8fde\u63a5\u652f\u6301\u975e\u7b49\u5f0f\u8fde\u63a5\uff0c\u5e76\u6309\u7167\u4e0e\u63a2\u6d4b\u8f93\u5165\u76f8\u540c\u7684\u987a\u5e8f\u4e3a\u6bcf\u4e2a\u6267\u884c\u7ebf\u7a0b\u53d1\u51fa\u8f93\u51fa\u884c\uff08\u5bf9\u4e8e\u5185\u8fde\u63a5\u548c\u5de6\u5916\u8fde\u63a5\uff09\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"joinType"}),(0,r.jsx)(n.td,{children:"Join type: inner, left, right, full."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"joinCondition"}),(0,r.jsx)(n.td,{children:"\u7528\u4f5c\u8fde\u63a5\u6761\u4ef6\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u5f15\u7528\u6765\u81ea\u4e24\u4e2a\u8f93\u5165\u7684\u5217\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"outputType"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u5217\u7684\u5217\u8868\u3002\u8fd9\u662f\u8fde\u63a5\u64cd\u4f5c\u7684\u5de6\u8f93\u5165\u548c\u53f3\u8f93\u5165\u4e2d\u53ef\u7528\u5217\u7684\u5b50\u96c6\u3002\u8fd9\u4e9b\u5217\u7684\u663e\u793a\u987a\u5e8f\u53ef\u80fd\u4e0e\u8f93\u5165\u4e2d\u7684\u987a\u5e8f\u4e0d\u540c\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"orderbynode",children:"OrderByNode"}),"\n",(0,r.jsx)(n.p,{children:"\u6392\u5e8f\u6216\u6392\u5e8f\u4f9d\u636e\u64cd\u4f5c\u4f1a\u6839\u636e\u4e00\u4e2a\u6216\u591a\u4e2a\u5df2\u8bc6\u522b\u7684\u6392\u5e8f\u5b57\u6bb5\u4ee5\u53ca\u6392\u5e8f\u987a\u5e8f\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u91cd\u65b0\u6392\u5e8f\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingKeys"}),(0,r.jsx)(n.td,{children:"\u7528\u4e8e\u6392\u5e8f\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u5165\u5217\u7684\u5217\u8868\u3002\u6392\u5e8f\u952e\u5fc5\u987b\u662f\u552f\u4e00\u7684\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingOrders"}),(0,r.jsx)(n.td,{children:"\u6bcf\u4e2a\u6392\u5e8f\u952e\u7684\u6392\u5e8f\u987a\u5e8f\u3002\u652f\u6301\u7684\u987a\u5e8f\u4e3a\uff1a\u5347\u5e8f\u7a7a\u503c\u4f18\u5148\uff0c\u5347\u5e8f\u7a7a\u503c\u6700\u540e\uff0c\u964d\u5e8f\u7a7a\u503c\u4f18\u5148\uff0c\u964d\u5e8f\u7a7a\u503c\u6700\u540e\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"isPartial"}),(0,r.jsx)(n.td,{children:"\u5e03\u5c14\u503c\uff0c\u6307\u793a\u6392\u5e8f\u64cd\u4f5c\u662f\u5426\u4ec5\u5904\u7406\u6570\u636e\u96c6\u7684\u4e00\u90e8\u5206\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"topnnode",children:"TopNNode"}),"\n",(0,r.jsx)(n.p,{children:"Top-n \u64cd\u4f5c\u4f1a\u6839\u636e\u4e00\u4e2a\u6216\u591a\u4e2a\u5df2\u786e\u5b9a\u7684\u6392\u5e8f\u5b57\u6bb5\u4ee5\u53ca\u6392\u5e8f\u987a\u5e8f\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u91cd\u65b0\u6392\u5e8f\u3002Top-n \u64cd\u4f5c\u4e0d\u4f1a\u5bf9\u6574\u4e2a\u6570\u636e\u96c6\u8fdb\u884c\u6392\u5e8f\uff0c\u800c\u662f\u4ec5\u7ef4\u62a4\u786e\u4fdd\u6709\u9650\u8f93\u51fa\u6240\u9700\u7684\u8bb0\u5f55\u603b\u6570\u3002Top-n \u64cd\u4f5c\u662f\u903b\u8f91\u6392\u5e8f\u548c\u903b\u8f91\u9650\u5236\u64cd\u4f5c\u7684\u7ec4\u5408\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingKeys"}),(0,r.jsx)(n.td,{children:"\u7528\u4e8e\u6392\u5e8f\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u5165\u5217\u7684\u5217\u8868\u3002\u4e0d\u5f97\u4e3a\u7a7a\uff0c\u4e14\u4e0d\u5f97\u5305\u542b\u91cd\u590d\u9879\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingOrders"}),(0,r.jsx)(n.td,{children:"\u6bcf\u4e2a\u6392\u5e8f\u952e\u7684\u6392\u5e8f\u987a\u5e8f\u3002\u8bf7\u53c2\u9605 OrderBy \u83b7\u53d6\u652f\u6301\u7684\u6392\u5e8f\u987a\u5e8f\u5217\u8868\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"count"}),(0,r.jsx)(n.td,{children:"\u8fd4\u56de\u7684\u6700\u5927\u884c\u6570\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"isPartial"}),(0,r.jsx)(n.td,{children:"\u5e03\u5c14\u503c\u6307\u793a\u64cd\u4f5c\u662f\u5426\u4ec5\u5904\u7406\u6570\u636e\u96c6\u7684\u4e00\u90e8\u5206\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"limitnode",children:"LimitNode"}),"\n",(0,r.jsx)(n.p,{children:"\u9650\u5236\u64cd\u4f5c\u4f1a\u8df3\u8fc7\u6307\u5b9a\u6570\u91cf\u7684\u8f93\u5165\u884c\uff0c\u7136\u540e\u4fdd\u7559\u6307\u5b9a\u6570\u91cf\u7684\u884c\u5e76\u5220\u9664\u5176\u4f59\u884c\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"offset"}),(0,r.jsx)(n.td,{children:"\u8981\u8df3\u8fc7\u7684\u8f93\u5165\u884c\u6570\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"count"}),(0,r.jsx)(n.td,{children:"\u8fd4\u56de\u7684\u6700\u5927\u884c\u6570\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"isPartial"}),(0,r.jsx)(n.td,{children:"\u5e03\u5c14\u503c\u6307\u793a\u64cd\u4f5c\u662f\u5426\u4ec5\u5904\u7406\u6570\u636e\u96c6\u7684\u4e00\u90e8\u5206\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"unnestnode",children:"UnnestNode"}),"\n",(0,r.jsx)(n.p,{children:"unnest \u64cd\u4f5c\u5c06\u6570\u7ec4\u548c\u6620\u5c04\u6269\u5c55\u4e3a\u5355\u72ec\u7684\u5217\u3002\u6570\u7ec4\u4f1a\u6269\u5c55\u4e3a\u5355\u5217\uff0c\u6620\u5c04\u4f1a\u6269\u5c55\u4e3a\u4e24\u5217\uff08\u952e\u548c\u503c\uff09\u3002\u53ef\u7528\u4e8e\u6269\u5c55\u591a\u5217\u3002\u5728\u8fd9\u79cd\u60c5\n\u51b5\u4e0b\uff0c\u4f1a\u751f\u6210\u4e0e\u57fa\u6570\u6700\u9ad8\u7684\u6570\u7ec4\u6216\u6620\u5c04\u4e00\u6837\u591a\u7684\u884c\uff08\u5176\u4ed6\u5217\u5c06\u7528 null \u586b\u5145\uff09\u3002\u4e5f\u53ef\u4ee5\u9009\u62e9\u751f\u6210\u4e00\u4e2a\u5e8f\u6570\u5217\uff0c\u6307\u5b9a\u4ece 1 \u5f00\u59cb\u7684\u884c\u53f7\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"replicateVariables"}),(0,r.jsx)(n.td,{children:"\u672a\u4fee\u6539\u5730\u8fd4\u56de\u7684\u8f93\u5165\u5217\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"unnestVariables"}),(0,r.jsx)(n.td,{children:"\u8f93\u5165\u8981\u6269\u5c55\u7684\u6570\u7ec4\u6216\u6620\u5c04\u7c7b\u578b\u7684\u5217\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"unnestNames"}),(0,r.jsx)(n.td,{children:"\u7528\u4e8e\u6269\u5c55\u5217\u7684\u540d\u79f0\u3002\u6bcf\u4e2a\u6570\u7ec4\u5217\u4e00\u4e2a\u540d\u79f0\u3002\u6bcf\u4e2a\u6620\u5c04\u5217\u4e24\u4e2a\u540d\u79f0\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ordinalityName"}),(0,r.jsx)(n.td,{children:"\u5e8f\u6570\u5217\u7684\u53ef\u9009\u540d\u79f0\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"tablewritenode",children:"TableWriteNode"}),"\n",(0,r.jsxs)(n.p,{children:["\u8868\u5199\u5165\u64cd\u4f5c\u4f1a\u6d88\u8017\u4e00\u4e2a\u8f93\u51fa\uff0c\u5e76\u901a\u8fc7\n:doc:",(0,r.jsx)(n.code,{children:"connector </develop/connectors>"})," \u5c06\u5176\u5199\u5165\u5b58\u50a8\u3002\u4f8b\u5982\uff0c\u5199\u5165 ORC \u6216 Parquet \u6587\u4ef6\u3002\u8868\u5199\u5165\u64cd\u4f5c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u5df2\u5199\u5165\u6570\u636e\u5143\u6570\u636e\u7684\u5217\u5217\u8868\uff1a\u5199\u5165\u5b58\u50a8\u7684\u884c\u6570\u3001\u5199\u5165\u5668\u4e0a\u4e0b\u6587\u4fe1\u606f\u3001\n\u5df2\u5199\u5165\u5b58\u50a8\u7684\u6587\u4ef6\u8def\u5f84\u4ee5\u53ca\u6536\u96c6\u7684\u5217\u7edf\u8ba1\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"columns"}),(0,r.jsx)(n.td,{children:"\u8981\u5199\u5165\u5b58\u50a8\u7684\u8f93\u5165\u5217\u5217\u8868\u3002\u8fd9\u53ef\u80fd\u662f\u4e0d\u540c\u987a\u5e8f\u7684\u8f93\u5165\u5217\u7684\u5b50\u96c6\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"columnNames"}),(0,r.jsx)(n.td,{children:"\u5199\u5165\u5b58\u50a8\u65f6\u4f7f\u7528\u7684\u5217\u540d\u3002\u8fd9\u4e9b\u5217\u540d\u53ef\u4ee5\u4e0e\u8f93\u5165\u5217\u540d\u4e0d\u540c\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"aggregationNode"}),(0,r.jsx)(n.td,{children:"\u53ef\u9009\u805a\u5408\u8ba1\u5212\u8282\u70b9\uff0c\u7528\u4e8e\u6536\u96c6\u5199\u5165\u5b58\u50a8\u7684\u6570\u636e\u7684\u5217\u7edf\u8ba1\u4fe1\u606f\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"insertTableHandle"}),(0,r.jsx)(n.td,{children:"\u76ee\u6807\u8868\u7684\u8fde\u63a5\u5668\u7279\u5b9a\u63cf\u8ff0\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"outputType"}),(0,r.jsx)(n.td,{children:"\u5305\u542b\u5df2\u5199\u5165\u5b58\u50a8\u7684\u6570\u636e\u7684\u5143\u6570\u636e\u7684\u8f93\u51fa\u5217\u7684\u5217\u8868\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"tablewritemergenode",children:"TableWriteMergeNode"}),"\n",(0,r.jsx)(n.p,{children:"\u8868\u5199\u5165\u5408\u5e76\u64cd\u4f5c\u805a\u5408\u591a\u4e2a\u8868\u5199\u5165\u64cd\u4f5c\u7684\u5143\u6570\u636e\u8f93\u51fa\u5e76\u8fd4\u56de\u805a\u5408\u7ed3\u679c\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"outputType"}),(0,r.jsx)(n.td,{children:"\u5305\u542b\u4ece\u591a\u4e2a\u8868\u5199\u5165\u64cd\u4f5c\u805a\u5408\u7684\u5199\u5165\u6570\u636e\u7684\u5143\u6570\u636e\u7684\u8f93\u51fa\u5217\u5217\u8868\u3002"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"partitionedoutputnode",children:"PartitionedOutputNode"}),"\n",(0,r.jsx)(n.p,{children:"\u5206\u533a\u8f93\u51fa\u64cd\u4f5c\u6839\u636e\u96f6\u4e2a\u6216\u591a\u4e2a\u5206\u5e03\u5b57\u6bb5\u91cd\u65b0\u5206\u914d\u6570\u636e\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"kind"}),(0,r.jsx)(n.td,{children:"\u6307\u5b9a\u8f93\u51fa\u7f13\u51b2\u533a\u7c7b\u578b\uff1akPartitioned\u3001kBroadcast \u548c kArbitrary\u3002\u5bf9\u4e8e kPartitioned \u7c7b\u578b\uff0c\u884c\u4f1a\u88ab\u5206\u533a\uff0c\u6bcf\u884c\u4f1a\u88ab\u53d1\u9001\u5230\u76f8\u5e94\u7684\u76ee\u6807\u5206\u533a\u3002\u5bf9\u4e8e kBroadcast \u7c7b\u578b\uff0c\u884c\u4e0d\u4f1a\u88ab\u5206\u533a\uff0c\u800c\u662f\u4f1a\u88ab\u53d1\u9001\u5230\u6240\u6709\u76ee\u6807\u5206\u533a\u3002\u5bf9\u4e8e kArbitrary \u7c7b\u578b\uff0c\u884c\u4e0d\u4f1a\u88ab\u5206\u533a\uff0c\u6bcf\u884c\u4f1a\u88ab\u53d1\u9001\u5230\u4efb\u610f\u4e00\u4e2a\u76ee\u6807\u5206\u533a\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"keys"}),(0,r.jsx)(n.td,{children:"\u7528\u4e8e\u8ba1\u7b97\u6bcf\u884c\u5206\u533a\u7684\u96f6\u4e2a\u6216\u591a\u4e2a\u8f93\u5165\u5b57\u6bb5\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"numPartitions"}),(0,r.jsx)(n.td,{children:"\u5c06\u6570\u636e\u62c6\u5206\u6210\u7684\u5206\u533a\u6570\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"replicateNullsAndAny"}),(0,r.jsx)(n.td,{children:"\u5e03\u5c14\u503c\u6807\u5fd7\uff0c\u6307\u793a\u662f\u5426\u5e94\u5c06\u952e\u4e3a\u7a7a\u7684\u884c\u53d1\u9001\u5230\u6240\u6709\u5206\u533a\uff0c\u4ee5\u53ca\u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u884c\uff0c\u662f\u5426\u5e94\u5c06\u4efb\u610f\u9009\u62e9\u7684\u4e00\u884c\u53d1\u9001\u5230\u6240\u6709\u5206\u533a\u3002\u7528\u4e8e\u63d0\u4f9b\u5728\u5355\u4e2a\u8282\u70b9\u4e0a\u5b9e\u73b0\u53cd\u8fde\u63a5\u8bed\u4e49\u6240\u9700\u7684\u5168\u5c40\u8303\u56f4\u4fe1\u606f\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"partitionFunctionFactory"}),(0,r.jsx)(n.td,{children:"\u5de5\u5382\u5728\u8ba1\u7b97\u8f93\u5165\u884c\u7684\u5206\u533a\u65f6\u4f7f\u7528\u5206\u533a\u51fd\u6570\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"outputType"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u5217\u7684\u5217\u8868\u3002\u8fd9\u662f\u8f93\u5165\u5217\u7684\u5b50\u96c6\uff0c\u53ef\u80fd\u987a\u5e8f\u4e0d\u540c\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"valuesnode",children:"ValuesNode"}),"\n",(0,r.jsx)(n.p,{children:"\u503c\u64cd\u4f5c\u8fd4\u56de\u6307\u5b9a\u7684\u6570\u636e\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"values"}),(0,r.jsx)(n.td,{children:"\u8981\u8fd4\u56de\u7684\u884c\u96c6\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"parallelizable"}),(0,r.jsx)(n.td,{children:"\u5982\u679c\u6bcf\u4e2a\u7ebf\u7a0b\uff08\u6bcf\u4e2a\u9a71\u52a8\u7a0b\u5e8f\u4e00\u4e2a\uff09\u5e94\u4ea7\u751f\u76f8\u540c\u7684\u8f93\u5165\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"repeatTimes"}),(0,r.jsx)(n.td,{children:"\u6bcf\u4e2a\u5411\u91cf\u5e94\u4f5c\u4e3a\u8f93\u5165\u4ea7\u751f\u591a\u5c11\u6b21\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"exchangenode",children:"ExchangeNode"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4efb\u610f\u987a\u5e8f\u5408\u5e76\u591a\u4e2a\u6d41\u7684\u63a5\u6536\u64cd\u4f5c\u3002\u8f93\u5165\u6d41\u6765\u81ea\u8fdc\u7a0b\u4ea4\u6362\u6216 shuffle\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"type"}),(0,r.jsx)(n.td,{children:"\u8f93\u5165\u6d41\u4e2d\u7684\u5217\u7684\u5217\u8868\u3002"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"mergeexchangenode",children:"MergeExchangeNode"}),"\n",(0,r.jsx)(n.p,{children:"\u5408\u5e76\u591a\u4e2a\u6709\u5e8f\u6d41\u4ee5\u4fdd\u6301\u6709\u5e8f\u6027\u7684\u63a5\u6536\u64cd\u4f5c\u3002\u8f93\u5165\u6d41\u6765\u81ea\u8fdc\u7a0b\u4ea4\u6362\u6216\u6df7\u6d17\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"type"}),(0,r.jsx)(n.td,{children:"\u8f93\u5165\u6d41\u4e2d\u7684\u5217\u7684\u5217\u8868\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingKeys"}),(0,r.jsx)(n.td,{children:"\u8981\u6309\u5176\u6392\u5e8f\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u5165\u5217\u7684\u5217\u8868\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingOrders"}),(0,r.jsx)(n.td,{children:"\u6bcf\u4e2a\u6392\u5e8f\u952e\u7684\u6392\u5e8f\u987a\u5e8f\u3002\u8bf7\u53c2\u9605 OrderBy \u83b7\u53d6\u652f\u6301\u7684\u6392\u5e8f\u987a\u5e8f\u5217\u8868\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"localmergenode",children:"LocalMergeNode"}),"\n",(0,r.jsx)(n.p,{children:"\u5408\u5e76\u591a\u4e2a\u6709\u5e8f\u6d41\u4ee5\u4fdd\u6301\u5176\u6709\u5e8f\u6027\u7684\u64cd\u4f5c\u3002\u8f93\u5165\u6d41\u6765\u81ea\u672c\u5730\u4ea4\u6362\u5668\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingKeys"}),(0,r.jsx)(n.td,{children:"\u8981\u6309\u5176\u6392\u5e8f\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u5165\u5217\u7684\u5217\u8868\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingOrders"}),(0,r.jsx)(n.td,{children:"\u6bcf\u4e2a\u6392\u5e8f\u952e\u7684\u6392\u5e8f\u987a\u5e8f\u3002\u8bf7\u53c2\u9605 OrderBy \u83b7\u53d6\u652f\u6301\u7684\u6392\u5e8f\u987a\u5e8f\u5217\u8868\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"localpartitionnode",children:"LocalPartitionNode"}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u5730\u4ea4\u6362\u64cd\u4f5c\u5c06\u8f93\u5165\u6570\u636e\u5212\u5206\u4e3a\u591a\u4e2a\u6d41\uff0c\u6216\u5c06\u6765\u81ea\u591a\u4e2a\u6d41\u7684\u6570\u636e\u5408\u5e76\u4e3a\u4e00\u4e2a\u6d41\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Type"}),(0,r.jsx)(n.td,{children:"\u4ea4\u6362\u7c7b\u578b\uff1a\u6536\u96c6\u6216\u91cd\u65b0\u5206\u914d\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"partitionFunctionFactory"}),(0,r.jsx)(n.td,{children:"\u5de5\u5382\u5728\u8ba1\u7b97\u8f93\u5165\u884c\u7684\u5206\u533a\u65f6\u4f7f\u7528\u5206\u533a\u51fd\u6570\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"outputType"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u5217\u7684\u5217\u8868\u3002\u8fd9\u662f\u8f93\u5165\u5217\u7684\u5b50\u96c6\uff0c\u53ef\u80fd\u987a\u5e8f\u4e0d\u540c\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"enforcesinglerownode",children:"EnforceSingleRowNode"}),"\n",(0,r.jsx)(n.p,{children:"\u5f3a\u5236\u5355\u884c\u64cd\u4f5c\u4f1a\u68c0\u67e5\u8f93\u5165\u662f\u5426\u6700\u591a\u5305\u542b\u4e00\u884c\uff0c\u5e76\n\u8fd4\u56de\u672a\u4fee\u6539\u7684\u8be5\u884c\u3002\u5982\u679c\u8f93\u5165\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de\u4e00\u884c\uff0c\u6240\u6709\u503c\u90fd\u8bbe\u7f6e\u4e3a\u7a7a\u3002\u5982\u679c\u8f93\u5165\u5305\u542b\u591a\u884c\uff0c\u5219\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u7528\u4e8e\u5305\u542b\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2\u7684\u67e5\u8be2\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"assignuniqueidnode",children:"AssignUniqueIdNode"}),"\n",(0,r.jsx)(n.p,{children:"\u5206\u914d\u552f\u4e00 ID \u64cd\u4f5c\u4f1a\u5728\u8f93\u5165\u5217\u7684\u672b\u5c3e\u6dfb\u52a0\u4e00\u5217\uff0c\u6bcf\u884c\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u503c\u3002\u6b64\u552f\u4e00\u503c\u6807\u8bb0\u6bcf\u4e2a\u8f93\u51fa\u884c\u5728\u8be5\u8fd0\u7b97\u7b26\u7684\u6240\u6709\u8f93\u51fa\u884c\u4e2d\u90fd\u662f\u552f\u4e00\u7684\u3002"}),"\n",(0,r.jsx)(n.p,{children:"64 \u4f4d\u552f\u4e00 ID \u7684\u6784\u5efa\u65b9\u5f0f\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u524d 24 \u4f4d - \u4efb\u52a1\u552f\u4e00 ID"}),"\n",(0,r.jsx)(n.li,{children:"\u63a5\u4e0b\u6765\u7684 40 \u4f4d - \u8fd0\u7b97\u7b26\u8ba1\u6570\u5668\u503c"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u6dfb\u52a0\u4efb\u52a1\u552f\u4e00 ID \u662f\u4e3a\u4e86\u786e\u4fdd\u751f\u6210\u7684 ID \u5728\u5206\u5e03\u5f0f\u67e5\u8be2\u6267\u884c\u4e2d\u6267\u884c\u540c\u4e00\u67e5\u8be2\u9636\u6bb5\u7684\u6240\u6709\u8282\u70b9\u4e0a\u90fd\u662f\u552f\u4e00\u7684\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"idName"}),(0,r.jsx)(n.td,{children:"\u751f\u6210\u7684\u552f\u4e00 ID \u5217\u7684\u5217\u540d\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"taskUniqueId"}),(0,r.jsx)(n.td,{children:"\u4e00\u4e2a 24 \u4f4d\u6574\u6570\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u6240\u6709\u8282\u70b9\u4e0a\u7684\u4efb\u52a1 ID\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"windownode",children:"WindowNode"}),"\n",(0,r.jsx)(n.p,{children:"\u7a97\u53e3\u8fd0\u7b97\u7b26\u7528\u4e8e\u8bc4\u4f30\u7a97\u53e3\u51fd\u6570\u3002\u8be5\u8fd0\u7b97\u7b26\u5728\u8f93\u5165\u5217\u7684\u672b\u5c3e\u6dfb\u52a0\u7528\u4e8e\u7a97\u53e3\u51fd\u6570\u8f93\u51fa\u7684\u5217\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u7a97\u53e3\u8fd0\u7b97\u7b26\u6839\u636e\u5206\u533a\u5217\u7684\u503c\u5c06\u8f93\u5165\u6570\u636e\u5206\u7ec4\u5230\u5404\u4e2a\u5206\u533a\u4e2d\u3002\u5982\u679c\u672a\u6307\u5b9a\u5206\u533a\u5217\uff0c\u5219\u6240\u6709\u8f93\u5165\u884c\u90fd\u88ab\u89c6\u4e3a\u4f4d\u4e8e\u540c\u4e00\u5206\u533a\u4e2d\u3002\n\u5728\u6bcf\u4e2a\u5206\u533a\u4e2d\uff0c\u884c\u90fd\u6309\u6392\u5e8f\u5217\u7684\u503c\u6392\u5e8f\u3002\n\u7a97\u53e3\u51fd\u6570\u4f1a\u6309\u7167\u6b64\u987a\u5e8f\u9010\u884c\u8ba1\u7b97\u3002\n\u5982\u679c\u672a\u6307\u5b9a\u6392\u5e8f\u5217\uff0c\u5219\u7ed3\u679c\u7684\u987a\u5e8f\u672a\u6307\u5b9a\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"partitionKeys"}),(0,r.jsx)(n.td,{children:"\u6309\u7a97\u53e3\u51fd\u6570\u7684\u5217\u8fdb\u884c\u5206\u533a\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingKeys"}),(0,r.jsx)(n.td,{children:"\u6309\u7a97\u53e3\u51fd\u6570\u7684\u5217\u6392\u5e8f\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sortingOrders"}),(0,r.jsx)(n.td,{children:"\u4e0a\u8ff0\u6bcf\u4e2a\u6392\u5e8f\u952e\u7684\u6392\u5e8f\u987a\u5e8f\u3002\u652f\u6301\u7684\u6392\u5e8f\u987a\u5e8f\u4e3a\uff1aasc nulls first\u3001asc nulls last\u3001desc nulls first \u548c desc nulls last\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"windowColumnNames"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u4e0b\u9762 windowFunctions \u5217\u8868\u4e2d\u6bcf\u4e2a\u7a97\u53e3\u51fd\u6570\u8c03\u7528\u7684\u5217\u540d\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"windowFunctions"}),(0,r.jsx)(n.td,{children:"\u5e26\u6709 frame \u5b50\u53e5\u7684\u7a97\u53e3\u51fd\u6570\u8c03\u7528\u3002\u4f8b\u5982\uff0crow_number()\u3001first_value(name) \u4ecb\u4e8e\u8303\u56f4 10 \u7684\u4e0a\u4e00\u884c\u548c\u5f53\u524d\u884c\u4e4b\u95f4\u3002\u9ed8\u8ba4 frame \u4ecb\u4e8e\u8303\u56f4\u65e0\u754c\u7684\u4e0a\u4e00\u884c\u548c\u5f53\u524d\u884c\u4e4b\u95f4\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"inputsSorted"}),(0,r.jsx)(n.td,{children:"\u5982\u679c\u4e3a true\uff0cWindow \u7b97\u5b50\u4f1a\u5047\u5b9a\u8f93\u5165\u6309\u5206\u533a\u952e\u8fdb\u884c\u805a\u7c7b\uff0c\u5e76\u6309\u6392\u5e8f\u952e\u6309\u6392\u5e8f\u987a\u5e8f\u8fdb\u884c\u6392\u5e8f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7b97\u5b50\u4f1a\u5728\u6536\u5230\u6570\u636e\u540e\u7acb\u5373\u62c6\u5206\u7a97\u53e3\u5206\u533a\u5e76\u5f00\u59cb\u5904\u7406\u3002\u5982\u679c\u4e3a false\uff0cWindow \u7b97\u5b50\u4f1a\u5148\u7d2f\u79ef\u6240\u6709\u8f93\u5165\uff0c\u7136\u540e\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u5e8f\uff0c\u5e76\u6839\u636e\u5b9a\u4e49\u7684\u6761\u4ef6\u62c6\u5206\u7a97\u53e3\u5206\u533a\uff0c\u6700\u540e\u6309\u987a\u5e8f\u5904\u7406\u6bcf\u4e2a\u7a97\u53e3\u5206\u533a\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"rownumbernode",children:"RowNumberNode"}),"\n",(0,r.jsx)(n.p,{children:"WindowNode \u7684\u4f18\u5316\u7248\u672c\uff0c\u5305\u542b\u5355\u4e2a row_number \u51fd\u6570\u3001\n\u53ef\u9009\u7684\u9650\u5236\uff0c\u4e14\u4e0d\u5305\u542b\u6392\u5e8f\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u6307\u5b9a\u7684\u5206\u533a\u952e\u5bf9\u8f93\u5165\u8fdb\u884c\u5206\u533a\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u5206\u533a\u5206\u914d\u4ece 1 \u5f00\u59cb\u7684\u884c\u53f7\u3002\u8be5\u8fd0\u7b97\u7b26\u4ee5\u6d41\u5f0f\u6a21\u5f0f\u8fd0\u884c\u3002\u5bf9\u4e8e\n\u6bcf\u4e00\u6279\u8f93\u5165\uff0c\u5b83\u90fd\u4f1a\u8ba1\u7b97\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u7136\u540e\u518d\u63a5\u53d7\u4e0b\u4e00\u6279\u8f93\u5165\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u8be5\u8fd0\u7b97\u7b26\u4f1a\u7d2f\u79ef\u72b6\u6001\uff1a\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0c\u5c06\u5206\u533a\u952e\u6620\u5c04\u5230\u6b64\u5206\u533a\u4e2d\u8fc4\u4eca\u4e3a\u6b62\u5df2\u67e5\u770b\u7684\u603b\u884c\u6570\u3002\u5c06\u884c\u53f7\u4f5c\u4e3a\u8f93\u51fa\u4e2d\u7684\u4e00\u5217\u8fd4\u56de\u662f\u53ef\u9009\u7684\u3002\u8be5\u8fd0\u7b97\u7b26\u652f\u6301\u6ea2\u51fa\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u8be5\u8fd0\u7b97\u7b26\u76f8\u5f53\u4e8e\u4e00\u4e2a WindowNode\uff0c\u540e\u8ddf ",(0,r.jsx)(n.code,{children:"FilterNode(row_number <= limit)"}),"\uff0c\u4f46\u5b83\u5360\u7528\u7684\u5185\u5b58\u548c CPU \u66f4\u5c11\uff0c\u5e76\u4e14\u5728\u67e5\u770b\u6240\u6709\u8f93\u5165\u4e4b\u524d\u5373\u53ef\u83b7\u5f97\u7ed3\u679c\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"partitionKeys"}),(0,r.jsx)(n.td,{children:"\u6309\u5217\u5206\u533a\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rowNumberColumnName"}),(0,r.jsx)(n.td,{children:"\u53ef\u9009\u7684\u884c\u53f7\u8f93\u51fa\u5217\u540d\u3002\u5982\u679c\u6307\u5b9a\uff0c\u5219\u751f\u6210\u7684\u884c\u53f7\u5c06\u4f5c\u4e3a\u8f93\u51fa\u5217\u8fd4\u56de\uff0c\u8be5\u8f93\u51fa\u5217\u4f4d\u4e8e\u6240\u6709\u8f93\u5165\u5217\u4e4b\u540e\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"limit"}),(0,r.jsx)(n.td,{children:"\u53ef\u9009\u7684\u6bcf\u4e2a\u5206\u533a\u9650\u5236\u3002\u5982\u679c\u6307\u5b9a\uff0c\u5219\u6b64\u8282\u70b9\u751f\u6210\u7684\u4efb\u4f55\u7ed9\u5b9a\u5206\u533a\u7684\u884c\u6570\u90fd\u4e0d\u4f1a\u8d85\u8fc7\u6b64\u503c\u3002\u591a\u4f59\u7684\u884c\u5c06\u88ab\u4e22\u5f03\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"topnrownumbernode",children:"TopNRowNumberNode"}),"\n",(0,r.jsx)(n.p,{children:"WindowNode \u7684\u4f18\u5316\u7248\u672c\uff0c\u5e26\u6709\u5355\u4e2a row_number \u51fd\u6570\uff0c\u5e76\u5bf9\u5df2\u6392\u5e8f\u7684\u5206\u533a\u8bbe\u7f6e\u4e86\u9650\u5236\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u6307\u5b9a\u7684\u5206\u533a\u952e\u5bf9\u8f93\u5165\u8fdb\u884c\u5206\u533a\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u5206\u533a\u7ef4\u62a4\u6700\u591a\u201c\u9650\u5236\u201d\u884c\u6570\u3002\u63a5\u6536\u6240\u6709\u8f93\u5165\u540e\uff0c\n\u4ece 1 \u5f00\u59cb\u4e3a\u6bcf\u4e2a\u5206\u533a\u5206\u914d\u884c\u53f7\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6b64\u8fd0\u7b97\u7b26\u7d2f\u79ef\u72b6\u6001\uff1a\u4e00\u4e2a\u54c8\u5e0c\u8868\uff0c\u5c06\u5206\u533a\u952e\u6620\u5c04\u5230\u8be5\u5206\u533a\u5185\u201c\u9650\u5236\u201d\u884c\u6570\u7684\u5217\u8868\u3002\u5c06\u884c\u53f7\u4f5c\u4e3a\u8f93\u51fa\u4e2d\u7684\u4e00\u5217\u8fd4\u56de\u662f\u53ef\u9009\u7684\u3002\u6b64\u8fd0\u7b97\u7b26\u4e5f\u652f\u6301\u6ea2\u51fa\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u6b64\u8fd0\u7b97\u7b26\u903b\u8f91\u4e0a\u7b49\u540c\u4e8e WindowNode \u540e\u8ddf ",(0,r.jsx)(n.code,{children:"FilterNode(row_number <= limit)"}),"\uff0c\u4f46\u5b83\u5360\u7528\u7684\u5185\u5b58\u548c CPU \u66f4\u5c11\u3002"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"partitionKeys"}),(0,r.jsx)(n.td,{children:"\u6309\u5217\u5206\u533a\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rowNumberColumnName"}),(0,r.jsx)(n.td,{children:"\u53ef\u9009\u7684\u884c\u53f7\u8f93\u51fa\u5217\u540d\u3002\u5982\u679c\u6307\u5b9a\uff0c\u5219\u751f\u6210\u7684\u884c\u53f7\u5c06\u4f5c\u4e3a\u8f93\u51fa\u5217\u8fd4\u56de\uff0c\u8be5\u8f93\u51fa\u5217\u4f4d\u4e8e\u6240\u6709\u8f93\u5165\u5217\u4e4b\u540e\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"limit"}),(0,r.jsx)(n.td,{children:"\u53ef\u9009\u7684\u6bcf\u4e2a\u5206\u533a\u9650\u5236\u3002\u5982\u679c\u6307\u5b9a\uff0c\u5219\u6b64\u8282\u70b9\u751f\u6210\u7684\u4efb\u4f55\u7ed9\u5b9a\u5206\u533a\u7684\u884c\u6570\u90fd\u4e0d\u4f1a\u8d85\u8fc7\u6b64\u503c\u3002\u591a\u4f59\u7684\u884c\u5c06\u88ab\u4e22\u5f03\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"markdistinctnode",children:"MarkDistinctNode"}),"\n",(0,r.jsx)(n.p,{children:"MarkDistinct \u8fd0\u7b97\u7b26\u7528\u4e8e\u751f\u6210\u9488\u5bf9\u4e0d\u540c\u503c\u8fdb\u884c\u805a\u5408\u7684\u805a\u5408\u63a9\u7801\u5217\uff0c\u4f8b\u5982 agg(DISTINCT a)\u3002\n\u63a9\u7801\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\u5217\uff0c\u5bf9\u4e8e\u4e00\u7ec4\u8f93\u5165\u884c\u5b50\u96c6\uff0c\u8bbe\u7f6e\u4e3a true\uff0c\u8fd9\u4e9b\u5b50\u96c6\u5171\u540c\u8868\u793a\u4e00\u7ec4\u201cdistinctKeys\u201d\u7684\u552f\u4e00\u503c\u3002"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"markerName"}),(0,r.jsx)(n.td,{children:"\u8f93\u51fa\u63a9\u7801\u5217\u7684\u540d\u79f0\u3002"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"distinctKeys"}),(0,r.jsx)(n.td,{children:"\u5206\u7ec4\u952e\u7684\u540d\u79f0\u3002"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"join",children:"Join"}),"\n",(0,r.jsx)(n.p,{children:"\u5e26\u6709\u8fde\u63a5\u7684\u67e5\u8be2\u8ba1\u5212\u5305\u542b\u4e00\u4e2a HashJoinNode\u3002\u6b64\u7c7b\u8ba1\u5212\u4f1a\u88ab\u8f6c\u6362\u4e3a\u4e24\u4e2a\u7ba1\u9053\uff1a\u6784\u5efa\u7ba1\u9053\u548c\u63a2\u6d4b\u7ba1\u9053\u3002\u6784\u5efa\u7ba1\u9053\u5904\u7406\u6765\u81ea\u8fde\u63a5\u6784\u5efa\u7aef\n\u7684\u8f93\u5165\uff0c\u5e76\u4f7f\u7528 HashBuild \u8fd0\u7b97\u7b26\u6784\u5efa\u54c8\u5e0c\u8868\u3002\u63a2\u6d4b\u7ba1\u9053\u5904\u7406\u6765\u81ea\u8fde\u63a5\u63a2\u6d4b\u7aef\u7684\u8f93\u5165\uff0c\u63a2\u6d4b\u54c8\u5e0c\u8868\u5e76\u751f\u6210\u7b26\u5408\u8fde\u63a5\u6761\u4ef6\u7684\u884c\u3002\u6784\u5efa\u7ba1\n\u9053\u901a\u8fc7\u4e00\u79cd\u540d\u4e3a JoinBridge \u7684\u7279\u6b8a\u673a\u5236\u5c06\u54c8\u5e0c\u8868\u63d0\u4f9b\u7ed9\u63a2\u6d4b\u7ba1\u9053\u3002\nJoinBridge \u5c31\u50cf\u4e00\u4e2a Future\uff0c\u5176\u4e2d HashBuild \u8fd0\u7b97\u7b26\u4ee5 HashTable \u4f5c\u4e3a\u7ed3\u679c\u5b8c\u6210 Future\uff0c\u800c HashProbe \u8fd0\u7b97\u7b26\u5728 Future \u5b8c\u6210\u65f6\u63a5\u6536\u8be5 HashTable\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6bcf\u4e2a\u7ba1\u9053\u53ef\u4ee5\u4ee5\u4e0d\u540c\u7684\u5e76\u884c\u5ea6\u8fd0\u884c\u3002\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u63a2\u6d4b\u7ba1\u9053\u5728 2 \u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\uff0c\u800c\u6784\u5efa\u7ba1\u9053\u5728 3 \u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\u3002\u5f53\u6784\u5efa\u7ba1\u9053\u4ee5\u591a\n\u7ebf\u7a0b\u8fd0\u884c\u65f6\uff0c\u6bcf\u4e2a\u7ba1\u9053\u90fd\u4f1a\u5904\u7406\u4e00\u90e8\u5206\u6784\u5efa\u7aef\u8f93\u5165\u3002\u6700\u540e\u5b8c\u6210\u5904\u7406\u7684\u7ba1\u9053\u8d1f\u8d23\u5408\u5e76\u6765\u81ea\u5176\u4ed6\u7ba1\u9053\u7684\u54c8\u5e0c\u8868\uff0c\u5e76\u5c06\u6700\u7ec8\u8868\u53d1\u5e03\u5230 JoinBridge\u3002\n\u5f53\u53f3\u5916\u8fde\u63a5\u7684\u63a2\u6d4b\u7ba1\u9053\u4ee5\u591a\u7ebf\u7a0b\u8fd0\u884c\u65f6\uff0c\u6700\u540e\u5b8c\u6210\u5904\u7406\u7684\u7ba1\u9053\u8d1f\u8d23\u4ece\u6784\u5efa\u7aef\u53d1\u51fa\u4e0d\u7b26\u5408\u8fde\u63a5\u6761\u4ef6\u7684\u884c\u3002"}),"\n","\n",(0,r.jsx)("img",{width:"400",align:"center",src:c()}),"\n",(0,r.jsx)(n.h3,{id:"local-exchange",children:"Local Exchange"}),"\n",(0,r.jsx)(n.p,{children:"\u5c40\u90e8\u4ea4\u6362\u64cd\u4f5c\u6709\u591a\u79cd\u7528\u9014\u3002\u5b83\u53ef\u7528\u4e8e\u5c06\u6570\u636e\u5904\u7406\u7684\u5e76\u884c\u6027\u4ece\u591a\u7ebf\u7a0b\u8f6c\u6362\u4e3a\u5355\u7ebf\u7a0b\uff0c\u6216\u53cd\u4e4b\u3002\u4f8b\u5982\uff0c\u5c40\u90e8\u4ea4\u6362\u53ef\u7528\u4e8e\u6392\u5e8f\u64cd\u4f5c\uff0c\u5176\u4e2d\u90e8\u5206\n\u6392\u5e8f\u5728\u591a\u7ebf\u7a0b\u4e2d\u8fd0\u884c\uff0c\u7136\u540e\u5728\u5355\u7ebf\u7a0b\u4e0a\u5408\u5e76\u7ed3\u679c\u3002\u5c40\u90e8\u4ea4\u6362\u64cd\u4f5c\u4e5f\u53ef\u7528\u4e8e\u5408\u5e76\u591a\u4e2a\u6d41\u6c34\u7ebf\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff0c\u5408\u5e76 UNION \u6216 UNION ALL \u7684\u591a\u4e2a\u8f93\u5165\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u4e00\u4e9b\u793a\u4f8b\u3002"}),"\n",(0,r.jsx)(n.p,{children:"N \u5bf9 1 \u5c40\u90e8\u4ea4\u6362\u53ef\u7528\u4e8e\u5408\u5e76\u90e8\u5206\u6392\u5e8f\u7684\u7ed3\u679c\uff0c\u4ee5\u4fbf\u6700\u7ec8\u8fdb\u884c\u5408\u5e76\u6392\u5e8f\u3002"}),"\n","\n",(0,r.jsx)("img",{width:"400",align:"center",src:o()}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u5fc5\u987b\u5355\u7ebf\u7a0b\u8fd0\u884c\u7684\u64cd\u4f5c\u4e4b\u540e\uff0c\u8fdb\u884c\u4e00\u5bf9\u591a\u672c\u5730\u4ea4\u6362\u4ee5\u589e\u52a0\u5e76\u884c\u5ea6\u3002"}),"\n","\n",(0,r.jsx)("img",{width:"400",align:"center",src:j()}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u5730\u4ea4\u6362\u7528\u4e8e\u5408\u5e76\u6765\u81ea\u591a\u4e2a\u7ba1\u9053\u7684\u6570\u636e\uff0c\u4f8b\u5982 UNION ALL\u3002"}),"\n","\n",(0,r.jsx)("img",{width:"400",align:"center",src:p()})]})}function b(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(y,{...e})}):y(e)}},28453:(e,n,d)=>{"use strict";d.d(n,{R:()=>i,x:()=>t});var r=d(96540);const s={},l=r.createContext(s);function i(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);