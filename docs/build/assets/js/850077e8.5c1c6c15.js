"use strict";(self.webpackChunkkumo_website=self.webpackChunkkumo_website||[]).push([[81547],{36518:(n,a,e)=>{e.r(a),e.d(a,{assets:()=>o,contentTitle:()=>r,default:()=>i,frontMatter:()=>c,metadata:()=>p,toc:()=>A});var s=e(74848),l=e(28453);const c={},r="Map Functions",p={id:"pollux/functions/presto/map",title:"Map Functions",description:"See alsomap_agg for creating a map as an aggregation.",source:"@site/versioned_docs/version-1.1.1/pollux/functions/presto/map.mdx",sourceDirName:"pollux/functions/presto",slug:"/pollux/functions/presto/map",permalink:"/docs/pollux/functions/presto/map",draft:!1,unlisted:!1,tags:[],version:"1.1.1",lastUpdatedBy:"Jeff lothar",lastUpdatedAt:1748143706e3,frontMatter:{},sidebar:"docs",previous:{title:"Mathematical Functions",permalink:"/docs/pollux/functions/presto/math"},next:{title:"JSON Functions",permalink:"/docs/pollux/functions/presto/json"}},o={},A=[];function m(n){const a={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"map-functions",children:"Map Functions"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    all_keys_match(x(K,V), function(K, boolean)) -> boolean\n    \u8fd4\u56de\u6620\u5c04\u4e2d\u6240\u6709\u952e\u662f\u5426\u90fd\u4e0e\u7ed9\u5b9a\u7684\u8c13\u8bcd\u5339\u914d\u3002\u5982\u679c\u6240\u6709\u952e\u90fd\u4e0e\u8c13\u8bcd\u5339\u914d\uff08\u7279\u6b8a\u60c5\u51b5\u662f\u6620\u5c04\u4e3a\u7a7a\uff09\uff0c\u5219\u8fd4\u56de true\uff1b\u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\n    \u4e0d\u5339\u914d\uff0c\u5219\u8fd4\u56de false\uff1b\u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u952e\u8fd4\u56de true\uff0c\u5219\u8fd4\u56de NULL\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT all_keys_match(map(array['a', 'b', 'c'], array[1, 2, 3]), x -> length(x) = 1); -- true\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    any_keys_match(x(K,V), function(K, boolean)) -> boolean\n    \u8fd4\u56de\u6620\u5c04\u4e2d\u662f\u5426\u6709\u4efb\u4f55\u952e\u4e0e\u7ed9\u5b9a\u7684\u8c13\u8bcd\u5339\u914d\u3002\u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\u4e0e\u8c13\u8bcd\u5339\u914d\uff0c\u5219\u8fd4\u56de true\uff1b\u5982\u679c\u6ca1\u6709\u952e\u5339\u914d\uff0c\u5219\u8fd4\u56de false\uff08\u7279\u6b8a\u60c5\u51b5\u662f\u6620\u5c04\u4e3a\u7a7a\uff09\uff1b\n    \u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u952e\u8fd4\u56de false\uff0c\u5219\u8fd4\u56de NULL\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT any_keys_match(map(array['a', 'b', 'c'], array[1, 2, 3]), x -> x = 'a'); -- true\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    any_values_match(x(K,V), function(V, boolean)) -> boolean\n\n    \u8fd4\u56de\u6620\u5c04\u4e2d\u662f\u5426\u6709\u4efb\u4f55\u503c\u4e0e\u7ed9\u5b9a\u7684\u8c13\u8bcd\u5339\u914d\u3002\u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u503c\u4e0e\u8c13\u8bcd\u5339\u914d\uff0c\u5219\u8fd4\u56de true\uff1b\u5982\u679c\u6240\u6709\u503c\u5747\u4e0d\u5339\u914d\uff08\u7279\u6b8a\u60c5\u51b5\u662f\u6620\u5c04\u4e3a\u7a7a\uff09\uff0c\u5219\u8fd4\u56de false\uff1b\u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u503c\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u503c\u8fd4\u56de false\uff0c\u5219\u8fd4\u56de NULL\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT ANY_VALUES_MATCH(map(ARRAY['a', 'b', 'c'], ARRAY[1, 2, 3]), x -> x = 1); -- true\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    cardinality(x) -> bigint\n\n    \u8fd4\u56de\u5730\u56fe\u201cx\u201d\u7684\u57fa\u6570\uff08\u5927\u5c0f\uff09\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    element_at(map(K,V), key) -> V\n\n\n    \u8fd4\u56de\u7ed9\u5b9a\u201ckey\u201d\u7684\u503c\uff0c\u5982\u679c\u8be5\u952e\u4e0d\u5305\u542b\u5728\u6620\u5c04\u4e2d\uff0c\u5219\u8fd4\u56de\u201cNULL\u201d\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map() -> map<unknown, unknown>`\n\n    \u8fd4\u56de\u4e00\u4e2a\u7a7a\u5730\u56fe\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"        SELECT map(); -- {}\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map(array(K), array(V)) -> map(K,V)`\n\n   \u8fd4\u56de\u4f7f\u7528\u7ed9\u5b9a\u952e/\u503c\u6570\u7ec4\u521b\u5efa\u7684\u6620\u5c04\u3002\u952e\u4e0d\u5141\u8bb8\u4e3a\u7a7a\u6216\u5305\u542b\u7a7a\u503c\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNaN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map(ARRAY[1,3], ARRAY[2,4]); -- {1 -> 2, 3 -> 4}\n"})}),"\n",(0,s.jsxs)(a.p,{children:["See also :func:",(0,s.jsx)(a.code,{children:"map_agg"})," for creating a map as an aggregation."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_concat(map1(K,V), map2(K,V), ..., mapN(K,V)) -> map(K,V)`\n\n    \u8fd4\u56de\u6240\u6709\u7ed9\u5b9a\u6620\u5c04\u7684\u5e76\u96c6\u3002\u5982\u679c\u5728\u591a\u4e2a\u7ed9\u5b9a\u6620\u5c04\u4e2d\u627e\u5230\u67d0\u4e2a\u952e\uff0c\u5219\u7ed3\u679c\u6620\u5c04\u4e2d\u8be5\u952e\u7684\u503c\u5c06\u6765\u81ea\u6700\u540e\u4e00\u4e2a\u6620\u5c04\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_entries(map(K,V)) -> array(row(K,V))\n\n    \u8fd4\u56de\u7ed9\u5b9a\u6620\u5c04\u4e2d\u6240\u6709\u6761\u76ee\u7684\u6570\u7ec4\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_entries(MAP(ARRAY[1, 2], ARRAY['x', 'y'])); -- [ROW(1, 'x'), ROW(2, 'y')]\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_filter(map(K,V), function(K,V,boolean)) -> map(K,V)\n\n   \u6839\u636e ``map`` \u4e2d ``function`` \u8fd4\u56de true \u7684\u6761\u76ee\u6784\u9020\u4e00\u4e2a\u6620\u5c04\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_filter(MAP(ARRAY[], ARRAY[]), (k, v) -> true); -- {}\n    SELECT map_filter(MAP(ARRAY[10, 20, 30], ARRAY['a', NULL, 'c']), (k, v) -> v IS NOT NULL); -- {10 -> a, 30 -> c}\n    SELECT map_filter(MAP(ARRAY['k1', 'k2', 'k3'], ARRAY[20, 3, 15]), (k, v) -> v > 10); -- {k1 -> 20, k3 -> 15}\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_from_entries(array(row(K, V))) -> map(K, V)\n\n    \u8fd4\u56de\u7531\u7ed9\u5b9a\u6761\u76ee\u6570\u7ec4\u521b\u5efa\u7684\u6620\u5c04\u3002\u952e\u4e0d\u80fd\u4e3a\u7a7a\u6216\u5305\u542b\u7a7a\u503c\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"        SELECT map_from_entries(ARRAY[(1, 'x'), (2, 'y')]); -- {1 -> 'x', 2 -> 'y'}\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_normalize(map(varchar,double)) -> map(varchar,double)\n\n    \u8fd4\u56de\u5177\u6709\u76f8\u540c\u952e\u4f46\u6240\u6709\u975e\u7a7a\u503c\u7684\u6620\u5c04\uff0c\u8fd9\u4e9b\u975e\u7a7a\u503c\u6309\u6bd4\u4f8b\u7f29\u653e\uff0c\u4f7f\u503c\u7684\u603b\u548c\u4e3a 1\u3002\u5177\u6709\u7a7a\u503c\u7684\u6620\u5c04\u6761\u76ee\u4fdd\u6301\u4e0d\u53d8\u3002\n\n    \u5f53\u975e\u7a7a\u503c\u7684\u603b\u548c\u4e3a\u96f6\u65f6\uff0c\u7a7a\u503c\u4fdd\u6301\u4e3a\u7a7a\uff0c\n    \u96f6\u3001NaN\u3001\u65e0\u7a77\u5927\u548c\u8d1f\u65e0\u7a77\u5927\u503c\u53d8\u4e3a NaN\uff0c\n    \u6b63\u503c\u53d8\u4e3a\u65e0\u7a77\u5927\uff0c\u8d1f\u503c\u53d8\u4e3a\u8d1f\u65e0\u7a77\u5927\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_normalize(map(array['a', 'b', 'c'], array[1, 4, 5])); -- {a=0.1, b=0.4, c=0.5}\n    SELECT map_normalize(map(array['a', 'b', 'c', 'd'], array[1, null, 4, 5])); -- {a=0.1, b=null, c=0.4, d=0.5}\n    SELECT map_normalize(map(array['a', 'b', 'c'], array[1, 0, -1])); -- {a=Infinity, b=NaN, c=-Infinity}\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_remove_null_values(map(K,V)) -> map(K,V)\n\n   \u8fd4\u56de\u4e00\u4e2a\u6620\u5c04\uff0c\u8be5\u6620\u5c04\u79fb\u9664\u4e86\u8f93\u5165\u6620\u5c04\u4e2d\u6240\u6709\u503c\u4e3a\u7a7a\u7684\u952e\u3002\u5982\u679c\u8f93\u5165\u4e3a\u7a7a\uff0c\u5219\u8f93\u51fa\u4e5f\u4e3a\u7a7a\u3002\u5982\u679c\u8f93\u5165\u6620\u5c04\u4e3a\u7a7a\uff0c\u5219\u8f93\u51fa\u6620\u5c04\u4e5f\u4e3a\u7a7a\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_remove_null_values(MAP(ARRAY['ab', 'bc', 'cd'], ARRAY[null, null, null])); -- {}\n    SELECT map_remove_null_values(MAP(ARRAY[], ARRAY[])); -- {}\n    SELECT map_remove_null_values(MAP(ARRAY[1, 2, 3], ARRAY[3, 4, NULL])); -- {1=3, 2=4}\n    SELECT map_remove_null_values(NULL); -- NULL\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_subset(map(K,V), array(k)) -> map(K,V)\n\n    \u6839\u636e\u201cmap\u201d\u4e2d\u952e\u4f4d\u4e8e\u7ed9\u5b9a\u6570\u7ec4\u4e2d\u7684\u6761\u76ee\uff0c\u6784\u9020\u4e00\u4e2a\u6620\u5c04\u3002\n    \u5bf9\u4e8e\u5305\u542b REAL \u548c DOUBLE \u7684\u952e\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_subset(MAP(ARRAY[1,2], ARRAY['a','b']), ARRAY[10]); -- {}\n    SELECT map_subset(MAP(ARRAY[1,2], ARRAY['a','b']), ARRAY[1]); -- {1->'a'}\n    SELECT map_subset(MAP(ARRAY[1,2], ARRAY['a','b']), ARRAY[1,3]); -- {1->'a'}\n    SELECT map_subset(MAP(ARRAY[1,2], ARRAY['a','b']), ARRAY[]); -- {}\n    SELECT map_subset(MAP(ARRAY[], ARRAY[]), ARRAY[1,2]); -- {}\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_top_n(map(K,V), n) -> map(K, V)\n\n    \u622a\u65ad Map \u9879\u3002\u4ec5\u4fdd\u7559\u6309\u503c\u6392\u5e8f\u7684\u524d N \u4e2a\u5143\u7d20\u3002\u952e\u7528\u4e8e\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5e76\u4f7f\u7528\u6240\u9009\u7684\u6700\u5927\u952e\u3002\u952e\u548c\u503c\u5747\u5e94\u53ef\u6392\u5e8f\u3002\n\n    \u201cn\u201d\u5fc5\u987b\u662f\u975e\u8d1f\u7684 BIGINT \u503c\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_top_n(map(ARRAY['a', 'b', 'c'], ARRAY[2, 3, 1]), 2) --- {'b' -> 3, 'a' -> 2}\n    SELECT map_top_n(map(ARRAY['a', 'b', 'c'], ARRAY[NULL, 3, NULL]), 2) --- {'b' -> 3, 'c' -> NULL}\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_keys_by_top_n_values(map(K,V), n) -> array(K)\n\n    \u8fd4\u56de Map \u4e2d\u524d N \u4e2a\u952e\u7684\u6570\u7ec4\u3002\u4ec5\u4fdd\u7559\u6309\u503c\u6392\u5e8f\u7684\u524d N \u200b\u200b\u4e2a\u5143\u7d20\u3002\u952e\u7528\u4e8e\u533a\u5206\u5927\u5c0f\u5199\uff0c\u4ee5\u9009\u62e9\u6700\u5927\u952e\u3002\u952e\u548c\u503c\u90fd\u5e94\u53ef\u6392\u5e8f\u3002\n\n    \u201cn\u201d\u5fc5\u987b\u662f\u975e\u8d1f\u7684 BIGINT \u503c\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_keys_by_top_n_values(map(ARRAY['a', 'b', 'c'], ARRAY[2, 3, 1]), 2) --- ['b', 'a']\n    SELECT map_keys_by_top_n_values(map(ARRAY['a', 'b', 'c'], ARRAY[NULL, 3, NULL]), 2) --- ['b', 'c']\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_top_n_keys(map(K,V), n) -> array(K)\n\n    \u6784\u9020\u4e00\u4e2a\u5305\u542b\u524d N \u4e2a\u952e\u7684\u6570\u7ec4\u3002\u952e\u5e94\u53ef\u6392\u5e8f\u3002\n\n    \u201cn\u201d\u5fc5\u987b\u662f\u975e\u8d1f\u7684 BIGINT \u503c\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_top_n_keys(map(ARRAY['a', 'b', 'c'], ARRAY[1, 2, 3]), 2) --- ['c', 'b']\n    SELECT map_top_n_keys(map(ARRAY['a', 'b', 'c'], ARRAY[1, 2, 3]), 0) --- []\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_top_n_values(map(K,V), n) -> array(V)\n\n    \u901a\u8fc7\u5bf9 Map \u4e2d\u7684\u503c\u8fdb\u884c\u964d\u5e8f\u6392\u5e8f\uff0c\u8fd4\u56de\u5176\u4e2d\u7684\u524d N \u200b\u200b\u4e2a\u503c\u3002\u952e\u548c\u503c\u90fd\u5e94\u8be5\u53ef\u6392\u5e8f\u3002\n\n    \u201cn\u201d\u5fc5\u987b\u662f\u975e\u8d1f\u7684 BIGINT \u503c\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_top_n_values(map(ARRAY['a', 'b', 'c'], ARRAY[1, 2, 3]), 2) --- [3, 2]\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_keys(x(K,V)) -> array(K)\n\n   \u8fd4\u56de\u6620\u5c04\u201cx\u201d\u4e2d\u7684\u6240\u6709\u952e\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_values(x(K,V)) -> array(V)\n\n   \u8fd4\u56de\u6620\u5c04\u201cx\u201d\u4e2d\u7684\u6240\u6709\u503c\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    map_zip_with(map(K,V1), map(K,V2), function(K,V1,V2,V3)) -> map(K,V3)\n\n    \u5c06\u4e24\u4e2a\u7ed9\u5b9a\u7684\u6620\u5c04\u5408\u5e76\u4e3a\u4e00\u4e2a\u6620\u5c04\uff0c\u65b9\u6cd5\u662f\u5c06\u201c\u51fd\u6570\u201d\u5e94\u7528\u4e8e\u5177\u6709\u76f8\u540c\u952e\u7684\u503c\u5bf9\u3002\n    \u5bf9\u4e8e\u4ec5\u5b58\u5728\u4e8e\u4e00\u4e2a\u6620\u5c04\u4e2d\u7684\u952e\uff0c\u5c06\u4f20\u9012 NULL \u4f5c\u4e3a\u7f3a\u5931\u952e\u7684\u503c\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT map_zip_with(MAP(ARRAY[1, 2, 3], ARRAY['a', 'b', 'c']), -- {1 -> ad, 2 -> be, 3 -> cf}\n                        MAP(ARRAY[1, 2, 3], ARRAY['d', 'e', 'f']),\n                        (k, v1, v2) -> concat(v1, v2));\n    SELECT map_zip_with(MAP(ARRAY['k1', 'k2'], ARRAY[1, 2]), -- {k1 -> ROW(1, null), k2 -> ROW(2, 4), k3 -> ROW(null, 9)}\n                        MAP(ARRAY['k2', 'k3'], ARRAY[4, 9]),\n                        (k, v1, v2) -> (v1, v2));\n    SELECT map_zip_with(MAP(ARRAY['a', 'b', 'c'], ARRAY[1, 8, 27]), -- {a -> a1, b -> b4, c -> c9}\n                        MAP(ARRAY['a', 'b', 'c'], ARRAY[1, 2, 3]),\n                            (k, v1, v2) -> k || CAST(v1/v2 AS VARCHAR));\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    multimap_from_entries(array(row(K,V))) -> map(K,array(V))\n\n   \u8fd4\u56de\u7531\u7ed9\u5b9a\u6761\u76ee\u6570\u7ec4\u521b\u5efa\u7684\u591a\u91cd\u6620\u5c04\u3002\u6bcf\u4e2a\u952e\u53ef\u4ee5\u4e0e\u591a\u4e2a\u503c\u5173\u8054\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"        SELECT multimap_from_entries(ARRAY[(1, 'x'), (2, 'y'), (1, 'z')]); -- {1 -> ['x', 'z'], 2 -> ['y']}\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    no_keys_match(x(K,V), function(K, boolean)) -> boolean\n\n    \u8fd4\u56de\u6620\u5c04\u4e2d\u662f\u5426\u6ca1\u6709\u952e\u4e0e\u7ed9\u5b9a\u7684\u8c13\u8bcd\u5339\u914d\u3002\u5982\u679c\u6240\u6709\u952e\u5747\u4e0d\u5339\u914d\u8c13\u8bcd\uff08\u7279\u6b8a\u60c5\u51b5\u662f\u6620\u5c04\u4e3a\u7a7a\uff09\uff0c\u5219\u8fd4\u56de true\uff1b\u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\u5339\u914d\uff0c\u5219\u8fd4\u56de false\uff1b\u5982\u679c\u8c13\u8bcd\u51fd\n    \u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u952e\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u952e\u8fd4\u56de false\uff0c\u5219\u8fd4\u56de NULL\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"        SELECT no_keys_match(map(array['a', 'b', 'c'], array[1, 2, 3]), x -> x = 'd'); -- true\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    no_values_match(x(K,V), function(V, boolean)) -> boolean\n\n    \u8fd4\u56de\u6620\u5c04\u4e2d\u662f\u5426\u6ca1\u6709\u4efb\u4f55\u503c\u4e0e\u7ed9\u5b9a\u7684\u8c13\u8bcd\u5339\u914d\u3002\u5982\u679c\u6240\u6709\u503c\u5747\u4e0d\u4e0e\u8c13\u8bcd\u5339\u914d\uff08\u7279\u6b8a\u60c5\u51b5\u662f\u6620\u5c04\u4e3a\u7a7a\uff09\uff0c\u5219\u8fd4\u56de true\uff1b\u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u503c\u5339\u914d\uff0c\u5219\u8fd4\u56de false\uff1b\u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u503c\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u503c\u8fd4\u56de false\uff0c\u5219\u8fd4\u56de NULL\u3002::\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"        SELECT no_values_match(map(array['a', 'b', 'c'], array[1, 2, 3]), x -> x = 'd'); -- true\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    subscript(map(K, V), key) -> V\n\n    \u8fd4\u56de\u7ed9\u5b9a\u201c\u952e\u201d\u7684\u503c\u3002\u5982\u679c\u952e\u4e0d\u5305\u542b\u5728\u6620\u5c04\u4e2d\uff0c\u5219\u8fd4\u56de null\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNaN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\uff0c\u53ef\u4ee5\u7528\u4f5c\u952e\u3002\n    \u5bf9\u5e94\u4e8e SQL \u4e0b\u6807\u8fd0\u7b97\u7b26 []\u3002\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT name_to_age_map['Bob'] AS bob_age;\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    transform_keys(map(K1,V), function(K1,V,K2)) -> map(K2,V)\n\n    \u8fd4\u56de\u4e00\u4e2a\u6620\u5c04\uff0c\u5c06\u201c\u51fd\u6570\u201d\u5e94\u7528\u4e8e\u201c\u6620\u5c04\u201d\u7684\u6bcf\u4e2a\u6761\u76ee\u5e76\u8f6c\u6362\u952e\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT transform_keys(MAP(ARRAY[], ARRAY[]), (k, v) -> k + 1); -- {}\n    SELECT transform_keys(MAP(ARRAY [1, 2, 3], ARRAY ['a', 'b', 'c']), (k, v) -> k + 1); -- {2 -> a, 3 -> b, 4 -> c}\n    SELECT transform_keys(MAP(ARRAY ['a', 'b', 'c'], ARRAY [1, 2, 3]), (k, v) -> v * v); -- {1 -> 1, 4 -> 2, 9 -> 3}\n    SELECT transform_keys(MAP(ARRAY ['a', 'b'], ARRAY [1, 2]), (k, v) -> k || CAST(v as VARCHAR)); -- {a1 -> 1, b2 -> 2}\n    SELECT transform_keys(MAP(ARRAY [1, 2], ARRAY [1.0, 1.4]), -- {one -> 1.0, two -> 1.4}\n                              (k, v) -> MAP(ARRAY[1, 2], ARRAY['one', 'two'])[k]);\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cpp",children:"    transform_values(map(K,V1), function(K,V1,V2)) -> map(K,V2)\n\n    \u8fd4\u56de\u4e00\u4e2a\u6620\u5c04\uff0c\u5c06\u201c\u51fd\u6570\u201d\u5e94\u7528\u4e8e\u201c\u6620\u5c04\u201d\u7684\u6bcf\u4e2a\u6761\u76ee\u5e76\u8f6c\u6362\u503c::\n"})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sql",children:"    SELECT transform_values(MAP(ARRAY[], ARRAY[]), (k, v) -> v + 1); -- {}\n    SELECT transform_values(MAP(ARRAY [1, 2, 3], ARRAY [10, 20, 30]), (k, v) -> v + k); -- {1 -> 11, 2 -> 22, 3 -> 33}\n    SELECT transform_values(MAP(ARRAY [1, 2, 3], ARRAY ['a', 'b', 'c']), (k, v) -> k * k); -- {1 -> 1, 2 -> 4, 3 -> 9}\n    SELECT transform_values(MAP(ARRAY ['a', 'b'], ARRAY [1, 2]), (k, v) -> k || CAST(v as VARCHAR)); -- {a -> a1, b -> b2}\n    SELECT transform_values(MAP(ARRAY [1, 2], ARRAY [1.0, 1.4]), -- {1 -> one_1.0, 2 -> two_1.4}\n                                (k, v) -> MAP(ARRAY[1, 2], ARRAY['one', 'two'])[k] || '_' || CAST(v AS VARCHAR));\n"})})]})}function i(n={}){const{wrapper:a}={...(0,l.R)(),...n.components};return a?(0,s.jsx)(a,{...n,children:(0,s.jsx)(m,{...n})}):m(n)}},28453:(n,a,e)=>{e.d(a,{R:()=>r,x:()=>p});var s=e(96540);const l={},c=s.createContext(l);function r(n){const a=s.useContext(c);return s.useMemo((function(){return"function"==typeof n?n(a):{...a,...n}}),[a,n])}function p(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:r(n.components),s.createElement(c.Provider,{value:a},n.children)}}}]);