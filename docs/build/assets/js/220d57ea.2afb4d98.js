"use strict";(self.webpackChunkkumo_website=self.webpackChunkkumo_website||[]).push([[48229],{27483:(n,a,r)=>{r.r(a),r.d(a,{assets:()=>o,contentTitle:()=>l,default:()=>R,frontMatter:()=>c,metadata:()=>i,toc:()=>t});var e=r(74848),s=r(28453);const c={},l="Array Functions",i={id:"pollux/functions/presto/array",title:"Array Functions",description:"",source:"@site/versioned_docs/version-1.1.1/pollux/functions/presto/array.mdx",sourceDirName:"pollux/functions/presto",slug:"/pollux/functions/presto/array",permalink:"/docs/pollux/functions/presto/array",draft:!1,unlisted:!1,tags:[],version:"1.1.1",lastUpdatedBy:"Jeff lothar",lastUpdatedAt:1748143706e3,frontMatter:{},sidebar:"docs",previous:{title:"Aggregate Functions",permalink:"/docs/pollux/functions/presto/aggregate"},next:{title:"Binary Functions",permalink:"/docs/pollux/functions/presto/binary"}},o={},t=[];function L(n){const a={code:"code",h1:"h1",header:"header",pre:"pre",...(0,s.R)(),...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(a.header,{children:(0,e.jsx)(a.h1,{id:"array-functions",children:"Array Functions"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    all_match(array(T), function(T, boolean)) \u2192 boolean\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u6240\u6709\u5143\u7d20\u662f\u5426\u90fd\u7b26\u5408\u7ed9\u5b9a\u7684\u8c13\u8bcd\u3002\n\n    \u5982\u679c\u6240\u6709\u5143\u7d20\u90fd\u7b26\u5408\u8c13\u8bcd\uff0c\u5219\u8fd4\u56de true\uff08\u6570\u7ec4\u4e3a\u7a7a\u65f6\u662f\u7279\u6b8a\u60c5\u51b5\uff09\uff1b\n    \u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u4e0d\u5339\u914d\uff0c\u5219\u8fd4\u56de false\uff1b\n    \u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u5143\u7d20\u8fd4\u56de true\uff0c\u5219\u8fd4\u56de NULL\u3002\n    \u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u5931\u8d25\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u5bf9\u5176\u4f59\u5143\u7d20\u8fd4\u56de true \u6216 NULL\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    any_match(array(T), function(T, boolean)) \u2192 boolean\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u662f\u5426\u6709\u81f3\u5c11\u4e00\u4e2a\u5143\u7d20\u4e0e\u7ed9\u5b9a\u7684\u8c13\u8bcd\u5339\u914d\u3002\n\n    \u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u4e0e\u8c13\u8bcd\u5339\u914d\uff0c\u5219\u8fd4\u56de true\uff1b\n    \u5982\u679c\u6240\u6709\u5143\u7d20\u5747\u4e0d\u5339\u914d\uff08\u6570\u7ec4\u4e3a\u7a7a\u65f6\u662f\u7279\u6b8a\u60c5\u51b5\uff09\uff0c\u5219\u8fd4\u56de false\uff1b\n    \u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u5143\u7d20\u8fd4\u56de false\uff0c\u5219\u8fd4\u56de NULL\u3002\n    \u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u5931\u8d25\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u5bf9\u5176\u4f59\u5143\u7d20\u8fd4\u56de false \u6216 NULL\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    none_match(array(T), function(T, boolean)) \u2192 boolean\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u6240\u6709\u5143\u7d20\u662f\u5426\u4e0e\u7ed9\u5b9a\u7684\u8c13\u8bcd\u5339\u914d\u3002\n\n    \u5982\u679c\u6240\u6709\u5143\u7d20\u5747\u4e0d\u4e0e\u8c13\u8bcd\u5339\u914d\uff08\u7279\u6b8a\u60c5\u51b5\u662f\u6570\u7ec4\u4e3a\u7a7a\uff09\uff0c\u5219\u8fd4\u56de true\uff1b\n    \u5982\u679c\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u5339\u914d\uff0c\u5219\u8fd4\u56de false\uff1b\n    \u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u8fd4\u56de NULL\uff0c\u800c\u5bf9\u6240\u6709\u5176\u4ed6\u5143\u7d20\u8fd4\u56de false\uff0c\u5219\u8fd4\u56de NULL\u3002\n    \u5982\u679c\u8c13\u8bcd\u51fd\u6570\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u5931\u8d25\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u5bf9\u5176\u4f59\u5143\u7d20\u8fd4\u56de false \u6216 NULL\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_average(array(double)) -> double\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u6240\u6709\u975e\u7a7a\u5143\u7d20\u7684\u5e73\u5747\u503c\u3002\u5982\u679c\u6ca1\u6709\u975e\u7a7a\u5143\u7d20\uff0c\u5219\u8fd4\u56de null\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_cum_sum(array(T)) -> array(T)\n\n    \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5176\u5143\u7d20\u4e3a\u8f93\u5165\u6570\u7ec4\u7684\u7d2f\u52a0\u548c\uff0c\u5373 result[i] = input[1] + input[2] + \u2026 + input[i]\u3002\n    \u5982\u679c\u6570\u7ec4\u4e2d\u5b58\u5728 null \u5143\u7d20\uff0c\u5219\u8be5\u5143\u7d20\u53ca\u4e4b\u540e\u7684\u7d2f\u52a0\u548c\u4e3a null\u3002\n\n    SELECT array_cum_sum(ARRAY [1, 2, 3]) -- array[1, 3, 6]\n    SELECT array_cum_sum(ARRAY [1, 2, null, 3]) -- array[1, 3, null, null]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_distinct(array(E)) -> array(E)\n\n    \u4ece\u8f93\u5165\u6570\u7ec4\u4e2d\u5220\u9664\u91cd\u590d\u7684\u503c\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n\n    SELECT array_distinct(ARRAY [1, 2, 3]); -- [1, 2, 3]\n    SELECT array_distinct(ARRAY [1, 2, 1]); -- [1, 2]\n    SELECT array_distinct(ARRAY [1, NULL, NULL]); -- [1, NULL]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_duplicates(array(E)) -> array(E)\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u51fa\u73b0\u591a\u6b21\u7684\u5143\u7d20\u96c6\u5408\u3002E \u5fc5\u987b\u662f bigint \u6216 varchar\u3002\n\n    select array_duplicates(ARRAY [5, 2, 5, 1, 1, 5, null, null])); -- [null, 1, 5]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_except(array(E) x, array(E) y) -> array(E)\n\n    \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6570\u7ec4\u201cx\u201d\u4f46\u4e0d\u5305\u542b\u5728\u6570\u7ec4\u201cy\u201d\u4e2d\u7684\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u4e14\u4e0d\u5305\u542b\u91cd\u590d\u5143\u7d20\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n\n    SELECT array_except(ARRAY [1, 2, 3], ARRAY [4, 5, 6]); -- [1, 2, 3]\n    SELECT array_except(ARRAY [1, 2, 3], ARRAY [1, 2]); -- [3]\n    SELECT array_except(ARRAY [1, 2, 2], ARRAY [1, 1, 2]); -- []\n    SELECT array_except(ARRAY [1, 2, 2], ARRAY [1, 3, 4]); -- [2]\n    SELECT array_except(ARRAY [1, NULL, NULL], ARRAY [1, 1, NULL]); -- []\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:'    array_frequency(array(E) x) -> map(E, int)\n\n    \u8fd4\u56de\u4e00\u4e2a\u6620\u5c04\uff1a\u952e\u662f\u6570\u7ec4\u4e2d\u552f\u4e00\u5143\u7d20\uff0c\u503c\u662f\u8be5\u952e\u51fa\u73b0\u7684\u6b21\u6570\u3002\n    \u5ffd\u7565\u7a7a\u5143\u7d20\u3002\u7a7a\u6570\u7ec4\u8fd4\u56de\u7a7a\u6620\u5c04\u3002E \u5fc5\u987b\u662f bigint \u6216 varchar\u3002\n\n    SELECT array_frequency(ARRAY [1, 1, 2, 2, 2, 2]); -- {1 -> 2, 2 -> 4}\n    SELECT array_frequency(ARRAY [1, 1, NULL, NULL, NULL]); -- {1 -> 2}\n    SELECT array_frequency(ARRAY ["knock", "knock", "who", "?"]); -- {"knock" -> 2, "who" -> 1, "?" -> 1}\n    SELECT array_frequency(ARRAY []); -- {}\n'})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_has_duplicates(array(E)) -> boolean\n\n    \u8fd4\u56de\u5e03\u5c14\u503c\uff1a\u6570\u7ec4\u4e2d\u662f\u5426\u6709\u5143\u7d20\u51fa\u73b0\u8d85\u8fc7\u4e00\u6b21\u3002E \u5fc5\u987b\u662f bigint \u6216 varchar\u3002\n\n    select array_has_duplicates(ARRAY [5, 2, 5, 1, 1, 5, null, null])); -- true\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_intersect(array(E) x, array(E) y) -> array(E)\n\n    \u8fd4\u56de\u6570\u7ec4\u201cx\u201d\u548c\u6570\u7ec4\u201cy\u201d\u4ea4\u96c6\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u4e0d\u5305\u542b\u91cd\u590d\u5143\u7d20\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n\n    SELECT array_intersect(ARRAY [1, 2, 3], ARRAY[4, 5, 6]); -- []\n    SELECT array_intersect(ARRAY [1, 2, 2], ARRAY[1, 1, 2]); -- [1, 2]\n    SELECT array_intersect(ARRAY [1, NULL, NULL], ARRAY[1, 1, NULL]); -- [1, NULL]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:'    array_join(x, delimiter, null_replacement) -> varchar\n\n    \u4f7f\u7528\u5206\u9694\u7b26\u548c\u53ef\u9009\u5b57\u7b26\u4e32\u8fde\u63a5\u7ed9\u5b9a\u6570\u7ec4\u7684\u5143\u7d20\u4ee5\u66ff\u6362\u7a7a\u503c\u3002\n\n    SELECT array_join(ARRAY [1, 2, 3], ",") -- "1,2,3"\n    SELECT array_join(ARRAY [1, NULL, 2], ",") -- "1,2"\n    SELECT array_join(ARRAY [1, NULL, 2], ",", "0") -- "1,0,2"\n'})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_max(array(E)) -> E\n\n    \u8fd4\u56de\u8f93\u5165\u6570\u7ec4\u7684\u6700\u5927\u503c\u3002\n    NaN \u88ab\u8ba4\u4e3a\u5927\u4e8e\u65e0\u7a77\u5927\u3002\n    \u5982\u679c\u6570\u7ec4\u5305\u542b NULL \u503c\uff0c\u5219\u8fd4\u56de NULL\u3002\n\n    SELECT array_max(ARRAY [1, 2, 3]); -- 3\n    SELECT array_max(ARRAY [-1, -2, -2]); -- -1\n    SELECT array_max(ARRAY [-1, -2, NULL]); -- NULL\n    SELECT array_max(ARRAY []); -- NULL\n    SELECT array_max(ARRAY [-1, nan(), NULL]); -- NULL\n    SELECT array_max(ARRAY[{-1, -2, -3, nan()]); -- NaN\n    SELECT array_max(ARRAY[{infinity(), nan()]); -- NaN\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_min(array(E)) -> E\n\n    \u8fd4\u56de\u8f93\u5165\u6570\u7ec4\u7684\u6700\u5c0f\u503c\u3002NaN \u88ab\u8ba4\u4e3a\u5927\u4e8e\u65e0\u7a77\u5927\u3002\n    \u5982\u679c\u6570\u7ec4\u5305\u542b NULL \u503c\uff0c\u5219\u8fd4\u56de NULL\u3002\n\n    SELECT array_min(ARRAY [1, 2, 3]); -- 1\n    SELECT array_min(ARRAY [-1, -2, -2]); -- -2\n    SELECT array_min(ARRAY [-1, -2, NULL]); -- NULL\n    SELECT array_min(ARRAY []); -- NULL\n    SELECT array_min(ARRAY [-1, nan(), NULL]); -- NULL\n    SELECT array_min(ARRAY[{-1, -2, -3, nan()]); -- -1\n    SELECT array_min(ARRAY[{infinity(), nan()]); -- Infinity\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_normalize(array(E), E) -> array(E)\n\n    \u901a\u8fc7\u5c06\u6bcf\u4e2a\u5143\u7d20\u9664\u4ee5\u6570\u7ec4\u7684 p \u8303\u6570\u6765\u89c4\u8303\u5316\u6570\u7ec4 x\u3002\u5b83\u7b49\u4ef7\u4e8e\n    TRANSFORM(array, v -> v / REDUCE(array, 0, (a, v) -> a + POW(ABS(v), p), a -> POW(a, 1 / p))\uff0c\n    \u4f46\u5f52\u7ea6\u90e8\u5206\u4ec5\u6267\u884c\u4e00\u6b21\u3002\u5982\u679c\u6570\u7ec4\u4e3a\u7a7a\u6216\u6570\u7ec4\u5143\u7d20\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de null\u3002\u5982\u679c p \u4e3a 0\uff0c\u5219\u8fd4\u56de\u8f93\u5165\u6570\u7ec4\u3002\u4ec5\u652f\u6301 REAL \u548c DOUBLE \u7c7b\u578b\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    arrays_overlap(x, y) -> boolean\n\n    \u6d4b\u8bd5\u6570\u7ec4\u201cx\u201d\u548c\u201cy\u201d\u662f\u5426\u6709\u5171\u540c\u7684\u975e\u7a7a\u5143\u7d20\u3002\n    \u5982\u679c\u4e0d\u5b58\u5728\u5171\u540c\u7684\u975e\u7a7a\u5143\u7d20\uff0c\u4f46\u5176\u4e2d\u4e00\u4e2a\u6570\u7ec4\u5305\u542b\u7a7a\u503c\uff0c\u5219\u8fd4\u56de\u7a7a\u503c\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    arrays_union(x, y) -> array\n\n    \u8fd4\u56de x \u548c y \u5e76\u96c6\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u4e0d\u5305\u542b\u91cd\u590d\u9879\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_position(x, element) -> bigint\n\n    \u8fd4\u56de\u6570\u7ec4\u201cx\u201d\u4e2d\u201c\u5143\u7d20\u201d\u9996\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff08\u5982\u679c\u672a\u627e\u5230\uff0c\u5219\u8fd4\u56de 0\uff09\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_position(x, element, instance) -> bigint\n\n    \u5982\u679c\u201cinstance > 0\u201d\uff0c\u5219\u8fd4\u56de\u8be5\u5143\u7d20\u5728\u6570\u7ec4\u201cx\u201d\u4e2d\u7b2c\u201cinstance\u201d\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u201cinstance < 0\u201d\uff0c\u5219\u8fd4\u56de\u8be5\u5143\u7d20\u5728\u6570\u7ec4\u201cx\u201d\u4e2d\u5012\u6570\u7b2c\u201cinstance\u201d\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u672a\u627e\u5230\u5339\u914d\u7684\u5143\u7d20\u5b9e\u4f8b\uff0c\u5219\u8fd4\u56de 0\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_remove(x, element) -> array\n\n    \u4ece\u6570\u7ec4\u201cx\u201d\u4e2d\u79fb\u9664\u6240\u6709\u7b49\u4e8e\u201celement\u201d\u7684\u5143\u7d20\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n\n    SELECT array_remove(ARRAY [1, 2, 3], 3); -- [1, 2]\n    SELECT array_remove(ARRAY [2, 1, NULL], 1); -- [2, NULL]\n    SELECT array_remove(ARRAY [2.1, 1.1, nan()], nan()); -- [2.1, 1.1]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_sort(array(E)) -> array(E)\n\n    \u8fd4\u56de\u4e00\u4e2a\u6309\u8f93\u5165\u6570\u7ec4 x \u7684\u6392\u5e8f\u987a\u5e8f\u6392\u5217\u7684\u6570\u7ec4\u3002E \u5fc5\u987b\u662f\n    \u53ef\u6392\u5e8f\u7c7b\u578b\u3002\u7a7a\u5143\u7d20\u5c06\u88ab\u653e\u7f6e\u5728\u8fd4\u56de\u6570\u7ec4\u7684\u672b\u5c3e\u3002\n    \u5982\u679c E \u662f ARRAY \u6216 ROW \u7c7b\u578b\uff0c\u5e76\u4e14\u8f93\u5165\u503c\u5305\u542b\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u53ef\u80fd\u629b\u51fa\u5f02\u5e38\u3002\n    \u5982\u679c\u786e\u5b9a\u5143\u7d20\u7684\u987a\u5e8f\u9700\u8981\u6bd4\u8f83\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u53ef\u80fd\u629b\u51fa\u5f02\u5e38\u3002\n\n    SELECT array_sort(ARRAY [1, 2, 3]); -- [1, 2, 3]\n    SELECT array_sort(ARRAY [3, 2, 1]); -- [1, 2, 3]\n    SELECT array_sort(ARRAY [infinity(), -1.1, nan(), 1.1, -Infinity(), 0])); -- [-Infinity, -1.1, 0, 1.1, Infinity, NaN]\n    SELECT array_sort(ARRAY [2, 1, NULL]; -- [1, 2, NULL]\n    SELECT array_sort(ARRAY [NULL, 1, NULL]); -- [1, NULL, NULL]\n    SELECT array_sort(ARRAY [NULL, 2, 1]); -- [1, 2, NULL]\n    SELECT array_sort(ARRAY [ARRAY [1, 2], ARRAY [2, null]]); -- [[1, 2], [2, null]]\n    SELECT array_sort(ARRAY [ARRAY [1, 2], ARRAY [1, null]]); -- failed: Ordering nulls is not supported\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_sort(array(T), function(T,U)) -> array(T)\n\n    \u8fd4\u56de\u6309\u6307\u5b9a lambda \u8868\u8fbe\u5f0f\u8ba1\u7b97\u7684\u503c\u5347\u5e8f\u6392\u5e8f\u7684\u6570\u7ec4\u3002U \u5fc5\u987b\u662f\u53ef\u6392\u5e8f\u7c7b\u578b\u3002\u7a7a\u5143\u7d20\u5c06\u653e\u7f6e\u5728\u8fd4\u56de\u6570\u7ec4\u7684\u672b\u5c3e\u3002\u5982\u679c E\n    \u662f ARRAY \u6216 ROW \u7c7b\u578b\uff0c\u4e14\u8f93\u5165\u503c\u5305\u542b\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u53ef\u80fd\u629b\u51fa\u5f02\u5e38\u3002\u5982\u679c\u786e\u5b9a\u5143\u7d20\u7684\u987a\u5e8f\u9700\u8981\u6bd4\u8f83\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u53ef\u80fd\u629b\u51fa\u5f02\u5e38\u3002\n\n    SELECT array_sort(ARRAY ['cat', 'leopard', 'mouse'], x -> length(x)); -- ['cat', 'mouse', 'leopard']\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_sort_desc(array(E)) -> array(E)\n\n    \u8fd4\u56de\u6309\u964d\u5e8f\u6392\u5e8f\u7684\u6570\u7ec4\u3002E \u5fc5\u987b\u662f\u53ef\u6392\u5e8f\u7c7b\u578b\u3002\n    \u7a7a\u5143\u7d20\u5c06\u88ab\u653e\u7f6e\u5728\u8fd4\u56de\u6570\u7ec4\u7684\u672b\u5c3e\u3002\n    \u5982\u679c E \u662f ARRAY \u6216 ROW \u7c7b\u578b\uff0c\u5e76\u4e14\u8f93\u5165\u503c\u5305\u542b\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u53ef\u80fd\u629b\u51fa\u5f02\u5e38\u3002\n    \u5982\u679c\u786e\u5b9a\u5143\u7d20\u7684\u987a\u5e8f\u9700\u8981\u6bd4\u8f83\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u629b\u51fa\u5f02\u5e38\u3002\n\n    SELECT array_sort_desc(ARRAY [1, 2, 3]); -- [3, 2, 1]\n    SELECT array_sort_desc(ARRAY [3, 2, 1]); -- [3, 2, 1]\n    SELECT array_sort_desc(ARRAY [2, 1, NULL]; -- [2, 1, NULL]\n    SELECT array_sort_desc(ARRAY [NULL, 1, NULL]); -- [1, NULL, NULL]\n    SELECT array_sort_desc(ARRAY [NULL, 2, 1]); -- [2, 1, NULL]\n    SELECT array_sort(ARRAY [ARRAY [1, 2], ARRAY [2, null]]); -- [[1, 2], [2, null]]\n    SELECT array_sort(ARRAY [ARRAY [1, 2], ARRAY [1, null]]); -- failed: Ordering nulls is not supported\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_sort_desc(array(T), function(T,U)) -> array(T)\n\n    \u8fd4\u56de\u4f7f\u7528\u6307\u5b9a lambda \u8868\u8fbe\u5f0f\u8ba1\u7b97\u7684\u503c\u6309\u964d\u5e8f\u6392\u5e8f\u7684\u6570\u7ec4\u3002U \u5fc5\u987b\u662f\u53ef\u6392\u5e8f\u7c7b\u578b\u3002\u7a7a\u5143\u7d20\u5c06\u653e\u7f6e\u5728\u8fd4\u56de\u6570\u7ec4\u7684\u672b\u5c3e\u3002\u5982\u679c E\n    \u662f ARRAY \u6216 ROW \u7c7b\u578b\uff0c\u5e76\u4e14\u8f93\u5165\u503c\u5305\u542b\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u53ef\u80fd\u629b\u51fa\u5f02\u5e38\u3002\u5982\u679c\u786e\u5b9a\u5143\u7d20\u7684\u987a\u5e8f\u9700\u8981\u6bd4\u8f83\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u629b\u51fa\u5f02\u5e38\u3002\n\n    SELECT array_sort_desc(ARRAY ['cat', 'leopard', 'mouse'], x -> length(x)); -- ['leopard', 'mouse', 'cat']\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    array_sum(array(T)) -> bigint/double\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u6240\u6709\u975e\u7a7a\u5143\u7d20\u7684\u548c\u3002\u5982\u679c\u6ca1\u6709\u975e\u7a7a\u5143\u7d20\uff0c\u5219\u8fd4\u56de 0\u3002\u5176\u884c\u4e3a\u7c7b\u4f3c\u4e8e\u805a\u5408\u51fd\u6570 sum()\u3002\n    T \u5fc5\u987b\u53ef\u5f3a\u5236\u8f6c\u6362\u4e3a double\u3002\u5982\u679c T \u53ef\u5f3a\u5236\u8f6c\u6362\u4e3a bigint\uff0c\u5219\u8fd4\u56de bigint\u3002\u5426\u5219\uff0c\u8fd4\u56de double\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    cardinality(x) -> bigint\n\n    \u8fd4\u56de\u6570\u7ec4\u201cx\u201d\u7684\u57fa\u6570\uff08\u5927\u5c0f\uff09\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    combinations(array(T), n) -> array(array(T))\n\n    \u8fd4\u56de\u8f93\u5165\u6570\u7ec4\u7684 ``n`` \u4e2a\u5143\u7d20\u7ec4\u5408\u3002\u5982\u679c\u8f93\u5165\u6570\u7ec4\u6ca1\u6709\u91cd\u590d\u9879\uff0c\u5219\u7ec4\u5408\u8fd4\u56de ``n`` \u4e2a\u5143\u7d20\u5b50\u96c6\u3002\u5b50\u7ec4\u7684\u987a\u5e8f\u662f\u786e\u5b9a\u7684\uff0c\u4f46\u672a\u6307\u5b9a\u3002\n    \u5b50\u7ec4\u5185\u5143\u7d20\u7684\u987a\u5e8f\u662f\u786e\u5b9a\u7684\uff0c\u4f46\u672a\u6307\u5b9a\u3002``n`` \u4e0d\u5f97\u5927\u4e8e 5\uff0c\u4e14\u751f\u6210\u7684\u5b50\u7ec4\u603b\u5927\u5c0f\u5fc5\u987b\u5c0f\u4e8e 100000\u3002\n\n    SELECT combinations(ARRAY['foo', 'bar', 'boo'],2); --[['foo', 'bar'], ['foo', 'boo']['bar', 'boo']]\n    SELECT combinations(ARRAY[1,2,3,4,5],3); --[[1,2,3], [1,2,4], [1,3,4], [2,3,4]]\n    SELECT combinations(ARRAY[1,2,2],2); --[[1,2],[1,2],[2,2]]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    concat(array1, array2, ..., arrayN) -> array\n\n    \u8fde\u63a5\u6570\u7ec4\u201carray1\u201d\u3001\u201carray2\u201d\u3001\u201c...\u201d\u3001\u201carrayN\u201d\u3002\u6b64\u51fd\u6570\u63d0\u4f9b\u4e0e SQL \u6807\u51c6\u8fde\u63a5\u8fd0\u7b97\u7b26\uff08\u201c||\u201d\uff09\u76f8\u540c\u7684\u529f\u80fd\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    contains(x, element) -> boolean\n\n    \u5982\u679c\u6570\u7ec4\u201cx\u201d\u5305\u542b\u201c\u5143\u7d20\u201d\uff0c\u5219\u8fd4\u56de true\u3002\n    \u5f53\u201c\u5143\u7d20\u201d\u4e3a\u590d\u6742\u7c7b\u578b\u65f6\uff0c\u5982\u679c\u201cx\u201d\u6216\u201c\u5143\u7d20\u201d\u5305\u542b\u5d4c\u5957\u7684\u7a7a\u503c\uff0c\u5219\u629b\u51fa\u5f02\u5e38\u3002\n    \u5e76\u4e14\u9700\u8981\u6bd4\u8f83\u8fd9\u4e9b\u503c\u624d\u80fd\u5f97\u51fa\u7ed3\u679c\u3002\n    \u5bf9\u4e8e REAL \u548c DOUBLE \u7c7b\u578b\uff0cNAN\uff08\u975e\u6570\u5b57\uff09\u88ab\u89c6\u4e3a\u76f8\u7b49\u3002\n\n    SELECT contains(ARRAY [2.1, 1.1, nan()], nan()); -- true.\n    SELECT contains(ARRAY[ARRAY[1, 3]], ARRAY[2, null]); -- false.\n    SELECT contains(ARRAY[ARRAY[2, 3]], ARRAY[2, null]); -- failed: contains does not support arrays with elements that are null or contain null\n    SELECT contains(ARRAY[ARRAY[2, null]], ARRAY[2, 1]); -- failed: contains does not support arrays with elements that are null or contain null\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    element_at(array(E), index) -> E\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u7ed9\u5b9a\u7d22\u5f15 (index) \u5904\u7684\u5143\u7d20\u3002\n    \u5982\u679c index > 0\uff0c\u6b64\u51fd\u6570\u63d0\u4f9b\u4e0e SQL \u6807\u51c6\u4e0b\u6807\u8fd0\u7b97\u7b26 ([]) \u76f8\u540c\u7684\u529f\u80fd\u3002\n    \u5982\u679c index < 0\uff0c\u5219 element_at \u5c06\u4ece\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5230\u7b2c\u4e00\u4e2a\u5143\u7d20\u8fdb\u884c\u8bbf\u95ee\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    filter(array(T), function(T,boolean)) -> array(T)\n\n    \u4ece ``array`` \u4e2d ``function`` \u8fd4\u56de true \u7684\u5143\u7d20\u6784\u9020\u4e00\u4e2a\u6570\u7ec4\n\n    SELECT filter(ARRAY [], x -> true); -- []\n    SELECT filter(ARRAY [5, -6, NULL, 7], x -> x > 0); -- [5, 7]\n    SELECT filter(ARRAY [5, NULL, 7, NULL], x -> x IS NOT NULL); -- [5, 7]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    find_first(array(T), function(T,boolean)) -> T\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a\u4e0e\u8c13\u8bcd\u5339\u914d\u7684\u5143\u7d20\u3002\n    \u5982\u679c\u6ca1\u6709\u5143\u7d20\u4e0e\u8c13\u8bcd\u5339\u914d\uff0c\u5219\u8fd4\u56de\u201cNULL\u201d\u3002\n    \u5982\u679c\u7b2c\u4e00\u4e2a\u5339\u914d\u5143\u7d20\u4e3a NULL\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u4ee5\u907f\u514d\u5728\u4e0d\u5339\u914d\u548c\u7b2c\u4e00\u4e2a\u5339\u914d\u4e3a NULL \u7684\u60c5\u51b5\u4e0b\u51fa\u73b0\u6b67\u4e49\u7ed3\u679c\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    find_first(array(T), index, function(T,boolean)) -> E\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a\u4e0e\u8c13\u8bcd\u5339\u914d\u7684\u5143\u7d20\u3002\n    \u5982\u679c\u6ca1\u6709\u5143\u7d20\u4e0e\u8c13\u8bcd\u5339\u914d\uff0c\u5219\u8fd4\u56de NULL\u3002\n    \u5982\u679c\u7b2c\u4e00\u4e2a\u5339\u914d\u5143\u7d20\u4e3a NULL\uff0c\u5219\u629b\u51fa\u5f02\u5e38\uff0c\u4ee5\u907f\u514d\u5728\u4e0d\u5339\u914d\u548c\u7b2c\u4e00\u4e2a\u5339\u914d\u4e3a NULL \u7684\u60c5\u51b5\u4e0b\u51fa\u73b0\u6b67\u4e49\u7ed3\u679c\u3002\n    \u5982\u679c index > 0\uff0c\u5219\u4ece\u4f4d\u7f6e index \u5f00\u59cb\u641c\u7d22\u5143\u7d20\uff0c\u76f4\u5230\u6570\u7ec4\u672b\u5c3e\u3002\n    \u5982\u679c index < 0\uff0c\u5219\u4ece\u4f4d\u7f6e abs(index) \u5f00\u59cb\u641c\u7d22\u5143\u7d20\uff0c\u4ece\u6570\u7ec4\u672b\u5c3e\u5f00\u59cb\u8ba1\u6570\uff0c\u76f4\u5230\u6570\u7ec4\u5f00\u5934\u3002\n\n    SELECT find_first(ARRAY[3, 4, 5, 6], 2, x -> x > 0); -- 4\n    SELECT find_first(ARRAY[3, 4, 5, 6], -2, x -> x > 0); -- 5\n    SELECT find_first(ARRAY[3, 4, 5, 6], 2, x -> x < 4); -- NULL\n    SELECT find_first(ARRAY[3, 4, 5, 6], -2, x -> x > 5); -- NULL\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    find_first_index(array(T), function(T,boolean)) -> BIGINT\n\n    \u8fd4\u56de\u4e0e\u8c13\u8bcd\u5339\u914d\u7684\u201c\u6570\u7ec4\u201d\u4e2d\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u4ece 1 \u5f00\u59cb\u7684\u7d22\u5f15\u3002\n    \u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56de\u201cNULL\u201d\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    find_first_index(array(T), index, function(T,boolean)) -> BIGINT\n\n    \u8fd4\u56de\u4e0e\u8c13\u8bcd\u5339\u914d\u7684\u201c\u6570\u7ec4\u201d\u4e2d\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u4ece 1 \u5f00\u59cb\u7684\u7d22\u5f15\u3002\n    \u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56de\u201cNULL\u201d\u3002\n    \u5982\u679c\u201cindex\u201d> 0\uff0c\u5219\u4ece\u201cindex\u201d\u4f4d\u7f6e\u5f00\u59cb\u641c\u7d22\u5143\u7d20\uff0c\u76f4\u81f3\u6570\u7ec4\u672b\u5c3e\u3002\n    \u5982\u679c\u201cindex\u201d< 0\uff0c\u5219\u4ece\u201cabs(index)\u201d\u4f4d\u7f6e\u5f00\u59cb\u641c\u7d22\u5143\u7d20\uff0c\u4ece\u6570\u7ec4\u672b\u5c3e\u5f00\u59cb\u8ba1\u6570\uff0c\u76f4\u81f3\u6570\u7ec4\u5f00\u5934\u3002\n\n    SELECT find_first_index(ARRAY[3, 4, 5, 6], 2, x -> x > 0); -- 2\n    SELECT find_first_index(ARRAY[3, 4, 5, 6], -2, x -> x > 0); -- 3\n    SELECT find_first_index(ARRAY[3, 4, 5, 6], 2, x -> x < 4); -- NULL\n    SELECT find_first_index(ARRAY[3, 4, 5, 6], -2, x -> x > 5); -- NULL\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    flatten(array(array(T))) -> array(T)\n\n    \u901a\u8fc7\u8fde\u63a5\u5305\u542b\u7684\u6570\u7ec4\u5c06\u201carray(array(T))\u201d\u5c55\u5e73\u4e3a\u201carray(T)\u201d\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    ngrams(array(T), n) -> array(array(T))\n\n    \u8fd4\u56de\u6570\u7ec4\u7684 `n-grams <https://en.wikipedia.org/wiki/N-gram>`_\u3002\n    \u5982\u679c n \u4e3a\u96f6\u6216\u8d1f\u6570\uff0c\u5219\u629b\u51fa\u5f02\u5e38\u3002\u5982\u679c n \u5927\u4e8e\u6216\u7b49\u4e8e\u8f93\u5165\u6570\u7ec4\uff0c\n    \u5219\u7ed3\u679c\u6570\u7ec4\u5c06\u4ec5\u5305\u542b\u8f93\u5165\u6570\u7ec4\u3002\n\n    SELECT ngrams(ARRAY['foo', 'bar', 'baz', 'foo'], 2); -- [['foo', 'bar'], ['bar', 'baz'], ['baz', 'foo']]\n    SELECT ngrams(ARRAY['foo', 'bar', 'baz', 'foo'], 3); -- [['foo', 'bar', 'baz'], ['bar', 'baz', 'foo']]\n    SELECT ngrams(ARRAY['foo', 'bar', 'baz', 'foo'], 4); -- [['foo', 'bar', 'baz', 'foo']]\n    SELECT ngrams(ARRAY['foo', 'bar', 'baz', 'foo'], 5); -- [['foo', 'bar', 'baz', 'foo']]\n    SELECT ngrams(ARRAY[1, 2, 3, 4], 2); -- [[1, 2], [2, 3], [3, 4]]\n    SELECT ngrams(ARRAY[\"foo\", NULL, \"bar\"], 2); -- [[\"foo\", NULL], [NULL, \"bar\"]]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    reduce(array(T), initialState S, inputFunction(S,T,S), outputFunction(S,R)) -> R\n\n    \u8fd4\u56de\u4ece ``array`` \u4e2d\u51cf\u53bb\u7684\u5355\u4e2a\u503c\u3002``inputFunction`` \u5c06\u6309\u987a\u5e8f\u5bf9 ``array`` \u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u8c03\u7528\u3002\u9664\u4e86\u83b7\u53d6\u5143\u7d20\u4e4b\u5916\uff0c``inputFunction`` \u8fd8\u4f1a\n    `\u83b7\u53d6\u5f53\u524d\u72b6\u6001\uff08\u521d\u59cb\u72b6\u6001\u4e3a ``initialState``\uff09\uff0c\u5e76\u8fd4\u56de\u65b0\u72b6\u6001\u3002``outputFunction`` \u5c06\u88ab\u8c03\u7528\uff0c\u5c06\u6700\u7ec8\u72b6\u6001\u8f6c\u6362\u4e3a\u7ed3\u679c\u503c\u3002\u5b83\u53ef\u80fd\u662f\u6052\u7b49\u51fd\u6570 (``i -> i``)\u3002\n\n    \u5982\u679c\u6570\u7ec4\u5143\u7d20\u8d85\u8fc7 10,000 \u4e2a\uff0c\u5219\u629b\u51fa\u5f02\u5e38\u3002\n\n    SELECT reduce(ARRAY [], 0, (s, x) -> s + x, s -> s); -- 0\n    SELECT reduce(ARRAY [5, 20, 50], 0, (s, x) -> s + x, s -> s); -- 75\n    SELECT reduce(ARRAY [5, 20, NULL, 50], 0, (s, x) -> s + x, s -> s); -- NULL\n    SELECT reduce(ARRAY [5, 20, NULL, 50], 0, (s, x) -> s + COALESCE(x, 0), s -> s); -- 75\n    SELECT reduce(ARRAY [5, 20, NULL, 50], 0, (s, x) -> IF(x IS NULL, s, s + x), s -> s); -- 75\n    SELECT reduce(ARRAY [2147483647, 1], CAST (0 AS BIGINT), (s, x) -> s + x, s -> s); -- 2147483648\n    SELECT reduce(ARRAY [5, 6, 10, 20], -- calculates arithmetic average: 10.25\n                  CAST(ROW(0.0, 0) AS ROW(sum DOUBLE, count INTEGER)),\n                  (s, x) -> CAST(ROW(x + s.sum, s.count + 1) AS ROW(sum DOUBLE, count INTEGER)),\n                  s -> IF(s.count = 0, NULL, s.sum / s.count));\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    repeat(element, count) -> array(E)\n\n    \u91cd\u590d ``element`` \u8fbe ``count`` \u6b21\u3002``count`` \u4e0d\u80fd\u4e3a\u8d1f\u6570\uff0c\u4e14\u5fc5\u987b\u5c0f\u4e8e\u6216\u7b49\u4e8e 10000\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    reverse(array(E)) -> array(E)\n\n    \u8fd4\u56de\u4e0e\u8f93\u5165\u6570\u7ec4\u987a\u5e8f\u76f8\u53cd\u7684\u6570\u7ec4\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    shuffle(array(E)) -> array(E)\n\n    \u751f\u6210\u7ed9\u5b9a\u201c\u6570\u7ec4\u201d\u7684\u968f\u673a\u6392\u5217\n\n    SELECT shuffle(ARRAY [1, 2, 3]); -- [3, 1, 2] or any other random permutation\n    SELECT shuffle(ARRAY [0, 0, 0]); -- [0, 0, 0]\n    SELECT shuffle(ARRAY [1, NULL, 1, NULL, 2]); -- [2, NULL, NULL, NULL, 1] or any other random permutation\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    slice(array(E), start, length) -> array(E)\n\n    \u8fd4\u56de\u4e00\u4e2a\u4ece\u7d22\u5f15\u201cstart\u201d\u5f00\u59cb\uff08\u5982\u679c\u201cstart\u201d\u4e3a\u8d1f\u6570\uff0c\u5219\u4ece\u672b\u5c3e\u5f00\u59cb\uff09\u4e14\u957f\u5ea6\u4e3a\u201clength\u201d\u7684\u5b50\u6570\u7ec4\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    sequence(start, stop) -> array\n\n    \u751f\u6210\u4e00\u4e2a\u4ece\u8d77\u59cb\u4f4d\u7f6e\u5230\u7ec8\u6b62\u4f4d\u7f6e\u7684\u6574\u6570\u5e8f\u5217\uff0c\u5982\u679c\u8d77\u59cb\u4f4d\u7f6e\u5c0f\u4e8e\u6216\u7b49\u4e8e\u7ec8\u6b62\u4f4d\u7f6e\uff0c\u5219\u52a0 1\uff0c\u5426\u5219\u52a0 -1\u3002\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    sequence(start, stop, step) -> array\n\n    \u751f\u6210\u4ece\u5f00\u59cb\u5230\u505c\u6b62\u7684\u6574\u6570\u5e8f\u5217\uff0c\u6309\u6b65\u9aa4\u9012\u589e\u3002\n\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    subscript(array(E), index) -> E\n\n    \u8fd4\u56de\u6570\u7ec4\u4e2d\u7ed9\u5b9a\u201c\u7d22\u5f15\u201d\u5904\u7684\u5143\u7d20\u3002\u7d22\u5f15\u4ece 1 \u5f00\u59cb\u3002\n    \u5982\u679c\u5143\u7d20\u4e0d\u5728\u6570\u7ec4\u4e2d\uff0c\u5219\u629b\u51fa\u5f02\u5e38\u3002\u5bf9\u5e94\u4e8e SQL \u4e0b\u6807\u8fd0\u7b97\u7b26 []\u3002\n\n    SELECT my_array[1] AS first_element\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    transform(array(T), function(T,U)) -> array(U)\n\n    \u8fd4\u56de\u5c06\u201c\u51fd\u6570\u201d\u5e94\u7528\u4e8e\u201c\u6570\u7ec4\u201d\u7684\u6bcf\u4e2a\u5143\u7d20\u7684\u7ed3\u679c\u6570\u7ec4\uff1a\n\n    SELECT transform(ARRAY [], x -> x + 1); -- []\n    SELECT transform(ARRAY [5, 6], x -> x + 1); -- [6, 7]\n    SELECT transform(ARRAY [5, NULL, 6], x -> COALESCE(x, 0) + 1); -- [6, 1, 7]\n    SELECT transform(ARRAY ['x', 'abc', 'z'], x -> x || '0'); -- ['x0', 'abc0', 'z0']\n    SELECT transform(ARRAY [ARRAY [1, NULL, 2], ARRAY[3, NULL]], a -> filter(a, x -> x IS NOT NULL)); -- [[1, 2], [3]]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    trim_array(x, n) -> array\n\n    \u4ece ``array`` \u7684\u672b\u5c3e\u5220\u9664 n \u4e2a\u5143\u7d20\n\n    SELECT trim_array(ARRAY[1, 2, 3, 4], 1); -- [1, 2, 3]\n    SELECT trim_array(ARRAY[1, 2, 3, 4], 2); -- [1, 2]\n    SELECT trim_array(ARRAY[1, 2, 3, 4], 4); -- []\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    remove_nulls(x) -> array\n\n    \u4ece\u6570\u7ec4 ``array`` \u4e2d\u5220\u9664\u7a7a\u503c\n\n    SELECT remove_nulls(ARRAY[1, NULL, 3, NULL]); -- [1, 3]\n    SELECT remove_nulls(ARRAY[true, false, NULL]); -- [true, false]\n    SELECT remove_nulls(ARRAY[ARRAY[1, 2], NULL, ARRAY[1, NULL, 3]]); -- [[1, 2], [1, null, 3]]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    zip(array(T), array(U),..) -> array(row(T,U, ...))\n\n    \u8fd4\u56de\u5c06\u7ed9\u5b9a\u6570\u7ec4\u6309\u5143\u7d20\u5408\u5e76\u4e3a\u4e00\u4e2a\u884c\u6570\u7ec4\u7684\u7ed3\u679c\u3002\n    \u7b2c N \u4e2a\u53c2\u6570\u7684\u7b2c M \u4e2a\u5143\u7d20\u5c06\u4f5c\u4e3a\u7b2c M \u4e2a\u8f93\u51fa\u5143\u7d20\u7684\u7b2c N \u4e2a\u5b57\u6bb5\u3002\n    \u5982\u679c\u53c2\u6570\u957f\u5ea6\u4e0d\u4e00\u81f4\uff0c\u5219\u7f3a\u5931\u503c\u5c06\u7528\u201cNULL\u201d\u586b\u5145\u3002\n\n    SELECT zip(ARRAY[1, 2], ARRAY['1b', null, '3b']); -- [ROW(1, '1b'), ROW(2, null), ROW(null, '3b')]\n"})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-cpp",children:"    zip_with(array(T), array(U), function(T,U,R)) -> array(R)\n\n    \u4f7f\u7528\u201c\u51fd\u6570\u201d\u5c06\u4e24\u4e2a\u7ed9\u5b9a\u6570\u7ec4\u6309\u5143\u7d20\u5408\u5e76\u4e3a\u4e00\u4e2a\u6570\u7ec4\u3002\n    \u5982\u679c\u5176\u4e2d\u4e00\u4e2a\u6570\u7ec4\u8f83\u77ed\uff0c\u5219\u5728\u5e94\u7528\u201c\u51fd\u6570\u201d\u4e4b\u524d\uff0c\u5728\u672b\u5c3e\u6dfb\u52a0 null \u4ee5\u5339\u914d\u8f83\u957f\u6570\u7ec4\u7684\u957f\u5ea6\u3002\n\n    SELECT zip_with(ARRAY[1, 3, 5], ARRAY['a', 'b', 'c'], (x, y) -> (y, x)); -- [ROW('a', 1), ROW('b', 3), ROW('c', 5)]\n    SELECT zip_with(ARRAY[1, 2], ARRAY[3, 4], (x, y) -> x + y); -- [4, 6]\n    SELECT zip_with(ARRAY['a', 'b', 'c'], ARRAY['d', 'e', 'f'], (x, y) -> concat(x, y)); -- ['ad', 'be', 'cf']\n    SELECT zip_with(ARRAY['a'], ARRAY['d', null, 'f'], (x, y) -> coalesce(x, y)); -- ['a', null, 'f']\n"})})]})}function R(n={}){const{wrapper:a}={...(0,s.R)(),...n.components};return a?(0,e.jsx)(a,{...n,children:(0,e.jsx)(L,{...n})}):L(n)}},28453:(n,a,r)=>{r.d(a,{R:()=>l,x:()=>i});var e=r(96540);const s={},c=e.createContext(s);function l(n){const a=e.useContext(c);return e.useMemo((function(){return"function"==typeof n?n(a):{...a,...n}}),[a,n])}function i(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),e.createElement(c.Provider,{value:a},n.children)}}}]);