(self.webpackChunkkumo_website=self.webpackChunkkumo_website||[]).push([[20685],{9722:(e,n,s)=>{e.exports={src:{srcSet:s.p+"assets/ideal-img/pooled_conn.7af2373.640.png 640w,"+s.p+"assets/ideal-img/pooled_conn.7c61471.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/pooled_conn.7af2373.640.png",width:640,height:33},{path:s.p+"assets/ideal-img/pooled_conn.7c61471.1030.png",width:1030,height:52}],src:s.p+"assets/ideal-img/pooled_conn.7af2373.640.png",toString:function(){return s.p+"assets/ideal-img/pooled_conn.7af2373.640.png"},placeholder:void 0,width:640,height:33},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJElEQVR4nGN4/Pjx/3v37oHx3bt3/9+5cxdMQ9h3wPjJkyf/AeDFJAIETCxrAAAAAElFTkSuQmCC"}},83993:(e,n,s)=>{e.exports={src:{srcSet:s.p+"assets/ideal-img/short_conn.dab9523.640.png 640w,"+s.p+"assets/ideal-img/short_conn.2980699.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/short_conn.dab9523.640.png",width:640,height:33},{path:s.p+"assets/ideal-img/short_conn.2980699.1030.png",width:1030,height:53}],src:s.p+"assets/ideal-img/short_conn.dab9523.640.png",toString:function(){return s.p+"assets/ideal-img/short_conn.dab9523.640.png"},placeholder:void 0,width:640,height:33},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAALElEQVR4nGN4/vz5/zNnzvw/ePDg/2fPnv2/f//+/4cPH/5/9PAhhH70CIwB1vkj2GF+8u0AAAAASUVORK5CYII="}},42017:(e,n,s)=>{e.exports={src:{srcSet:s.p+"assets/ideal-img/single_conn.6b8ce80.640.png 640w,"+s.p+"assets/ideal-img/single_conn.6619270.1030.png 1030w",images:[{path:s.p+"assets/ideal-img/single_conn.6b8ce80.640.png",width:640,height:31},{path:s.p+"assets/ideal-img/single_conn.6619270.1030.png",width:1030,height:50}],src:s.p+"assets/ideal-img/single_conn.6b8ce80.640.png",toString:function(){return s.p+"assets/ideal-img/single_conn.6b8ce80.640.png"},placeholder:void 0,width:640,height:31},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAH0lEQVR4nGN4/Pjx//v37v2/ffs2HN+5cweMYXyQGgDeMCPhnMlpwgAAAABJRU5ErkJggg=="}},60705:(e,n,s)=>{"use strict";s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>j,default:()=>m,frontMatter:()=>o,metadata:()=>p,toc:()=>A});var t=s(74848),d=s(28453),i=s(42017),c=s.n(i),r=s(9722),h=s.n(r),l=s(83993),x=s.n(l);const o={},j="connections\u670d\u52a1",p={id:"cpp/krpc/connections",title:"connections\u670d\u52a1",description:"connections\u670d\u52a1\u53ef\u4ee5\u67e5\u770b\u6240\u6709\u7684\u8fde\u63a5\u3002\u4e00\u4e2a\u5178\u578b\u7684\u9875\u9762\u5982\u4e0b\uff1a",source:"@site/versioned_docs/version-1.1.1/cpp/krpc/connections.mdx",sourceDirName:"cpp/krpc",slug:"/cpp/krpc/connections",permalink:"/docs/cpp/krpc/connections",draft:!1,unlisted:!1,tags:[],version:"1.1.1",lastUpdatedBy:"Jeff lothar",lastUpdatedAt:1748081772e3,frontMatter:{},sidebar:"docs",previous:{title:"\u7194\u65ad\u529f\u80fd",permalink:"/docs/cpp/krpc/circuit_breaker"},next:{title:"lalb\u8c03\u5ea6",permalink:"/docs/cpp/krpc/lalb"}},a={},A=[];function g(e){const n={a:"a",h1:"h1",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"connections\u670d\u52a1",children:"connections\u670d\u52a1"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"http://krpc.baidu.com:8765/connections",children:"connections\u670d\u52a1"}),"\u53ef\u4ee5\u67e5\u770b\u6240\u6709\u7684\u8fde\u63a5\u3002\u4e00\u4e2a\u5178\u578b\u7684\u9875\u9762\u5982\u4e0b\uff1a"]}),"\n",(0,t.jsx)(n.p,{children:"server_socket_count: 5"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"CreatedTime"}),(0,t.jsx)(n.th,{children:"RemoteSide"}),(0,t.jsx)(n.th,{children:"SSL"}),(0,t.jsx)(n.th,{children:"Protocol"}),(0,t.jsx)(n.th,{children:"fd"}),(0,t.jsx)(n.th,{children:"BytesIn/s"}),(0,t.jsx)(n.th,{children:"In/s"}),(0,t.jsx)(n.th,{children:"BytesOut/s"}),(0,t.jsx)(n.th,{children:"Out/s"}),(0,t.jsx)(n.th,{children:"BytesIn/m"}),(0,t.jsx)(n.th,{children:"In/m"}),(0,t.jsx)(n.th,{children:"BytesOut/m"}),(0,t.jsx)(n.th,{children:"Out/m"}),(0,t.jsx)(n.th,{children:"SocketId"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2015/09/21-21:32:09.630840"}),(0,t.jsx)(n.td,{children:"172.22.38.217:51379"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"http"}),(0,t.jsx)(n.td,{children:"19"}),(0,t.jsx)(n.td,{children:"1300"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"269"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"68844"}),(0,t.jsx)(n.td,{children:"53"}),(0,t.jsx)(n.td,{children:"115860"}),(0,t.jsx)(n.td,{children:"53"}),(0,t.jsx)(n.td,{children:"257"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2015/09/21-21:32:09.630857"}),(0,t.jsx)(n.td,{children:"172.22.38.217:51380"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"http"}),(0,t.jsx)(n.td,{children:"20"}),(0,t.jsx)(n.td,{children:"1308"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"5766"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"68884"}),(0,t.jsx)(n.td,{children:"53"}),(0,t.jsx)(n.td,{children:"129978"}),(0,t.jsx)(n.td,{children:"53"}),(0,t.jsx)(n.td,{children:"258"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2015/09/21-21:32:09.630880"}),(0,t.jsx)(n.td,{children:"172.22.38.217:51381"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"http"}),(0,t.jsx)(n.td,{children:"21"}),(0,t.jsx)(n.td,{children:"1292"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"1447"}),(0,t.jsx)(n.td,{children:"1"}),(0,t.jsx)(n.td,{children:"67672"}),(0,t.jsx)(n.td,{children:"52"}),(0,t.jsx)(n.td,{children:"143414"}),(0,t.jsx)(n.td,{children:"52"}),(0,t.jsx)(n.td,{children:"259"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2015/09/21-21:32:01.324587"}),(0,t.jsx)(n.td,{children:"127.0.0.1:55385"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"baidu_std"}),(0,t.jsx)(n.td,{children:"15"}),(0,t.jsx)(n.td,{children:"1480"}),(0,t.jsx)(n.td,{children:"20"}),(0,t.jsx)(n.td,{children:"880"}),(0,t.jsx)(n.td,{children:"20"}),(0,t.jsx)(n.td,{children:"88020"}),(0,t.jsx)(n.td,{children:"1192"}),(0,t.jsx)(n.td,{children:"52260"}),(0,t.jsx)(n.td,{children:"1192"}),(0,t.jsx)(n.td,{children:"512"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2015/09/21-21:32:01.325969"}),(0,t.jsx)(n.td,{children:"127.0.0.1:55387"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"baidu_std"}),(0,t.jsx)(n.td,{children:"17"}),(0,t.jsx)(n.td,{children:"4016"}),(0,t.jsx)(n.td,{children:"40"}),(0,t.jsx)(n.td,{children:"1554"}),(0,t.jsx)(n.td,{children:"40"}),(0,t.jsx)(n.td,{children:"238879"}),(0,t.jsx)(n.td,{children:"2384"}),(0,t.jsx)(n.td,{children:"92660"}),(0,t.jsx)(n.td,{children:"2384"}),(0,t.jsx)(n.td,{children:"1024"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"channel_socket_count: 1"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"CreatedTime"}),(0,t.jsx)(n.th,{children:"RemoteSide"}),(0,t.jsx)(n.th,{children:"SSL"}),(0,t.jsx)(n.th,{children:"Protocol"}),(0,t.jsx)(n.th,{children:"fd"}),(0,t.jsx)(n.th,{children:"BytesIn/s"}),(0,t.jsx)(n.th,{children:"In/s"}),(0,t.jsx)(n.th,{children:"BytesOut/s"}),(0,t.jsx)(n.th,{children:"Out/s"}),(0,t.jsx)(n.th,{children:"BytesIn/m"}),(0,t.jsx)(n.th,{children:"In/m"}),(0,t.jsx)(n.th,{children:"BytesOut/m"}),(0,t.jsx)(n.th,{children:"Out/m"}),(0,t.jsx)(n.th,{children:"SocketId"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"2015/09/21-21:32:01.325870"}),(0,t.jsx)(n.td,{children:"127.0.0.1:8765"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"baidu_std"}),(0,t.jsx)(n.td,{children:"16"}),(0,t.jsx)(n.td,{children:"1554"}),(0,t.jsx)(n.td,{children:"40"}),(0,t.jsx)(n.td,{children:"4016"}),(0,t.jsx)(n.td,{children:"40"}),(0,t.jsx)(n.td,{children:"92660"}),(0,t.jsx)(n.td,{children:"2384"}),(0,t.jsx)(n.td,{children:"238879"}),(0,t.jsx)(n.td,{children:"2384"}),(0,t.jsx)(n.td,{children:"0"})]})})]}),"\n",(0,t.jsx)(n.p,{children:"channel_short_socket_count: 0"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0a\u8ff0\u4fe1\u606f\u5206\u4e3a\u4e09\u6bb5\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7b2c\u4e00\u6bb5\u662fserver\u63a5\u53d7(accept)\u7684\u8fde\u63a5\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u7b2c\u4e8c\u6bb5\u662fserver\u4e0e\u4e0b\u6e38\u7684\u5355\u8fde\u63a5\uff08\u4f7f\u7528krpc::Channel\u5efa\u7acb\uff09\uff0cfd\u4e3a-1\u7684\u662f\u865a\u62df\u8fde\u63a5\uff0c\u5bf9\u5e94\u7b2c\u4e09\u6bb5\u4e2d\u6240\u6709\u76f8\u540cRemoteSide\u7684\u8fde\u63a5\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u7b2c\u4e09\u6bb5\u662fserver\u4e0e\u4e0b\u6e38\u7684\u77ed\u8fde\u63a5\u6216\u8fde\u63a5\u6c60(pooled connections)\uff0c\u8fd9\u4e9b\u8fde\u63a5\u4ece\u5c5e\u4e8e\u7b2c\u4e8c\u6bb5\u4e2d\u7684\u76f8\u540cRemoteSide\u7684\u865a\u62df\u8fde\u63a5\u3002"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u8868\u683c\u6807\u9898\u7684\u542b\u4e49\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"RemoteSide : \u8fdc\u7aef\u7684ip\u548c\u7aef\u53e3\u3002"}),"\n",(0,t.jsx)(n.li,{children:"SSL\uff1a\u662f\u5426\u4f7f\u7528SSL\u52a0\u5bc6\uff0c\u82e5\u4e3aYes\u7684\u8bdd\uff0c\u4e00\u822c\u662fHTTPS\u8fde\u63a5\u3002"}),"\n",(0,t.jsx)(n.li,{children:"Protocol : \u4f7f\u7528\u7684\u534f\u8bae\uff0c\u53ef\u80fd\u4e3abaidu_std hulu_pbrpc sofa_pbrpc memcache http public_pbrpc nova_pbrpc nshead_server\u7b49\u3002"}),"\n",(0,t.jsx)(n.li,{children:"fd : file descriptor\uff08\u6587\u4ef6\u63cf\u8ff0\u7b26\uff09\uff0c\u53ef\u80fd\u4e3a-1\u3002"}),"\n",(0,t.jsx)(n.li,{children:"BytesIn/s : \u4e0a\u4e00\u79d2\u8bfb\u5165\u7684\u5b57\u8282\u6570"}),"\n",(0,t.jsx)(n.li,{children:"In/s : \u4e0a\u4e00\u79d2\u8bfb\u5165\u7684\u6d88\u606f\u6570\uff08\u6d88\u606f\u662f\u5bf9request\u548cresponse\u7684\u7edf\u79f0\uff09"}),"\n",(0,t.jsx)(n.li,{children:"BytesOut/s : \u4e0a\u4e00\u79d2\u5199\u51fa\u7684\u5b57\u8282\u6570"}),"\n",(0,t.jsx)(n.li,{children:"Out/s : \u4e0a\u4e00\u79d2\u5199\u51fa\u7684\u6d88\u606f\u6570"}),"\n",(0,t.jsx)(n.li,{children:"BytesIn/m: \u4e0a\u4e00\u5206\u949f\u8bfb\u5165\u7684\u5b57\u8282\u6570"}),"\n",(0,t.jsx)(n.li,{children:"In/m: \u4e0a\u4e00\u5206\u949f\u8bfb\u5165\u7684\u6d88\u606f\u6570"}),"\n",(0,t.jsx)(n.li,{children:"BytesOut/m: \u4e0a\u4e00\u5206\u949f\u5199\u51fa\u7684\u5b57\u8282\u6570"}),"\n",(0,t.jsx)(n.li,{children:"Out/m: \u4e0a\u4e00\u5206\u949f\u5199\u51fa\u7684\u6d88\u606f\u6570"}),"\n",(0,t.jsx)(n.li,{children:"SocketId \uff1a\u5185\u90e8id\uff0c\u7528\u4e8edebug\uff0c\u7528\u6237\u4e0d\u7528\u5173\u5fc3\u3002"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u5178\u578b\u622a\u56fe\u5206\u522b\u5982\u4e0b\u6240\u793a\uff1a"}),"\n","\n",(0,t.jsx)(n.p,{children:"\u5355\u8fde\u63a5\uff1a"}),"\n",(0,t.jsx)("img",{src:c()}),"\n","\n",(0,t.jsx)(n.p,{children:"\u8fde\u63a5\u6c60\uff1a"}),"\n",(0,t.jsx)("img",{src:h()}),"\n","\n",(0,t.jsx)(n.p,{children:"\u77ed\u8fde\u63a5\uff1a"}),"\n",(0,t.jsx)("img",{src:x()})]})}function m(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},28453:(e,n,s)=>{"use strict";s.d(n,{R:()=>c,x:()=>r});var t=s(96540);const d={},i=t.createContext(d);function c(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);