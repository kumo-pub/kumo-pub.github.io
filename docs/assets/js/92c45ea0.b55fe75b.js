"use strict";(self.webpackChunkkumo_website=self.webpackChunkkumo_website||[]).push([[29898],{1193:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>t,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var r=a(74848),s=a(28453);const i={},c="Binary Functions",l={id:"pollux/functions/presto/binary",title:"Binary Functions",description:"",source:"@site/versioned_docs/version-1.1.1/pollux/functions/presto/binary.mdx",sourceDirName:"pollux/functions/presto",slug:"/pollux/functions/presto/binary",permalink:"/docs/pollux/functions/presto/binary",draft:!1,unlisted:!1,tags:[],version:"1.1.1",lastUpdatedBy:"Jeff lothar",lastUpdatedAt:1748153093e3,frontMatter:{},sidebar:"docs",previous:{title:"Array Functions",permalink:"/docs/pollux/functions/presto/array"},next:{title:"Bitwise Functions",permalink:"/docs/pollux/functions/presto/bitwise"}},d={},o=[];function p(n){const e={code:"code",h1:"h1",header:"header",pre:"pre",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"binary-functions",children:"Binary Functions"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    crc32(binary) -> bigint\n\n   \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 crc32 \u6821\u9a8c\u548c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    from_base64(string) -> varbinary\n\n    \u5c06 Base64 \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u89e3\u7801\u56de\u5176\u539f\u59cb\u4e8c\u8fdb\u5236\u5f62\u5f0f\u3002\n    \u6b64\u51fd\u6570\u80fd\u591f\u5904\u7406\u5b8c\u5168\u586b\u5145\u548c\u672a\u586b\u5145\u7684 Base64 \u7f16\u7801\u5b57\u7b26\u4e32\u3002\n    \u90e8\u5206\u586b\u5145\u7684 Base64 \u5b57\u7b26\u4e32\u4e0d\u53d7\u652f\u6301\uff0c\u5e76\u5c06\u8fd4\u56de\u201cUserError\u201d\u72b6\u6001\u3002\n\n    Examples\n    --------\n    Query with padded Base64 string:\n\n        SELECT from_base64('SGVsbG8gV29ybGQ='); -- [72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]\n    Query with non-padded Base64 string:\n\n        SELECT from_base64('SGVsbG8gV29ybGQ'); -- [72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]\n\n    Query with partial-padded Base64 string:\n\n        SELECT from_base64('SGVsbG8gV29ybGQgZm9yIHZlbG94IQ=');\n        -- UserError: Base64::decode() - invalid input string: string length is not a multiple of 4.\n\n    \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5b8c\u5168\u586b\u5145\u548c\u672a\u586b\u5145\u7684 Base64 \u5b57\u7b26\u4e32\uff08\u201cSGVsbG8gV29ybGQ=\u201d\u548c\u201cSGVsbG8gV29ybGQ\u201d\uff09\u5747\u89e3\u7801\u4e3a\u6587\u672c\n    \u201cHello World\u201d\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u3002\u90e8\u5206\u586b\u5145\u7684 Base64 \u5b57\u7b26\u4e32\u201cSGVsbG8gV29ybGQgZm9yIHZlbG94IQ=\u201d\u5c06\u5bfc\u81f4\u201cUserError\u201d\n    \u72b6\u6001\uff0c\u8868\u793a Base64 \u5b57\u7b26\u4e32\u65e0\u6548\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    from_base64url(string) -> varbinary\n\n     \u4f7f\u7528URL \u5b89\u5168\u5b57\u6bcd\u8868:https://www.rfc-editor.org/rfc/rfc4648#section-5\u5c06 base64 \u7f16\u7801\u8868\u793a\u4e2d\u7684\u201cstring\u201d\u6570\u636e\u89e3\u7801\u4e3a varbinary\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    from_big_endian_32(varbinary) -> integer\n\n    \u4ece 32 \u4f4d 2 \u7684\u8865\u7801\u5927\u7aef\u201c\u4e8c\u8fdb\u5236\u201d\u89e3\u7801\u201c\u6574\u6570\u201d\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    from_big_endian_64(varbinary) -> bigint\n\n    \u4ece 64 \u4f4d 2 \u7684\u8865\u7801\u5927\u7aef\u201c\u4e8c\u8fdb\u5236\u201d\u89e3\u7801\u201cbigint\u201d\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    from_hex(string) -> varbinary\n\n    \u4ece\u5341\u516d\u8fdb\u5236\u7f16\u7801\u7684\u201c\u5b57\u7b26\u4e32\u201d\u89e3\u7801\u4e8c\u8fdb\u5236\u6570\u636e\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    from_ieee754_32(binary) -> real\n\n    \u4ee5 IEEE 754 \u5355\u7cbe\u5ea6\u6d6e\u70b9\u683c\u5f0f\u89e3\u7801 32 \u4f4d\u5927\u7aef\u201c\u4e8c\u8fdb\u5236\u201d\u3002\n    \u5982\u679c\u8f93\u5165\u957f\u5ea6\u77ed\u4e8e/\u957f\u4e8e 32 \u4f4d\uff0c\u5219\u4f1a\u5f15\u53d1\u7528\u6237\u9519\u8bef\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    from_ieee754_64(binary) -> double\n\n    \u4ee5 IEEE 754 \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u683c\u5f0f\u89e3\u7801 64 \u4f4d\u5927\u7aef\u201c\u4e8c\u8fdb\u5236\u201d\u3002\n    \u5982\u679c\u8f93\u5165\u957f\u5ea6\u77ed\u4e8e/\u957f\u4e8e 64 \u4f4d\uff0c\u5219\u4f1a\u5f15\u53d1\u7528\u6237\u9519\u8bef\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    hmac_md5(binary, key) -> varbinary\n\n    \u4f7f\u7528\u7ed9\u5b9a\u7684\u201ckey\u201d\u8ba1\u7b97\u201cbinary\u201d\u7684 md5 HMAC\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    hmac_sha1(binary, key) -> varbinary\n\n    \u4f7f\u7528\u7ed9\u5b9a\u7684\u201c\u5bc6\u94a5\u201d\u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 sha1 \u7684 HMAC\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    hmac_sha256(binary, key) -> varbinary\n\n   \u4f7f\u7528\u7ed9\u5b9a\u7684\u201c\u5bc6\u94a5\u201d\u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 sha256 HMAC\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    hmac_sha512(binary, key) -> varbinary\n\n    \u4f7f\u7528\u7ed9\u5b9a\u7684\u201c\u5bc6\u94a5\u201d\u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 sha512 HMAC\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    length(binary) -> bigint\n\n    \u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u8fd4\u56de\u201c\u4e8c\u8fdb\u5236\u201d\u7684\u957f\u5ea6\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    lpad(binary, size, padbinary) -> varbinary\n    :noindex:\n    \n    \u4f7f\u7528 ``padbinary`` \u5c06 ``binary`` \u5de6\u4fa7\u586b\u5145\u4e3a ``size`` \u4e2a\u5b57\u8282\u3002\n    \u5982\u679c ``size`` \u5c0f\u4e8e ``binary`` \u7684\u957f\u5ea6\uff0c\u5219\u7ed3\u679c\u5c06\u88ab\u622a\u65ad\u4e3a ``size`` \u4e2a\u5b57\u7b26\u3002``size`` \u4e0d\u80fd\u4e3a\u8d1f\u6570\uff0c\n    \u5e76\u4e14 ``padbinary`` \u5fc5\u987b\u975e\u7a7a\u3002``size`` \u7684\u6700\u5927\u503c\u4e3a 1MiB\u3002\n    \u5982\u679c ``size`` \u5c0f\u4e8e ``binary`` \u7684\u957f\u5ea6\uff0c\n    ``binary`` \u5c06\u4ece\u53f3\u4fa7\u622a\u65ad\u4ee5\u9002\u5e94 ``size``\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    md5(binary) -> varbinary\n\n    \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 md5 \u54c8\u5e0c\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    rpad(binary, size, padbinary) -> varbinary\n\n    \u4f7f\u7528 ``padbinary`` \u5c06 ``binary`` \u53f3\u4fa7\u586b\u5145\u81f3 ``size`` \u4e2a\u5b57\u8282\u3002\n    \u5982\u679c ``size`` \u5c0f\u4e8e ``binary`` \u7684\u957f\u5ea6\uff0c\u5219\u7ed3\u679c\u5c06\u88ab\u622a\u65ad\u4e3a ``size`` \u4e2a\u5b57\u7b26\u3002``size`` \u4e0d\u80fd\u4e3a\u8d1f\u6570\uff0c\n    \u4e14 ``padbinary`` \u5fc5\u987b\u975e\u7a7a\u3002``size`` \u7684\u6700\u5927\u503c\u4e3a 1MiB\u3002\n    \u5982\u679c ``size`` \u5c0f\u4e8e ``binary`` \u7684\u957f\u5ea6\uff0c\n    ``binary`` \u5c06\u4ece\u53f3\u4fa7\u622a\u65ad\u4ee5\u9002\u5e94 ``size``\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    sha1(binary) -> varbinary\n\n    \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 SHA-1 \u54c8\u5e0c\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    sha256(binary) -> varbinary\n\n    \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 SHA-256 \u54c8\u5e0c\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    sha512(binary) -> varbinary\n\n    \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 SHA-512 \u54c8\u5e0c\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    spooky_hash_v2_32(binary) -> varbinary\n\n    \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 SpookyHashV2 32 \u4f4d\u54c8\u5e0c\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    spooky_hash_v2_64(binary) -> varbinary\n\n    \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 64 \u4f4d SpookyHashV2 \u54c8\u5e0c\u503c\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    to_base64(binary) -> varchar\n\n    \u5c06\u201c\u4e8c\u8fdb\u5236\u201d\u7f16\u7801\u4e3a base64 \u5b57\u7b26\u4e32\u8868\u793a\u5f62\u5f0f\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    to_base64url(binary) -> varchar\n\n    \u4f7f\u7528\u201cURL \u5b89\u5168\u5b57\u6bcd\u8868 <https://www.rfc-editor.org/rfc/rfc4648#section-5>\u201d\u5c06\u201c\u4e8c\u8fdb\u5236\u201d\u7f16\u7801\u4e3a base64 \u5b57\u7b26\u4e32\u8868\u793a\u5f62\u5f0f\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"   to_big_endian_32(integer) -> varbinary\n\n    \u4ee5 32 \u4f4d 2 \u7684\u8865\u7801\u5927\u7aef\u683c\u5f0f\u5bf9\u201c\u6574\u6570\u201d\u8fdb\u884c\u7f16\u7801\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"   to_big_endian_64(bigint) -> varbinary\n\n    \u4ee5 64 \u4f4d 2 \u7684\u8865\u7801\u5927\u7aef\u683c\u5f0f\u5bf9\u201cbigint\u201d\u8fdb\u884c\u7f16\u7801\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    to_hex(binary) -> varchar\n\n    Encodes ``binary`` into a hex string representation.\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    to_ieee754_32(real) -> varbinary\n\n    \u6839\u636e IEEE 754 \u5355\u7cbe\u5ea6\u6d6e\u70b9\u683c\u5f0f\uff0c\u4ee5 32 \u4f4d\u5927\u7aef\u4e8c\u8fdb\u5236\u5bf9\u201creal\u201d\u8fdb\u884c\u7f16\u7801\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    to_ieee754_64(double) -> varbinary\n\n    \u6839\u636e IEEE 754 \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u683c\u5f0f\uff0c\u4ee5 64 \u4f4d\u5927\u7aef\u4e8c\u8fdb\u5236\u5f62\u5f0f\u5bf9\u201cdouble\u201d\u8fdb\u884c\u7f16\u7801\u3002\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"    xxhash64(binary) -> varbinary\n\n    \u8ba1\u7b97\u201c\u4e8c\u8fdb\u5236\u201d\u7684 xxhash64 \u54c8\u5e0c\u503c\u3002\n"})})]})}function t(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}},28453:(n,e,a)=>{a.d(e,{R:()=>c,x:()=>l});var r=a(96540);const s={},i=r.createContext(s);function c(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);