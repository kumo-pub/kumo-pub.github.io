(self.webpackChunkkumo_website=self.webpackChunkkumo_website||[]).push([[72902],{32320:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/array-out-of-order.0405b4f.638.png 638w",images:[{path:n.p+"assets/ideal-img/array-out-of-order.0405b4f.638.png",width:638,height:482}],src:n.p+"assets/ideal-img/array-out-of-order.0405b4f.638.png",toString:function(){return n.p+"assets/ideal-img/array-out-of-order.0405b4f.638.png"},placeholder:void 0,width:638,height:482},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAABYlAAAWJQFJUiTwAAABE0lEQVR4nB2NW0+CAABG+dO99Cd6adVab9WapdZmueEFUNOwBLzlzHBqNcPAuIhg9XCaPJy3851PMAwDWZYTVFVF13U0TUOSJBRFoak26ff6CLVqFVEUKRYKSOUy+fwdpVKRTDZNOnPJVTpFtVZBmE6nScE0x3xaHzRa17S6OZ66Ep1Ri8GszcukjzCfz5O70cjEsmaoj/to+gHl5gm5x3OKvQsU/RbB932CIGCz+SGOY1aeA79/yL0se+IOR/e7pBqHCMvlEs/zWK9DtiPbWRKsYgbmA3XjDOM1Q3tYQLBtG8dxkqrruiwWFq63whrLWN1joskp7883CFthSxRFhGGI73mEYcT3YojzViH8quNaHf4ByzQWREPtOFwAAAAASUVORK5CYII="}},32060:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/array-vector.e0cd0c6.632.png 632w",images:[{path:n.p+"assets/ideal-img/array-vector.e0cd0c6.632.png",width:632,height:470}],src:n.p+"assets/ideal-img/array-vector.e0cd0c6.632.png",toString:function(){return n.p+"assets/ideal-img/array-vector.e0cd0c6.632.png"},placeholder:void 0,width:632,height:470},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+ElEQVR4nCXMzUvCYACA8f3dXYJOdQ08RBGdgvCjgmwtx9ymS0Odyz4QteVXsL3ufecQ7dYT2uG5Pfw013F40HXuy2UMw8CyqruKxRKFfIHr0g2O7aB1fR/Htmm327z2Xqh5Jo2mje1VsDwT97lKK2iixXGM3+0y/pogFnMawRn1Tg6/f8d72GEs3hhMe/9jGIbEsSBJIqahySw0mQwNxn0d+W0x+3TRpJRkWcZms0ZKxTJb87P+5enjkdPKPpfNQwr1E7QoihBCkKYpWz0WEUuVUQ1uyel7nLsHXNVyaEmSoJRitVqx1ZWSO3U+qjBsHbEYHDMKLvgD0pnw3IPwtr8AAAAASUVORK5CYII="}},46397:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/constant-array-vector.f380ba8.640.png 640w,"+n.p+"assets/ideal-img/constant-array-vector.d6e37e6.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/constant-array-vector.f380ba8.640.png",width:640,height:203},{path:n.p+"assets/ideal-img/constant-array-vector.d6e37e6.1030.png",width:1030,height:326}],src:n.p+"assets/ideal-img/constant-array-vector.f380ba8.640.png",toString:function(){return n.p+"assets/ideal-img/constant-array-vector.f380ba8.640.png"},placeholder:void 0,width:640,height:203},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAZ0lEQVR4nG2KuwqDQBQF9//bfEmK9DYmIj4xkpsg4qqksFtFwQV3ZCFlDgzDwFEigtaalwgfqZi+DfsyU2Q5cfLgHgUUZY7izw5rGfoR3dWk1ZXoeUM55/Dg/Tv6NrNhWy3vNiRILpx1eG8lcro8ZQAAAABJRU5ErkJggg=="}},71658:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/dictionary-repeated2.fd00f70.640.png 640w,"+n.p+"assets/ideal-img/dictionary-repeated2.845ed69.828.png 828w",images:[{path:n.p+"assets/ideal-img/dictionary-repeated2.fd00f70.640.png",width:640,height:368},{path:n.p+"assets/ideal-img/dictionary-repeated2.845ed69.828.png",width:828,height:476}],src:n.p+"assets/ideal-img/dictionary-repeated2.fd00f70.640.png",toString:function(){return n.p+"assets/ideal-img/dictionary-repeated2.fd00f70.640.png"},placeholder:void 0,width:640,height:368},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4UlEQVR4nAXBa0vCUACA4fPj+xBUBBKthmAmbZE2azvLlbS2cQZWy0ClwC5YZkiLLq5y7Mvb84goinBdF8dx8H0fpRRBENDyWkgpUXFMr99DHCUGZrhOXW1idXQasc5rOmY6Sbm/e2T8NCGbZQh5XaXqr2BEJawrDSvReUlHtGOJaW/hnlnMsm+E261R81fZCUvsX27QvCgzmg5pdnV0b4HtcImPLEXYSYXy8SKV9jKNZI16R+P57YGTwS7mqYY8N8j+vhDq1sNL9vD7BwQ3hwQDm8/snbzI+Z3/kOdziqLgHzoExOO61X7qAAAAAElFTkSuQmCC"}},75618:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/dictionary-subset2.3a0c62a.640.png 640w,"+n.p+"assets/ideal-img/dictionary-subset2.5a2412d.952.png 952w",images:[{path:n.p+"assets/ideal-img/dictionary-subset2.3a0c62a.640.png",width:640,height:382},{path:n.p+"assets/ideal-img/dictionary-subset2.5a2412d.952.png",width:952,height:568}],src:n.p+"assets/ideal-img/dictionary-subset2.3a0c62a.640.png",toString:function(){return n.p+"assets/ideal-img/dictionary-subset2.3a0c62a.640.png"},placeholder:void 0,width:640,height:382},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0klEQVR4nB3KS0/CQABF4fn/JmpMSEwkbkSI0vCIi45SEYZWW6RGzcRUgysXCMhj2TJTjmkXX85dXOEpSdd1uLltca8k3sjFf1Io5TMcKOLJC0mSIDrjc5pRheuwwuXwhFpwiP6J0B/vdKVD3++x3W4QD7pDT1/h6SZu3MB9qzGdaSbTAfXgmFZ0xnI9R6RZSiHbZWXTXUpu94Rfd9Qfj2g/V1mufxHWWAq5zctaayGH4FNyMTrACU+Zr2YIYwyF4lBua9jnEH8r2uMq8rXB32bBP+Fr0BjR9Zl5AAAAAElFTkSuQmCC"}},47673:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/dictionary-with-nulls.6ffc773.640.png 640w,"+n.p+"assets/ideal-img/dictionary-with-nulls.9b2d960.870.png 870w",images:[{path:n.p+"assets/ideal-img/dictionary-with-nulls.6ffc773.640.png",width:640,height:349},{path:n.p+"assets/ideal-img/dictionary-with-nulls.9b2d960.870.png",width:870,height:474}],src:n.p+"assets/ideal-img/dictionary-with-nulls.6ffc773.640.png",toString:function(){return n.p+"assets/ideal-img/dictionary-with-nulls.6ffc773.640.png"},placeholder:void 0,width:640,height:349},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAv0lEQVR4nB3K34vBAADA8f3zyoO6HTnnQjrbQuYS23Ixawjj/NhyKExhJbXj4Z6/uvs8f4TPrka5IaEaCg1TReuotHsGruvhOA7uwsXf+wj6XKZgiZT6SSqjFEpfxFrWCE7Bf5xMvgjDEMGYy7ybTyh2guo4jdwTsbw6g1WLrB7jrR5lF6wQ9JlEvhVDskRU55XiMI79rTHYNsmZUdJGBP/6F6cKhfYzpW6Kj3GG8vAFe6lxuZ3ZHD3WB4/77w8P5M2gcx+uW/wAAAAASUVORK5CYII="}},15194:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/flat-vector.1205ae9.528.png 528w",images:[{path:n.p+"assets/ideal-img/flat-vector.1205ae9.528.png",width:528,height:476}],src:n.p+"assets/ideal-img/flat-vector.1205ae9.528.png",toString:function(){return n.p+"assets/ideal-img/flat-vector.1205ae9.528.png"},placeholder:void 0,width:528,height:476},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLUlEQVR4nEXNSU/CUAAA4f58o3GL4IaoEdeCUhcglb7SWiwobXHFMwkBaRFECgQ9jNELh7l+I7muixACRVHQhEa5dIchblBzeQqagZrNU3t5Q/I8D8uysG0bp+JgWDppcUBKTXAujpHVXW69AlKn0+Gv8XjEKBxTrd1xcr/MjjbLgbXE2WMU1ZORWq0WjUaDwWCA3w4wSwK5HGXjYoZDc4V0dR3VSSEFQYDv+wyHId+TH9znMpfPWyRLaxxbUS6eYuiPClKz2fwXu90PAr+D7Zqc2BG2c3PsF5aRKxHUSnIqTiYTPnt9ihUDxYkRv5pHLq6SeY0jqgrSn1av1+l99vjqD7Adk1NvjT19gYS+SMqNcO0lp+swDHlvtbl/sMk6RxzmNsk4R+RrMsWXPL/d2Cyx1Y501gAAAABJRU5ErkJggg=="}},22671:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/map-vector.638c5b9.640.png 640w,"+n.p+"assets/ideal-img/map-vector.4a6b990.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/map-vector.638c5b9.640.png",width:640,height:221},{path:n.p+"assets/ideal-img/map-vector.4a6b990.1030.png",width:1030,height:356}],src:n.p+"assets/ideal-img/map-vector.638c5b9.640.png",toString:function(){return n.p+"assets/ideal-img/map-vector.638c5b9.640.png"},placeholder:void 0,width:640,height:221},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdklEQVR4nB3FPQrCMACA0ZxfD+DiGXQQySJCBUmaxp+lMS4i0SFTahqD4yd0eDxxcw6tFUop7t7T2T2tkbTdAWOPk/PVIFJKhBCIMTJ8Bl7vE49ng/UbdL9G9yuM2yJyzpRSqLVOl/FHHr80lyVSzZB6zs4s+AMJdmhsG2bRXwAAAABJRU5ErkJggg=="}},35119:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/nulls.ec505c6.196.png 196w",images:[{path:n.p+"assets/ideal-img/nulls.ec505c6.196.png",width:196,height:436}],src:n.p+"assets/ideal-img/nulls.ec505c6.196.png",toString:function(){return n.p+"assets/ideal-img/nulls.ec505c6.196.png"},placeholder:void 0,width:196,height:436},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAABYlAAAWJQFJUiTwAAACnElEQVR4nEWTbVPaaBSG+eFru67ttNP90NGKXTWCtM5SwUop1qqIECJvAtFAEiIJCL4gVgsib+uMzrUD+cD3a677ec65j8MwDERRJBKJIEkSyWSSdCpNPC4Ri8bIZXNYpoVDlmU8Hg9zc3MIgkAo9J2NTR8fFmaZc87i3/RxohzjuLq64vHxkZH5odOldlklVgoS04Ps5TeIaBsUrbwN9no9TNMcg1btlG95ga+ZRb7EnQQVgVzpEMfFxQX39/eoqkr3oYdmKizHpvkYfsn81hSL4h9Ihd2JsVqt0uv2qdTLbB9/JpTz4I8vs134hGykcDQaDYbDIZZl0e8NOLuoENbW2ZbX8IsC+8Y6J+UMjvPzczqdDifKCb/vWuhWYRz9zyj6xxRL4hSSsmODozeOjPftDkZFw5dewJ9e4Is0j+9onowm4ri5ueHp6QnTLDPoD7ls1omdBomoX/mR9RKvBClW8rax3W6jaiqt3210s4A7/oaVg9cs/vwLlzRDohCegKVSiXbLBj3xd6yK71gJv2X18A2J4r4d/fz8zOmpwX/DR66a50jlEFE9wI7s47AaQq3IE2NRLXJ3e4duFvEmZ1kT37Oy8zfe9HtSatSeY7/fZ7ShkbF8puE+fI1wMIMz9AJXcpqEGrbBwWAwXuFD58EeuOpnV1ln62iNSMmPUj6aRI/qdvvrFsPSCBwJbKSW+DfqJJBfJqtJk89YFWscXWtYrKZe4U68YvlgBndmmqS+PzHmcjmuG9eUqyW+Zd0E0i7WxSWCsoucnpjUbHQKtbM6lbrJz2MvW9k1NiUXuwUvspHG0Ww2xw3XSzrdTpfqZRl3cgZBnMa5PYUr8ycJbc8GW60WSkGhed2kfnmGqIaIKt/ZywYQ9SBGrcD/MzvmtWibtNwAAAAASUVORK5CYII="}},48205:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/row-vector.84dad4b.640.png 640w,"+n.p+"assets/ideal-img/row-vector.b2741d0.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/row-vector.84dad4b.640.png",width:640,height:252},{path:n.p+"assets/ideal-img/row-vector.b2741d0.1030.png",width:1030,height:405}],src:n.p+"assets/ideal-img/row-vector.84dad4b.640.png",toString:function(){return n.p+"assets/ideal-img/row-vector.84dad4b.640.png"},placeholder:void 0,width:640,height:252},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlElEQVR4nBXKaw+BYACA0X69MVuzhciW0NRyWbq49Camm5DFH3rM+XykIs+5XhKSc4wQEdW9JM9SwsBHiBOxiPgfaVNq6IcuRiSzeaqsHypWqmBeesxjGS1sYYkxklfrTMI2k7CD22i4b41VNcQpByxTBSPuss10pGNjYyUqi2Of/cfk8DXx6xney2BXTXFuI4LC5gecn3rPZWZZHAAAAABJRU5ErkJggg=="}},86900:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/string-vector.a726001.640.png 640w,"+n.p+"assets/ideal-img/string-vector.8e338a7.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/string-vector.a726001.640.png",width:640,height:167},{path:n.p+"assets/ideal-img/string-vector.8e338a7.1030.png",width:1030,height:268}],src:n.p+"assets/ideal-img/string-vector.a726001.640.png",toString:function(){return n.p+"assets/ideal-img/string-vector.a726001.640.png"},placeholder:void 0,width:640,height:167},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAfklEQVR4nBXFTQsBQQCA4fnnbnvWXl1ESjatUAYzzX60jYiNKQe5IJtC1LTnV57LIzJrGMuYxCpUOsfkC/L/akpqJGub4A4bRFeHtGRAfxXSjBq0ZcDJDfAXzfM843NTfO8FQpcjJrbHch8RZx3Ubkh1tdTVFv8oqd8O/zryAx2yYniujmplAAAAAElFTkSuQmCC"}},71067:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/string-view-layout.5706374.542.png 542w",images:[{path:n.p+"assets/ideal-img/string-view-layout.5706374.542.png",width:542,height:114}],src:n.p+"assets/ideal-img/string-view-layout.5706374.542.png",toString:function(){return n.p+"assets/ideal-img/string-view-layout.5706374.542.png"},placeholder:void 0,width:542,height:114},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAVUlEQVR4nB3HQQtAMACA0f3/O0nEkE0sDpbtgCgXR5Sf8ynv9oQyEmMrdC/JVUQ/KZIy+G9nw+A16+ER3ZLhnpJmi6jnkOkuaI+Y4UxxT4W9cvZ35AOgnD0prGIHpwAAAABJRU5ErkJggg=="}},72919:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/string-views.56024b7.640.png 640w,"+n.p+"assets/ideal-img/string-views.46a9cb6.968.png 968w",images:[{path:n.p+"assets/ideal-img/string-views.56024b7.640.png",width:640,height:160},{path:n.p+"assets/ideal-img/string-views.46a9cb6.968.png",width:968,height:242}],src:n.p+"assets/ideal-img/string-views.56024b7.640.png",toString:function(){return n.p+"assets/ideal-img/string-views.56024b7.640.png"},placeholder:void 0,width:640,height:160},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAbklEQVR4nF3LwQqCQBRA0fn/n0hoMW5SBD+grWgboQmSCCaHnpFEBLbpzQ0EN144y2uy0mLzhDRPsLsNRbmlrvesM520uFvD0R84hQYXKrw4ftOExoiqzsxyxKi8xzuvR2AUj/RnJFx4Dle+n4E/ZeBtOzVHUJQAAAAASUVORK5CYII="}},81986:(e,s,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/substr-result.39af7dd.640.png 640w,"+n.p+"assets/ideal-img/substr-result.b4e6a60.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/substr-result.39af7dd.640.png",width:640,height:169},{path:n.p+"assets/ideal-img/substr-result.b4e6a60.1030.png",width:1030,height:273}],src:n.p+"assets/ideal-img/substr-result.39af7dd.640.png",toString:function(){return n.p+"assets/ideal-img/substr-result.39af7dd.640.png"},placeholder:void 0,width:640,height:169},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAfUlEQVR4nB3KwQvBUBzA8ffHu+6E5aAk5DJPUnu8/J6xl5kTxW1KiwMlabt/lc/5oyS1zMwE5y02iZGtYZMYnJ2TSEzmhfPpgBpKk74ERHlIOG0wcgHFRVOXjvd1wadcUT1zlPY9xus2et9lsGwRpR1uhaV+ZHzvu3+qXkd+/xdhg31vBmYAAAAASUVORK5CYII="}},80950:(e,s,n)=>{"use strict";n.r(s),n.d(s,{assets:()=>X,contentTitle:()=>Y,default:()=>P,frontMatter:()=>N,metadata:()=>F,toc:()=>W});var t=n(74848),r=n(28453),i=n(35119),a=n.n(i),c=n(15194),l=n.n(c),d=n(71067),o=n.n(d),p=n(72919),A=n.n(p),g=n(86900),h=n.n(g),x=n(81986),u=n.n(x),j=n(71658),w=n.n(j),m=n(75618),f=n.n(m),v=n(47673),B=n.n(v),S=n(32060),b=n.n(S),V=n(32320),y=n.n(V),R=n(22671),C=n.n(R),E=n(48205),U=n.n(E),T=n(46397),I=n.n(T);const N={},Y="Vectors(\u5411\u91cf)",F={id:"pollux/develop/vectors",title:"Vectors(\u5411\u91cf)",description:"Pollux \u5411\u91cf\u662f\u4e00\u79cd\u5217\u5f0f\u5185\u5b58\u683c\u5f0f\uff0c\u7528\u4e8e\u5728\u6267\u884c\u671f\u95f4\u5b58\u50a8\u67e5\u8be2\u6570\u636e\u3002\u5b83\u4e0e Arrow \u7c7b\u4f3c\uff0c\u4f46\u7f16\u7801\u65b9\u5f0f\u66f4\u591a\uff0c\u5e76\u4e14\u5bf9\u5b57\u7b26\u4e32\u3001",source:"@site/versioned_docs/version-1.1.1/pollux/develop/vectors.mdx",sourceDirName:"pollux/develop",slug:"/pollux/develop/vectors",permalink:"/docs/pollux/develop/vectors",draft:!1,unlisted:!1,tags:[],version:"1.1.1",lastUpdatedBy:"Jeff lothar",lastUpdatedAt:1748143706e3,frontMatter:{},sidebar:"docs",previous:{title:"Types(\u6570\u636e\u7c7b\u578b)",permalink:"/docs/pollux/develop/types"},next:{title:"\u5982\u4f55\u6dfb\u52a0\u6807\u91cf\u51fd\u6570\uff1f",permalink:"/docs/pollux/develop/scalar-functions"}},X={},W=[{value:"\u7f13\u51b2\u5668",id:"buffers",level:2},{value:"\u7a7a\u6807\u5fd7",id:"null-flags",level:2},{value:"\u5e73\u9762\u5411\u91cf - \u6807\u91cf\u7c7b\u578b",id:"flat-vectors-scalar-types",level:2},{value:"\u5e38\u91cf\u5411\u91cf - \u6807\u91cf\u7c7b\u578b",id:"constant-vector-scalar-types",level:2},{value:"\u5b57\u5178\u5411\u91cf - \u6807\u91cf\u7c7b\u578b",id:"dictionary-vector-scalar-types",level:2},{value:"\u5e73\u9762\u5411\u91cf - \u590d\u6742\u7c7b\u578b",id:"flat-vectors-complex-types",level:2},{value:"\u6570\u7ec4\u5411\u91cf",id:"array-vector",level:2},{value:"\u952e\u503c",id:"map-vector",level:2},{value:"\u884c\u5411\u91cf",id:"row-vector",level:2},{value:"\u5e38\u91cf\u5411\u91cf - \u590d\u6742\u7c7b\u578b",id:"constant-vector-complex-types",level:2},{value:"\u5b57\u5178\u5411\u91cf - \u590d\u6742\u7c7b\u578b",id:"dictionary-vector-complex-types",level:2}];function J(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"vectors\u5411\u91cf",children:"Vectors(\u5411\u91cf)"})}),"\n",(0,t.jsx)(s.p,{children:"Pollux \u5411\u91cf\u662f\u4e00\u79cd\u5217\u5f0f\u5185\u5b58\u683c\u5f0f\uff0c\u7528\u4e8e\u5728\u6267\u884c\u671f\u95f4\u5b58\u50a8\u67e5\u8be2\u6570\u636e\u3002\u5b83\u4e0e Arrow \u7c7b\u4f3c\uff0c\u4f46\u7f16\u7801\u65b9\u5f0f\u66f4\u591a\uff0c\u5e76\u4e14\u5bf9\u5b57\u7b26\u4e32\u3001\n\u6570\u7ec4\u548c Map \u7684\u5e03\u5c40\u4e5f\u6709\u6240\u4e0d\u540c\uff0c\u4ece\u800c\u652f\u6301\u4e71\u5e8f\u5199\u5165\u3002\u5411\u91cf\u662f Pollux \u5e93\u7684\u57fa\u7840\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["Pollux \u5411\u91cf\u652f\u6301\uff1a",(0,t.jsx)(s.code,{children:"\u6807\u91cf\u548c\u590d\u6742\u7c7b\u578b</develop/types>"}),"\uff0c\u5e76\u6709\u51e0\u79cd\u4e0d\u540c\u7684\u7f16\u7801\u3002"]}),"\n",(0,t.jsx)(s.p,{children:"\u652f\u6301\u7684\u7f16\u7801\u6709\uff1a"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Flat(\u5e73\u9762\u7f16\u7801)"}),"\n",(0,t.jsx)(s.li,{children:"Constant(\u5e38\u91cf\u7f16\u7801)"}),"\n",(0,t.jsx)(s.li,{children:"Dictionary(\u5b57\u5178\u7f16\u7801)"}),"\n",(0,t.jsx)(s.li,{children:"Bias(\u504f\u5dee\u7f16\u7801)"}),"\n",(0,t.jsx)(s.li,{children:"Sequence(\u5e8f\u5217\u7f16\u7801)"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"\u5728\u672c\u6307\u5357\u4e2d\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u5e73\u9762\u7f16\u7801\u3001\u5e38\u91cf\u7f16\u7801\u548c\u5b57\u5178\u7f16\u7801\u3002\u504f\u5dee\u7f16\u7801\u548c\n\u5e8f\u5217\u7f16\u7801\u4e0d\u5728\u672c\u6307\u5357\u7684\u8ba8\u8bba\u8303\u56f4\u5185\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u5355\u4e2a\u5411\u91cf\u8868\u793a\u5355\u5217\u7684\u591a\u884c\u3002RowVector \u7528\u4e8e\u8868\u793a\u591a\u5217\u7684\u884c\u96c6\u5408\uff0c\u4ee5\u53ca\u7ed3\u6784\u4f53\u7c7b\u578b\u7684\u5355\u5217\u7684\u884c\u96c6\u5408\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u6bcf\u4e2a\u5411\u91cf\u90fd\u6709\u7c7b\u578b\u3001\u7f16\u7801\u548c\u5927\u5c0f\u3002\u5411\u91cf\u5927\u5c0f\u662f\u6307\u5b58\u50a8\u5728\u5411\u91cf\u4e2d\u7684\u884c\u6570\u3002\u5e73\u9762\u7f16\u7801\u3001\u5e38\u91cf\u7f16\u7801\u548c\u5b57\u5178\u7f16\u7801\u53ef\u4ee5\u4e0e\u4efb\u4f55\u7c7b\u578b\u7ec4\u5408\u4f7f\u7528\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"buffers",children:"\u7f13\u51b2\u5668"}),"\n",(0,t.jsx)(s.p,{children:"\u77e2\u91cf\u6570\u636e\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u7f13\u51b2\u533a\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002\u7f13\u51b2\u533a\u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u5b57\u8282\u3002\u7f13\u51b2\u533a\u91c7\u7528\u5f15\u7528\u8ba1\u6570\uff0c\u5fc5\u987b\u7531 BufferPtr \u6301\n\u6709\u3002\u7f13\u51b2\u533a\u53ef\u4ee5\u62e5\u6709\u81ea\u5df1\u7684\u5185\u5b58\uff0c\u4e5f\u53ef\u4ee5\u8868\u793a\u5916\u90e8\u7ba1\u7406\u5185\u5b58\u7684\u89c6\u56fe (BufferView)\u3002\u62e5\u6709\u81ea\u5df1\u5185\u5b58\u7684\u7f13\u51b2\u533a (AlignedBuffer)\n\u4ece MemoryPool \u5206\u914d\u5185\u5b58\u3002\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5f15\u7528\u6307\u5411\u8be5\u7f13\u51b2\u533a\uff0c\u5219\u8be5\u7f13\u51b2\u533a\u53ef\u4ee5\u5904\u4e8e\u53ef\u53d8\u72b6\u6001\uff0c\u4f8b\u5982\uff0c\u8be5\u7f13\u51b2\u533a\u88ab\u552f\u4e00\u5f15\u7528\u3002\u5982\u679c\u4e00\u4e2a\u7f13\u51b2\u533a\u6709\u591a\u4e2a\u5f15\u7528\uff0c\u5219\u8be5\u7f13\u51b2\u533a\u4e3a\u53ea\u8bfb\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u7f13\u51b2\u533a\u672c\u8eab\u6ca1\u6709\u7c7b\u578b\uff0c\u4f46\u5b83\u4eec\u63d0\u4f9b\u4e86\u7279\u5b9a\u4e8e\u7c7b\u578b\u7684\u4fbf\u6377\u65b9\u6cd5\u3002"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"AlignedBuffer::allocate<T>(size, pool)"})," \u9759\u6001\u65b9\u6cd5\u4ece MemoryPool \u4e2d\u5206\u914d\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u8be5\u7f13\u51b2\u533a\u81f3\u5c11\u53ef\u5bb9\u7eb3 ",(0,t.jsx)(s.code,{children:"size"})," \u4e2a",(0,t.jsx)(s.code,{children:"T"})," \u7c7b\u578b\u7684\u503c\u3002"]}),"\n",(0,t.jsx)(s.p,{children:"\u5206\u914d\u4e00\u4e2a\u7f13\u51b2\u533a\u6765\u5b58\u50a8 100 \u4e2a 64 \u4f4d\u6574\u6570\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"    BufferPtr values = AlignedBuffer::allocate<int64_t>(100, pool);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u751f\u6210\u7684\u7f13\u51b2\u533a\u957f\u5ea6\u81f3\u5c11\u4e3a ",(0,t.jsx)(s.code,{children:"sizeof(int64_t) * 100 = 800"})," \u5b57\u8282\u3002\u4f60\u53ef\u4ee5\n\u901a\u8fc7 ",(0,t.jsx)(s.code,{children:"as<T>()"})," \u6a21\u677f\u65b9\u6cd5\u8bbf\u95ee\u539f\u59cb\u7f13\u51b2\u533a\u8fdb\u884c\u8bfb\u53d6\uff0c\u5e76\u4f7f\u7528 ",(0,t.jsx)(s.code,{children:"asMutable<T>()"})," \u6a21\u677f\u65b9\u6cd5\u8fdb\u884c\u5199\u5165\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    // Read-only access.\n    const int64_t* rawValues = values->as<int64_t>();\n\n    // Read-write access.\n    int64_t* rawValues = values->asMutable<int64_t>();\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u5206\u914d\u4e00\u4e2a\u7f13\u51b2\u533a\u6765\u5b58\u50a8 100 \u4e2a\u5e03\u5c14\u6807\u5fd7\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    BufferPtr flags = AlignedBuffer::allocate<bool>(100, pool);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u751f\u6210\u7684\u7f13\u51b2\u533a\u957f\u5ea6\u81f3\u5c11\u4e3a 100 / 8 = 13 \u4e2a\u5b57\u8282\uff08Pollux \u4e3a\u6bcf\u4e2a\u5e03\u5c14\u6807\u5fd7\u4ec5\u4f7f\u7528 1 \u4f4d\uff09\u3002\u4e0e\u5176\u4ed6\u7c7b\n\u578b\u4e0d\u540c\uff0c\u5e03\u5c14\u503c\u4e0d\u80fd\u901a\u8fc7\u5e03\u5c14\u6307\u9488\u5355\u72ec\u8bbf\u95ee\u3002\u76f8\u53cd\uff0c\u60a8\u53ef\u4ee5\u5c06\u7f13\u51b2\u533a\u89e3\u91ca\u4e3a\u4e00\u4e2a\u8fde\u7eed\u7684 64 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570\u6570\u7ec4\uff0c\n\u5e76\u4f7f\u7528",(0,t.jsx)(s.code,{children:"bits"}),"\u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u8f85\u52a9\u65b9\u6cd5\u8bbf\u95ee\u5404\u4e2a\u503c\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    // Read-only access.\n    const uint64_t* rawFlags = flags->as<uint64_t>();\n\n    // Check if flag # 12 is set.\n    bool active = bits::isBitSet(rawFlags, 12);\n\n    // Read-write access.\n    uint64_t* rawFlags = flags->asMutable<uint64_t>();\n\n    // Set flag 15 to true/on.\n    `bits::setBit(rawFlags, 15)`;\n\n    // or\n    bits::setBit(rawFlags, 15, true);\n\n    // Set flag 16 to false/off.\n    bits::clearBit(rawFlags, 16);\n\n    // or\n    bits::setBit(rawFlags, 16, false);\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u7531\u4e8e\u7f13\u51b2\u533a\u6ca1\u6709\u7c7b\u578b\uff0c\u56e0\u6b64\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u53cd\u6620\u7684\u662f\u7f13\u51b2\u533a\u4e2d\u7684\u5b57\u8282\u6570\uff0c\u800c\u4e0d\u662f\u503c\u7684\u6570\u91cf\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"null-flags",children:"\u7a7a\u6807\u5fd7"}),"\n",(0,t.jsx)(s.p,{children:"\u6bcf\u4e2a\u5411\u91cf\u5305\u542b\u4e00\u7ec4\u53ef\u9009\u7684\u7a7a\u503c\u6807\u5fd7\uff0c\u7528\u4e8e\u6807\u8bc6\u5177\u6709\u7a7a\u503c\u7684\u884c\u3002\u5982\u679c\u7ed9\u5b9a\u5411\u91cf\u4e2d\u6ca1\u6709\u7a7a\u503c\uff0c\u5219\u53ef\u80fd\u4e0d\u5b58\u5728\u7a7a\u503c\u6807\u5fd7\u3002\u7a7a\u503c\u6807\u5fd7\u6309\u4f4d\u6253\u5305\u6210\u4e00\u4e2a 64 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570\u6570\u7ec4\u3002\n\u96f6\u8868\u793a\u7a7a\u503c\u3002\u4e00\u8868\u793a\u975e\u7a7a\u503c\u3002\uff08\u8fd9\u79cd\u8fdd\u53cd\u76f4\u89c9\u7684\u9009\u62e9\u662f\u4e3a\u4e86\u4e0e Arrow \u517c\u5bb9\u3002\uff09"}),"\n",(0,t.jsx)(s.p,{children:"\u4e0b\u56fe\u4e2d\u4f4d\u7f6e 2\u30017 \u548c 11 \u4e3a\u7a7a\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"150",align:"center",src:a()}),"\n",(0,t.jsx)(s.p,{children:"BaseVector \u662f\u6240\u6709\u5411\u91cf\u7684\u57fa\u7c7b\u3002\u5b83\u5305\u542b\u5411\u91cf\u4e2d\u5b58\u50a8\u7684\u503c\u7684\u7c7b\u578b\uff08\u4f8b\u5982 INTEGER \u8fd8\u662f VARCHAR\uff09\u3001\u7a7a\u503c\u7f13\u51b2\u533a\u4ee5\u53ca\u5411\u91cf\u4e2d\u7684\u884c\u6570\u3002"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    std::shared_ptr<const Type> type_;\n    BufferPtr nulls_;\n    vector_size_t length_ = 0;\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u5411\u91cf\u59cb\u7ec8\u7531 std::shared_ptr \u4f7f\u7528 VectorPtr \u522b\u540d\u4fdd\u5b58\u3002"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    using VectorPtr = std::shared_ptr<BaseVector>;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"bits"}),"\u547d\u540d\u7a7a\u95f4\u5305\u542b\u8bb8\u591a\u7528\u4e8e\u5904\u7406\u7a7a\u503c\u7f13\u51b2\u533a\u7684\u4fbf\u6377\u51fd\u6570\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    // Check if position #12 is null.\n    bool isNull = bits::isBitNull(rawNulls, 12);\n\n    // Set position #12 to null.\n    bits::setNull(rawNulls, 12);\n    bits::setNull(rawNulls, 12, true);\n\n    // Set position #12 to non-null.\n    bits::clearNull(rawNulls, 12);\n    bits::setNull(rawNulls, 12, false);\n"})}),"\n",(0,t.jsx)(s.h2,{id:"flat-vectors-scalar-types",children:"\u5e73\u9762\u5411\u91cf - \u6807\u91cf\u7c7b\u578b"}),"\n",(0,t.jsxs)(s.p,{children:["\u6807\u91cf\u7c7b\u578b\u7684\u6241\u5e73\u5411\u91cf\u4f7f\u7528 ",(0,t.jsx)(s.code,{children:"FlatVector<T>"})," \u6a21\u677f\u8868\u793a\uff0c\u5176\u4e2d T \u662f\u6807\u91cf\u7c7b\u578b\u7684 C++ \u7c7b\u578b\u3002\u5411\u91cf\u4e2d\u5b58\u50a8\u7684\u503c\u81ea\u7136\u4e5f\u4f7f\u7528 C++ \u7c7b\u578b\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"FlatVector<T>"})," \u5305\u542b\u4e00\u4e2a\u503c\u7f13\u51b2\u533a\uff0c\u5982\u679c ",(0,t.jsx)(s.code,{children:"T = StringView"}),"\uff0c\u5219\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u3002\u503c\u7f13\u51b2\u533a\u662f\u4e00\u4e2a\u8fde\u7eed\u7684\u5b57\u8282\u7f13\u51b2\u533a\uff0c\n\u6bcf\u4e2a\u503c\u7684\u5927\u5c0f\u4e3a ",(0,t.jsx)(s.code,{children:"sizeof(T)"})," \u4e2a\u5b57\u8282\uff0c\u5305\u62ec null \u503c\u3002\u4e0d\u540c\u7c7b\u578b\u6bcf\u4e2a\u503c\u7684\u5b57\u8282\u6570\u4e0d\u540c\u3002\u5e03\u5c14\u503c\u91c7\u7528\u4f4d\u6253\u5305\uff0c\u6bcf 8 \u4e2a\u503c\u5360\u7528 1 \u4e2a\u5b57\u8282\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    BufferPtr values_;\n    std::vector<BufferPtr> stringBuffers_;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"FlatVector<T>"})," \u4f7f\u7528 BaseVector \u4f5c\u4e3a\u57fa\u7c7b\uff0c\u5e76\u4ece\u4e2d\u83b7\u53d6\u7c7b\u578b\u3001\u5927\u5c0f\u548c\u7a7a\u7f13\u51b2\u533a\u3002\u6241\u5e73\u5411\u91cf\u4e0e\u6240\u6709\u5176\u4ed6\u5411\u91cf\u4e00\u6837\uff0c\u7531 std::shared_ptr \u4f7f\u7528 FlatVectorPtr \u522b\u540d\u4fdd\u5b58\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    template <typename T>\n    `using FlatVectorPtr = std::shared_ptr<FlatVector<T>>`;\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u4e0b\u56fe\u5c55\u793a\u4e86\u4e00\u4e2a\u5305\u542b 12 \u4e2a\u503c\u7684 INTEGER \u7c7b\u578b\u7684\u6241\u5e73\u5411\u91cf\u3002\u8be5\u5411\u91cf\u8868\u793a\u4e3a ",(0,t.jsx)(s.code,{children:"FlatVector<int32_t>"}),"\u3002",(0,t.jsx)(s.code,{children:"values_"})," \u7f13\u51b2\u533a\u81f3\u5c11\n\u53ef\u5bb9\u7eb3 12 \u4e2a\u8fde\u7eed\u7684\u6761\u76ee\uff0c\u6bcf\u4e2a\u6761\u76ee\u957f\u5ea6\u4e3a 4 \u5b57\u8282\u3002",(0,t.jsx)(s.code,{children:"nulls_"})," \u7f13\u51b2\u533a\u81f3\u5c11\u53ef\u5bb9\u7eb3 12 \u4e2a\u8fde\u7eed\u7684\u6761\u76ee\uff0c\u6bcf\u4e2a\u6761\u76ee\u957f\u5ea6\u4e3a 1 \u4f4d\u3002\u4f4d\u7f6e 2\u30017\u300111 \u7684\u503c\u4e3a\nnull\uff0c\u4f8b\u5982 ",(0,t.jsx)(s.code,{children:"nulls_"})," \u7f13\u51b2\u533a\u4e2d\u7684\u4f4d 2\u30017\u300111 \u4e3a 0\u3002",(0,t.jsx)(s.code,{children:"nulls_"})," \u7f13\u51b2\u533a\u4e2d\u7684\u5176\u4f59\u4f4d\u4e3a 1\u3002",(0,t.jsx)(s.code,{children:"values_"})," \u7f13\u51b2\u533a\u4e2d\u7684\u6761\u76ee 2\u30017\u300111 \u5305\u542b\u5783\u573e\u6570\u636e\u3002"]}),"\n","\n",(0,t.jsx)("img",{width:"300",align:"center",src:l()}),"\n",(0,t.jsx)(s.p,{children:"\u6240\u6709\u6807\u91cf\u503c\uff08\u5305\u62ec\u5b57\u7b26\u4e32\uff09\u90fd\u662f\u56fa\u5b9a\u5bbd\u5ea6\u7684\uff0c\u4f8b\u5982\uff0c\u6bcf\u4e2a\u503c\u90fd\u5b58\u50a8\u5728\u56fa\u5b9a\u6570\u91cf\u7684\u5b57\u8282\u4e2d\u3002\u7531\u4e8e\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u53ef\u53d8\uff0c\u56e0\n\u6b64\u5b9e\u9645\u7684\u5b57\u7b26\u4e32\u5b58\u50a8\u5728\u4e00\u7ec4\u4e0e\u503c\u7f13\u51b2\u533a\u5206\u5f00\u7684\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e2d\u3002\u503c\u7f13\u51b2\u533a\u5b58\u50a8 16 \u5b57\u8282\u7684 StringView\uff0c\u8fd9\u4e9b StringView \u7531 4 \u5b57\u8282\u7684\u5b57\u7b26\n\u4e32\u5927\u5c0f\u30014 \u5b57\u8282\u7684\u524d\u7f00\u548c 8 \u5b57\u8282\u7684\u6307\u9488\u7ec4\u6210\uff0c\u8be5\u6307\u9488\u6307\u5411\u5176\u4e2d\u4e00\u4e2a\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e2d\u7684\u5b8c\u6574\u5b57\u7b26\u4e32\u3002\u77ed\u5b57\u7b26\u4e32\uff08\u6700\u591a 12 \u4e2a\u5b57\u7b26\uff09\u5b8c\u5168\u5b58\u50a8\u5728 StringView\n\u7ed3\u6784\u4f53\u4e2d\u3002\u5b83\u4eec\u5360\u7528\u524d\u7f00\u548c\u6307\u9488\u5360\u7528\u7684\u7a7a\u95f4\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"300",align:"center",src:o()}),"\n",(0,t.jsxs)(s.p,{children:["\u4e0b\u56fe\u5c55\u793a\u4e86\u957f\u5b57\u7b26\u4e32\u548c\u77ed\u5b57\u7b26\u4e32\u5728\u5185\u5b58\u4e2d\u8868\u793a\u7684\u533a\u522b\u3002\u201cYellowstone National Park\u201d\u662f\u4e00\u4e2a25\u4e2a\u5b57\u7b26\u957f\u7684\u5b57\u7b26\u4e32\uff0c\n\u7531\u4e8e\u592a\u957f\uff0c\u65e0\u6cd5\u5185\u8054\u3002\u56e0\u6b64\uff0cStringView \u5728\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e2d\u5b58\u50a8\u4e86\u4e00\u4e2a4\u5b57\u8282\u7684\u524d\u7f00\u201cYell\u201d\u548c\u4e00\u4e2a\u6307\u5411\u6574\u4e2a\u5b57\u7b26\u4e32\u7684\u6307\u9488\u3002",(0,t.jsx)(s.code,{children:"\u201cheavy rain\u201d"}),"\u5b57\u7b26\u4e32\n\u53ea\u670910\u4e2a\u5b57\u7b26\u957f\uff0c\u56e0\u6b64\u4ee5\u5185\u8054\u65b9\u5f0f\u5b58\u50a8\u5728StringView\u4e2d\u3002\u5c06\u957f\u5b57\u7b26\u4e32\u7684\u524d\u7f00\u5b58\u50a8\u5728StringView\u4e2d\u53ef\u4ee5\u4f18\u5316\u6bd4\u8f83\u64cd\u4f5c\u3002"]}),"\n","\n",(0,t.jsx)("img",{width:"600",align:"center",src:A()}),"\n",(0,t.jsx)(s.p,{children:"\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e2d\u7684\u5b57\u7b26\u4e32\u4e0d\u4e00\u5b9a\u6309\u987a\u5e8f\u51fa\u73b0\uff0c\u5e76\u4e14\u5404\u4e2a\u5b57\u7b26\u4e32\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u95f4\u9699\u3002\u5355\u4e2a\u5411\u91cf\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u4e0b\u56fe\u663e\u793a\u4e86\u4e00\u4e2a\u5305\u542b 8 \u4e2a\u503c\u7684 VARCHAR \u7c7b\u578b\u7684\u5411\u91cf\u3002\u8be5\u5411\u91cf\u8868\u793a\u4e3a ",(0,t.jsx)(s.code,{children:"FlatVector<StringView>"}),"\u3002",(0,t.jsx)(s.code,{children:"values_"})," \u7f13\u51b2\u533a\u81f3\u5c11\u6709 8 \u4e2a\u6761\n\u76ee\uff08\u6bcf\u4e2a\u6761\u76ee 16 \u5b57\u8282\uff09\u7684\u7a7a\u95f4\u3002",(0,t.jsx)(s.code,{children:"stringBuffers_"})," \u6570\u7ec4\u6709\u4e00\u4e2a\u6761\u76ee\uff0c\u5305\u542b\u975e\u5185\u8054\u5b57\u7b26\u4e32\u7684\u8fde\u63a5\u3002",(0,t.jsx)(s.code,{children:"values_"})," \u7f13\u51b2\u533a\u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u4f7f\u7528 4 \u4e2a\u5b57\u8282\u6765\u5b58\u50a8\u5b57\u7b26\u4e32\u7684\u5927\u5c0f\u3002"]}),"\n","\n",(0,t.jsx)("img",{width:"700",align:"center",src:h()}),"\n",(0,t.jsx)(s.p,{children:"\u56fa\u5b9a\u5bbd\u5ea6\u503c\u5141\u8bb8\u65e0\u5e8f\u586b\u5145\u5411\u91cf\uff0c\u4f8b\u5982\uff0c\u5148\u5199\u5165\u7b2c 5 \u884c\u7684\u503c\uff0c\u7136\u540e\u518d\u5199\u5165\u7b2c 2 \u884c\u7684\u503c\u3002\u8fd9\u5728\u8bc4\u4f30\u6761\u4ef6\u8868\u8fbe\u5f0f\u65f6\u975e\u5e38\u6709\u7528\u3002"}),"\n",(0,t.jsx)(s.admonition,{type:"info",children:(0,t.jsx)(s.p,{children:"Pollux vector of any type (scalar or complex) can be written out of order.\nThis is the main difference between the Pollux vectors and Arrow arrays."})}),"\n",(0,t.jsx)(s.p,{children:"\u5141\u8bb8\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e2d\u7684\u5b57\u7b26\u4e32\u4ee5\u65e0\u5e8f\u5f62\u5f0f\u51fa\u73b0\uff0c\u4e14\u5404\u4e2a\u5b57\u7b26\u4e32\u4e4b\u95f4\u6709\u95f4\u9699\uff0c\u53ef\u4ee5\u5b9e\u73b0 substr \u548c split \u7b49\u51fd\u6570\u7684\u96f6\u62f7\u8d1d\u5b9e\n\u73b0\u3002\u8fd9\u4e9b\u51fd\u6570\u7684\u7ed3\u679c\u7531\u539f\u59cb\u5b57\u7b26\u4e32\u7684\u5b50\u5b57\u7b26\u4e32\u7ec4\u6210\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u6307\u5411\u4e0e\u8f93\u5165\u5411\u91cf\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u7684 StringView\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u5c06 ",(0,t.jsx)(s.a,{href:"https://prestodb.io/docs/current/functions/string.html#substr-string-start-varchar",children:(0,t.jsx)(s.code,{children:"presto substr(s, 2)"})})," \u51fd\u6570\u5e94\u7528\u4e8e\u4e0a\u9762\u663e\u793a\u7684\u5411\u91cf\u7684\u7ed3\u679c\u5982\u4e0b\u6240\u793a\uff1a"]}),"\n","\n",(0,t.jsx)("img",{width:"700",align:"center",src:u()}),"\n",(0,t.jsxs)(s.p,{children:["\u6b64\u5411\u91cf\u4f7f\u7528\u4e0e\u539f\u59cb\u5411\u91cf\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u3002\u5b83\u53ea\u662f\u4f7f\u7528 std::shared_ptr \u5f15\u7528\u5b83\u3002\u5404\u4e2a StringView \u6761\u76ee\u8981\u4e48\u5305\u542b\u5185\u8054\u5b57\u7b26\u4e32\uff0c\u8981\u4e48\u5f15\u7528\u539f\u59cb\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e2d\u7684\u4f4d\u7f6e\u3002\n\u5728\u5e94\u7528 ",(0,t.jsx)(s.a,{href:"https://prestodb.io/docs/current/functions/string.html#substr-string-start-varchar",children:(0,t.jsx)(s.code,{children:"presto substr(s, 2)"})})," \u51fd\u6570\u540e\uff0c\n\u4f4d\u7f6e 1 \u5904\u7684\u5b57\u7b26\u4e32\u53d8\u5f97\u8db3\u591f\u77ed\uff0c\u53ef\u4ee5\u653e\u5165 StringView \u4e2d\uff0c\u56e0\u6b64\u5b83\u4e0d\u518d\u5305\u542b\u6307\u5411\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u4e2d\u4f4d\u7f6e\u7684\u6307\u9488\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:["\u5141\u8bb8\u8fd9\u4e9b\u4ec5\u66f4\u6539\u5b57\u7b26\u4e32\u8d77\u59cb\u4f4d\u7f6e/\u957f\u5ea6\u7684\u51fd\u6570\u7684\u96f6\u62f7\u8d1d\u5b9e\u73b0\uff0c\u610f\u5473\u7740\u6211\u4eec\u6700\u7ec8\u53ef\u80fd\u4f1a\u5f97\u5230\u6307\u5411 ",(0,t.jsx)(s.code,{children:"stringBuffers"}),"\n\u4e2d\u91cd\u53e0\u8303\u56f4\u7684 StringView\u3002\u56e0\u6b64\uff0c",(0,t.jsx)(s.code,{children:"stringBuffers"})," \u4e2d\u7684\u7f13\u51b2\u533a\u5e94\u88ab\u89c6\u4e3a\u4e0d\u53ef\u53d8\u7684\uff0c\u4ee5\u9632\u6b62\u610f\u5916\u7684\u7ea7\u8054\u4fee\u6539\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:["TIMESTAMP \u7c7b\u578b\u7684\u6241\u5e73\u5411\u91cf\u7528 ",(0,t.jsx)(s.code,{children:"FlatVector<Timestamp>"})," \u8868\u793a\u3002Timestamp \u7ed3\u6784\u4f53\u7531\u4e24\u4e2a 64 \u4f4d\u6574\u6570\u7ec4\u6210\uff1a\u79d2\u548c\u7eb3\u79d2\u3002\u6bcf\u4e2a\u6761\u76ee\u5360\u7528 16 \u4e2a\u5b57\u8282\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    int64_t seconds_;\n    uint64_t nanos_;\n"})}),"\n",(0,t.jsx)(s.h2,{id:"constant-vector-scalar-types",children:"\u5e38\u91cf\u5411\u91cf - \u6807\u91cf\u7c7b\u578b"}),"\n",(0,t.jsxs)(s.p,{children:["\u5e38\u91cf\u5411\u91cf\u4f7f\u7528 ",(0,t.jsx)(s.code,{children:"ConstantVector<T>"})," \u6a21\u677f\u8868\u793a\uff0c\u8be5\u6a21\u677f\u5305\u542b\u4e00\u4e2a\u503c\u548c\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u4e8e\u6307\u793a\u8be5\u503c\u662f\u5426\u4e3a\u7a7a\u3002\u5982\u679c T = StringView \u4e14\u5b57\u7b26\u4e32\u957f\u5ea6\u8d85\u8fc7 12 \u4e2a\u5b57\u7b26\uff0c\u5219\u5b83\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    T value_;\n    bool isNull_ = false;\n    BufferPtr stringBuffer_;\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"BaseVector::createConstant()"})," \u9759\u6001\u65b9\u6cd5\u53ef\u7528\u4e8e\u4ece\u6807\u91cf\u503c\u521b\u5efa\u5e38\u91cf\u5411\u91cf\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    static std::shared_ptr<BaseVector> createConstant(\n        const TypePtr& type,\n        variant value,\n        vector_size_t size,\n        pollux::memory::MemoryPool* pool);\n"})}),"\n",(0,t.jsx)(s.h2,{id:"dictionary-vector-scalar-types",children:"\u5b57\u5178\u5411\u91cf - \u6807\u91cf\u7c7b\u578b"}),"\n",(0,t.jsx)(s.p,{children:"\u5b57\u5178\u7f16\u7801\u7528\u4e8e\u7d27\u51d1\u5730\u8868\u793a\u5305\u542b\u5927\u91cf\u91cd\u590d\u503c\u7684\u5411\u91cf\uff0c\u4ee5\u53ca\u8fc7\u6ee4\u5668\u6216\u7c7b\u4f3c\u8fc7\u6ee4\u5668\u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u800c\u65e0\u9700\u590d\u5236\u6570\u636e\u3002\u5b57\u5178\u7f16\u7801\u4e5f\u53ef\u7528\u4e8e\u8868\u793a\u6392\u5e8f\u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u800c\u65e0\u9700\u590d\u5236\u6570\u636e\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u6807\u91cf\u7c7b\u578b\u7684\u5b57\u5178\u5411\u91cf\u7531 ",(0,t.jsx)(s.code,{children:"DictionaryVector<T>"})," \u6a21\u677f\u8868\u793a\u3002\u5b57\u5178\u5411\u91cf\u5305\u542b\u4e00\u4e2a\u6307\u5411\u57fa\u5411\u91cf\u7684\u5171\u4eab\u6307\u9488\uff0c\u8be5\u57fa\u5411\u91cf\u53ef\u4ee5\u662f\u5e73\u9762\u7684\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u662f\u5e73\u9762\u7684\uff0c\u4ee5\u53ca\u4e00\u4e2a\u6307\u5411\u57fa\u5411\u91cf\u7684\u7d22\u5f15\u7f13\u51b2\u533a\u3002\u7d22\u5f15\u662f 32 \u4f4d\u6574\u6570\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    BufferPtr indices_;\n    VectorPtr dictionaryValues_;\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u8fd9\u662f\u4e00\u4e2a VARCHAR \u7c7b\u578b\u7684\u5b57\u5178\u5411\u91cf\uff0c\u7528\u4e8e\u8868\u793a\u989c\u8272\u3002\u57fa\u5411\u91cf\u4ec5\u5305\u542b 5 \u4e2a\u6761\u76ee\uff1a\u7ea2\u8272\u3001\u84dd\u8272\u3001\u9ec4\u8272\u3001\u7c89\u8272\u3001\u7d2b\u8272\u548c\u91d1\u8272\u3002\u5b57\u5178\u5411\u91cf\n\u5305\u542b\u4e00\u4e2a\u6307\u5411\u57fa\u5411\u91cf\u7684 std::shared_ptr \u6307\u9488\uff0c\u4ee5\u53ca\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u5176\u4e2d\u5305\u542b\u6307\u5411\u8be5\u5411\u91cf\u7684\u7d22\u5f15\u3002\u5b57\u5178\u5411\u91cf\u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u90fd\u6307\u5411\u57fa\u5411\u91cf\u4e2d\u7684\u4e00\u4e2a\u6761\u76ee\u3002\u6761\u76ee 0\n\u548c 2 \u90fd\u6307\u5411\u57fa\u5411\u91cf\u4e2d\u5305\u542b\u201c\u7ea2\u8272\u201d\u7684\u6761\u76ee 0\u3002\u6761\u76ee 1\u30014\u30015\u300110 \u6307\u5411\u76f8\u540c\u4f46\u4e0d\u540c\u7684\u6761\u76ee 1\uff0c\u8be5\u6761\u76ee\u5305\u542b\u201c\u84dd\u8272\u201d\u3002\u8fd9\u79cd\u7f16\u7801\u907f\u514d\u4e86\u590d\u5236\n\u91cd\u590d\u7684\u5b57\u7b26\u4e32\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"500",align:"center",src:w()}),"\n",(0,t.jsx)(s.p,{children:"\u591a\u4e2a\u5b57\u5178\u5411\u91cf\u53ef\u4ee5\u5f15\u7528\u540c\u4e00\u4e2a\u57fa\u5411\u91cf\u3002\u6211\u4eec\u8bf4\uff0c\u5b57\u5178\u5411\u91cf\u5305\u88f9\u4e86\u57fa\u5411\u91cf\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u8fd9\u662f\u4e00\u4e2a INTEGER \u7c7b\u578b\u7684\u5b57\u5178\uff0c\u8868\u793a\u8fc7\u6ee4\u5668\u7684\u7ed3\u679c\uff1a",(0,t.jsx)(s.code,{children:"n % 2= 0"}),"\u3002\u57fa\u5411\u91cf\u5305\u542b 12 \u4e2a\u6761\u76ee\u3002\u5176\u4e2d\u53ea\u6709 6 \u4e2a\u6761\u76ee\u901a\u8fc7\u4e86\u8fc7\u6ee4\u5668\uff0c\u56e0\u6b64\u5b57\u5178\u5411\u91cf\u7684\u5927\u5c0f\u4e3a 6\u3002\n\u7d22\u5f15\u7f13\u51b2\u533a\u5305\u542b 6 \u4e2a\u6761\u76ee\uff0c\u5b83\u4eec\u6307\u5411\u539f\u59cb\u5411\u91cf\u4e2d\u901a\u8fc7\u8fc7\u6ee4\u5668\u7684\u4f4d\u7f6e\u3002"]}),"\n","\n",(0,t.jsx)("img",{width:"500",align:"center",src:f()}),"\n",(0,t.jsx)(s.p,{children:"\u5f53\u8fc7\u6ee4\u5668\u6216\u7c7b\u4f3c\u8fc7\u6ee4\u5668\u7684\u64cd\u4f5c\u5e94\u7528\u4e8e\u591a\u5217\u65f6\uff0c\u7ed3\u679c\u53ef\u4ee5\u8868\u793a\u4e3a\u591a\u4e2a\u5b57\u5178\u5411\u91cf\uff0c\u5b83\u4eec\u5171\u4eab\u76f8\u540c\u7684\u7d22\u5f15\u7f13\u51b2\u533a\u3002\u8fd9\u53ef\u4ee5\u51cf\u5c11\u7d22\u5f15\u7f13\u51b2\u533a\u6240\u9700\u7684\u5185\u5b58\u91cf\uff0c\u5e76\u901a\u8fc7\u5265\u79bb\u5171\u4eab\u5b57\u5178\u5b9e\u73b0\u9ad8\u6548\u7684\u8868\u8fbe\u5f0f\u6c42\u503c\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u5b57\u5178\u7f16\u7801\u7528\u4e8e\u8868\u793a\u8fde\u63a5\u7684\u7ed3\u679c\uff0c\u5176\u4e2d\u63a2\u6d4b\u7aef\u7684\u5217\u88ab\u5305\u88c5\u5230\u5b57\u5178\u4e2d\uff0c\u4ee5\u907f\u514d\u5728\u6784\u5efa\u7aef\u51fa\u73b0\u91cd\u590d\u7684\u3001\u5177\u6709\u591a\u4e2a\u5339\u914d\u9879\u7684\u884c\u3002\u5b57\u5178\u7f16\u7801\u4e5f\u7528\u4e8e\u8868\u793a\u53d6\u6d88\u5d4c\u5957\u7684\u7ed3\u679c\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u5b57\u5178\u7f16\u7801\u7528\u4e8e\u8868\u793a\u8fde\u63a5\u7684\u7ed3\u679c\uff0c\u5176\u4e2d\u63a2\u6d4b\u7aef\u7684\u5217\u88ab\u5305\u88c5\u5230\u5b57\u5178\u4e2d\uff0c\u4ee5\u907f\u514d\u5728\u6784\u5efa\u7aef\u51fa\u73b0\u91cd\u590d\u7684\u3001\u5177\u6709\u591a\u4e2a\u5339\u914d\u9879\u7684\u884c\u3002\u5b57\u5178\u7f16\u7801\u4e5f\u7528\u4e8e\u8868\u793a\u53d6\u6d88\u5d4c\u5957\u7684\u7ed3\u679c\u3002"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"BaseVector::wrapInDictionary()"})," \u9759\u6001\u65b9\u6cd5\u53ef\u7528\u4e8e\u5c06\u4efb\u4f55\u7ed9\u5b9a\u7684\u5411\u91cf\u5305\u88c5\u5230\u5b57\u5178\u4e2d\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"  static std::shared_ptr<BaseVector> wrapInDictionary(\n      BufferPtr nulls,\n      BufferPtr indices,\n      vector_size_t size,\n      std::shared_ptr<BaseVector> vector);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["BaseVector \u4e2d\u5b9a\u4e49\u7684 ",(0,t.jsx)(s.strong,{children:"wrappedVector()"})," \u865a\u65b9\u6cd5\u63d0\u4f9b\u5bf9\u5b57\u5178\u6700\u5185\u5c42\u5411\u91cf\u7684\u8bbf\u95ee\uff0c\u4f8b\u5982\uff1a",(0,t.jsx)(s.code,{children:"Dict(Dict(Flat))->wrappedVector()"})," \u8fd4\u56de Flat\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:["BaseVector \u4e2d\u5b9a\u4e49\u7684 ",(0,t.jsx)(s.strong,{children:"wrappedIndex(index)"})," \u865a\u65b9\u6cd5\u5c06\u5b57\u5178\u5411\u91cf\u4e2d\u7684\u7d22\u5f15\u8f6c\u6362\u4e3a\u6700\u5185\u5c42\u5411\u91cf\u4e2d\u7684\u7d22\u5f15\uff0c\u4f8b\u5982\uff1a\u5bf9\u4e8e\u4e0a\u9762\u7684\u5b57\u5178\u5411\u91cf\uff0c",(0,t.jsx)(s.code,{children:"wrappedIndex(3)"})," \u8fd4\u56de 6\u3002"]}),"\n",(0,t.jsx)(s.p,{children:"\u5b57\u5178\u5411\u91cf\u62e5\u6709\u72ec\u7acb\u4e8e\u57fa\u5411\u91cf\u7a7a\u503c\u7f13\u51b2\u533a\u7684\u7a7a\u503c\u7f13\u51b2\u533a\u3002\u8fd9\u4f7f\u5f97\u5373\u4f7f\u57fa\u5411\u91cf\u6ca1\u6709\u7a7a\u503c\uff0c\u5b57\u5178\u5411\u91cf\u4e5f\u53ef\u4ee5\u8868\u793a\u7a7a\u503c\u3002\u6211\u4eec\u79f0\u4e4b\u4e3a\u201c\u5b57\u5178\u5305\u88c5\u4f1a\u5411\u57fa\u5411\u91cf\u6dfb\u52a0\u7a7a\u503c\u201d\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u4ee5\u4e0b\u662f\u793a\u4f8b\u3002\u5b57\u5178\u4e2d\u7684\u6761\u76ee #4 \u88ab\u6807\u8bb0\u4e3a\u7a7a\u503c\u3002\u7d22\u5f15\u7f13\u51b2\u533a\u4e2d\u5bf9\u5e94\u7684\u6761\u76ee\u5305\u542b\u5783\u573e\u6570\u636e\uff0c\u4e0d\u5e94\u88ab\u8bbf\u95ee\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"500",align:"center",src:B()}),"\n",(0,t.jsx)(s.h2,{id:"flat-vectors-complex-types",children:"\u5e73\u9762\u5411\u91cf - \u590d\u6742\u7c7b\u578b"}),"\n",(0,t.jsx)(s.p,{children:"\u590d\u6742\u7c7b\u578b ARRAY\u3001MAP \u548c ROW/STRUCT \u7684\u5e73\u9762\u5411\u91cf\u5206\u522b\u4f7f\u7528 ArrayVector\u3001MapVector \u548c RowVector \u8868\u793a\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"array-vector",children:"\u6570\u7ec4\u5411\u91cf"}),"\n",(0,t.jsx)(s.p,{children:"ArrayVector \u5b58\u50a8\u6570\u7ec4\u7c7b\u578b\u7684\u503c\u3002\u9664\u4e86\u7a7a\u503c\u7f13\u51b2\u533a\u5916\uff0c\u5b83\u8fd8\u5305\u542b\u504f\u79fb\u91cf\u3001\u5927\u5c0f\u7f13\u51b2\u533a\u4ee5\u53ca\u4e00\u4e2a\u5143\u7d20\u5411\u91cf\u3002\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u5747\u4e3a 32 \u4f4d\n\u6574\u6570\u3002\u5411\u91cf\u4e2d\u7531\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u6784\u6210\u7684\u975e\u7a7a\u975e\u7a7a\u8303\u56f4\u4e0d\u5141\u8bb8\u76f8\u4e92\u91cd\u53e0\u3002"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    BufferPtr offsets_;\n    BufferPtr sizes_;\n    VectorPtr elements_;\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u5143\u7d20\u5411\u91cf\u5305\u542b\u6240\u6709\u6570\u7ec4\u7684\u6240\u6709\u5143\u7d20\u3002\u7279\u5b9a\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u6309\u987a\u5e8f\u76f8\u90bb\u6392\u5217\u3002\u6bcf\u4e2a\u6570\u7ec4\u6761\u76ee\n\u5305\u542b\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u3002\u504f\u79fb\u91cf\u6307\u5411\u5143\u7d20\u5411\u91cf\u4e2d\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\u5927\u5c0f\u6307\u5b9a\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6570\u91cf\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u8fd9\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"400",align:"center",src:b()}),"\n",(0,t.jsx)(s.p,{children:"\u6211\u4eec\u5c06\u6570\u7ec4\u5411\u91cf\u79f0\u4e3a\u9876\u5c42\u5411\u91cf\uff0c\u5c06\u5143\u7d20\u5411\u91cf\u79f0\u4e3a\u5d4c\u5957\u5411\u91cf\u6216\u5185\u90e8\u5411\u91cf\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u9876\u5c42\u6570\u7ec4\u6709 4 \u4e2a\u9876\u5c42\u884c\uff0c\u800c\u5143\u7d20\u6570\u7ec4\u6709 11 \u4e2a\u5d4c\u5957\u884c\u3002\u524d 3 \u4e2a\u5d4c\u5957\u884c\n\u5bf9\u5e94\u4e8e\u7b2c 0 \u4e2a\u9876\u5c42\u884c\u3002\u63a5\u4e0b\u6765\u7684 2 \u4e2a\u5d4c\u5957\u884c\u5bf9\u5e94\u4e8e\u7b2c 1 \u4e2a\u9876\u5c42\u884c\u3002\u63a5\u4e0b\u6765\u7684 4 \u4e2a\u5d4c\u5957\u884c\u5bf9\u5e94\u4e8e\u7b2c 2 \u4e2a\u9876\u5c42\u884c\u3002\n\u5269\u4e0b\u7684 2 \u4e2a\u5d4c\u5957\u884c\u5bf9\u5e94\u4e8e\u7b2c 3 \u4e2a\u9876\u5c42\u884c\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u5143\u7d20\u5411\u91cf\u4e2d\u7684\u503c\u53ef\u80fd\u4e0e\u6570\u7ec4\u5411\u91cf\u4e2d\u7684\u503c\u51fa\u73b0\u987a\u5e8f\u4e0d\u540c\u3002\u4ee5\u4e0b\u662f\u76f8\u540c\u903b\u8f91\u6570\u7ec4\u5411\u91cf\u7684\u53e6\u4e00\u79cd\u5e03\u5c40\u793a\u4f8b\u3002\u8fd9\u91cc\uff0c\u5143\u7d20\u6570\u7ec4\u4e2d\u7684\u503c\u4ee5\u4e0d\u540c\u7684\n\u987a\u5e8f\u51fa\u73b0\uff0c\u4f8b\u5982\u9996\u5148\u662f\u7b2c 0 \u4e2a\u9876\u5c42\u884c\u7684\u5143\u7d20\uff0c\u7136\u540e\u662f\u7b2c 2 \u4e2a\u9876\u5c42\u884c\u7684\u5143\u7d20\uff0c\u63a5\u7740\u662f\u7b2c 1 \u4e2a\u9876\u5c42\u884c\u7684\u5143\u7d20\uff0c\u6700\u540e\u662f\n\u7b2c 3 \u4e2a\u9876\u5c42\u884c\u7684\u5143\u7d20\u3002\u504f\u79fb\u91cf\u5df2\u8c03\u6574\uff0c\u4ee5\u6307\u5411\u5143\u7d20\u6570\u7ec4\u4e2d\u7684\u6b63\u786e\u6761\u76ee\u3002\u5927\u5c0f\u4fdd\u6301\u4e0d\u53d8\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"400",align:"center",src:y()}),"\n",(0,t.jsx)(s.p,{children:"\u540c\u65f6\u6307\u5b9a\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u5141\u8bb8\u4e71\u5e8f\u5199\u5165\u6570\u7ec4\u5411\u91cf\uff0c\u4f8b\u5982\uff0c\u5148\u5199\u5165\u6761\u76ee 5\uff0c\u518d\u5199\u5165\u6761\u76ee 3\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u7a7a\u6570\u7ec4\u901a\u8fc7\u5c06\u5927\u5c0f\u8bbe\u7f6e\u4e3a\u96f6\u6765\u6307\u5b9a\u3002\u7a7a\u6570\u7ec4\u7684\u504f\u79fb\u91cf\u88ab\u89c6\u4e3a\u672a\u5b9a\u4e49\uff0c\u53ef\u4ee5\u662f\u4efb\u610f\u503c\u3002\u8003\u8651\u5c06\u7a7a\u6570\u7ec4\u7684\u504f\u79fb\u91cf\u8bbe\u7f6e\u4e3a\u96f6\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u7a7a\u6570\u7ec4\u548c\u7a7a\u6570\u7ec4\u5e76\u4e0d\u76f8\u540c\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u5143\u7d20\u5411\u91cf\u53ef\u80fd\u5177\u6709\u4e00\u4e2a\u72ec\u7acb\u4e8e\u6570\u7ec4\u5411\u91cf\u672c\u8eab\u7684\u7a7a\u7f13\u51b2\u533a\u7684\u7a7a\u503c\u7f13\u51b2\u533a\u3002\u8fd9\u4f7f\u6211\u4eec\u80fd\u591f\u6307\u5b9a\u5305\u542b\u90e8\u5206\u6216\u5168\u90e8\u7a7a\u5143\u7d20\u7684\u975e\u7a7a\u6570\u7ec4\u3002\u7a7a\u6570\u7ec4\u548c\u6240\u6709\u7a7a\u5143\u7d20\u7684\u6570\u7ec4\u5e76\u4e0d\u76f8\u540c\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"map-vector",children:"\u952e\u503c"}),"\n",(0,t.jsx)(s.p,{children:"MapVector \u5b58\u50a8 MAP \u7c7b\u578b\u7684\u503c\u3002\u9664\u4e86\u7a7a\u503c\u7f13\u51b2\u533a\u5916\uff0c\u5b83\u8fd8\u5305\u542b\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u7f13\u51b2\u533a\u3001\u952e\u548c\u503c\u5411\u91cf\u3002\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u5747\u4e3a 32 \u4f4d\u6574\u6570\u3002\n\u5411\u91cf\u4e2d\u7531\u504f\u79fb\u91cf\u548c\u5927\u5c0f\u6784\u6210\u7684\u975e\u7a7a\u975e\u7a7a\u8303\u56f4\u4e0d\u5141\u8bb8\u76f8\u4e92\u91cd\u53e0\u3002"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    BufferPtr offsets_;\n    BufferPtr sizes_;\n    VectorPtr keys_;\n    VectorPtr values_;\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u8fd9\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"700",align:"center",src:C()}),"\n",(0,t.jsx)(s.p,{children:"\u4e0e\u6570\u7ec4\u5411\u91cf\u7c7b\u4f3c\uff0c\u5404\u4e2a\u6620\u5c04\u6761\u76ee\u4f1a\u6309\u987a\u5e8f\u4e00\u8d77\u51fa\u73b0\u5728\u952e\u548c\u503c\u5411\u91cf\u4e2d\u3002\u4f46\u662f\uff0c\u9876\u5c42\u6620\u5c04 #4 \u7684\u6620\u5c04\u6761\u76ee\u4e0d\u5fc5\u51fa\u73b0\u5728\u9876\u5c42\u6620\u5c04 #5 \u7684\u6620\u5c04\u6761\u76ee\u4e4b\u524d\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u7a7a\u6620\u5c04\u53ef\u4ee5\u901a\u8fc7\u5c06 size \u8bbe\u7f6e\u4e3a\u96f6\u6765\u6307\u5b9a\u3002\u7a7a\u6620\u5c04\u7684\u504f\u79fb\u91cf\u88ab\u89c6\u4e3a\u672a\u5b9a\u4e49\uff0c\u53ef\u4ee5\u662f\u4efb\u610f\u503c\u3002\u8bf7\u8003\u8651\u5c06\u7a7a\u6620\u5c04\u7684\u504f\u79fb\u91cf\u8bbe\u7f6e\u4e3a\u96f6\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u7a7a\u6620\u5c04\u548c\u7a7a\u6620\u5c04\u4e0d\u540c\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u952e\u548c\u503c\u5411\u91cf\u53ef\u4ee5\u5177\u6709\u5f7c\u6b64\u72ec\u7acb\u7684\u7a7a\u503c\u7f13\u51b2\u533a\uff0c\u5e76\u4e14\u72ec\u7acb\u4e8e\u6620\u5c04\u5411\u91cf\u672c\u8eab\u7684\u7a7a\u503c\u7f13\u51b2\u533a\u3002\u8fd9\u4f7f\u6211\u4eec\u80fd\u591f\u6307\u5b9a\u975e\u7a7a\u6620\u5c04\uff0c\u5176\u4e2d\u90e8\u5206\u6216\u6240\u6709\u503c\u4e3a\u7a7a\u3002\u4ece\u6280\u672f\u4e0a\u8bb2\uff0c\n\u6620\u5c04\u4e5f\u53ef\u80fd\u5177\u6709\u7a7a\u952e\uff0c\u5c3d\u7ba1\u8fd9\u5728\u5b9e\u8df5\u4e2d\u53ef\u80fd\u4e0d\u592a\u6709\u7528\u3002\u7a7a\u6620\u5c04\u548c\u6240\u6709\u503c\u90fd\u4e3a\u7a7a\u7684\u6620\u5c04\u5e76\u4e0d\u76f8\u540c\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u6620\u5c04\u5411\u91cf\u5e03\u5c40\u5e76\u4e0d\u4fdd\u8bc1\u6216\u8981\u6c42\u5404\u4e2a\u6620\u5c04\u7684\u952e\u662f\u552f\u4e00\u7684\u3002\u7136\u800c\uff0c\u5728\u5b9e\u8df5\u4e2d\uff0c\u521b\u5efa\u6620\u5c04\u7684\u5730\u65b9\uff08\u4f8b\u5982 ORC \u548c Parquet \u8bfb\u53d6\u5668\u3001:func:",(0,t.jsx)(s.code,{children:"map"})," \u51fd\u6570\u7b49\uff09\u4f1a\u786e\u4fdd\u6620\u5c04\u952e\u662f\u552f\u4e00\u7684\u3002"]}),"\n",(0,t.jsx)(s.h2,{id:"row-vector",children:"\u884c\u5411\u91cf"}),"\n",(0,t.jsx)(s.p,{children:"\u6700\u540e\uff0cRowVector \u5b58\u50a8 ROW \u7c7b\u578b\u7684\u503c\uff08\u4f8b\u5982\u7ed3\u6784\u4f53\uff09\u3002\u9664\u4e86\u7a7a\u503c\u7f13\u51b2\u533a\u5916\uff0c\u5b83\u8fd8\u5305\u542b\u4e00\u4e2a\u5b50\u5411\u91cf\u5217\u8868\u3002"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    std::vector<VectorPtr> children_;\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u8fd9\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002"}),"\n","\n",(0,t.jsx)("img",{width:"700",align:"center",src:U()}),"\n",(0,t.jsx)(s.p,{children:"\u884c\u5411\u91cf\u53ef\u4ee5\u5305\u542b\u4efb\u610f\u6570\u91cf\u7684\u5b50\u5411\u91cf\uff0c\u5305\u62ec\u96f6\u4e2a\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u5bf9\u4e8e\u884c\u5411\u91cf\u4e2d\u7684\u6bcf\u4e2a\u9876\u5c42\u884c\uff0c\u6bcf\u4e2a\u5b50\u5411\u91cf\u4e2d\u90fd\u6070\u597d\u6709\u4e00\u884c\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u5b50\u5411\u91cf\u53ef\u80fd\u5305\u542b\u81ea\u5df1\u7684\u7a7a\u503c\u7f13\u51b2\u533a\uff0c\u56e0\u6b64\uff0c\u9876\u5c42\u7ed3\u6784\u4f53\u503c\u53ef\u80fd\u4e3a\u975e\u7a7a\uff0c\u4f46\u90e8\u5206\u6216\u6240\u6709\u5b50\u5b57\u6bb5\u4e3a\u7a7a\u3002\u7a7a\u503c\u7ed3\u6784\u4f53\u4e0d\u540c\u4e8e\u6240\u6709\u5b57\u6bb5\u90fd\u4e3a\u7a7a\u7684\u7ed3\u6784\u4f53\u3002\n\u9876\u5c42\u7ed3\u6784\u4f53\u4e3a\u7a7a\u7684\u884c\u7684\u5b50\u5b57\u6bb5\u503c\u672a\u5b9a\u4e49\u3002"}),"\n",(0,t.jsx)(s.p,{children:"RowVector \u7528\u4e8e\u8868\u793a\u7ed3\u6784\u4f53\u7c7b\u578b\u7684\u5355\u4e2a\u5217\uff0c\u4ee5\u53ca\u67e5\u8be2\u6267\u884c\u671f\u95f4\u4ece\u4e00\u4e2a\u8fd0\u7b97\u7b26\u4f20\u9012\u5230\u4e0b\u4e00\u4e2a\u8fd0\u7b97\u7b26\u7684\u5217\u96c6\u5408\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"constant-vector-complex-types",children:"\u5e38\u91cf\u5411\u91cf - \u590d\u6742\u7c7b\u578b"}),"\n",(0,t.jsxs)(s.p,{children:["\u590d\u6742\u7c7b\u578b\u7684\u5e38\u91cf\u5411\u91cf\u7528 ",(0,t.jsx)(s.code,{children:"ConstantVector<ComplexType>"})," \u8868\u793a\uff0c\u5176\u4e2d ComplexType \u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6807\u8bb0\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u6240\u6709\u590d\u6742\u7c7b\u578b\u3002\nARRAY(INTEGER) \u7c7b\u578b\u7684\u5e38\u91cf\u5411\u91cf\u548c MAP(TINYINT, VARCHAR) \u7c7b\u578b\u7684\u5e38\u91cf\u5411\u91cf\u7531\u540c\u4e00\u4e2a\u7c7b ",(0,t.jsx)(s.code,{children:"ConstantVector<ComplexType>"})," \u8868\u793a\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"ConstantVector<ComplexType>"})," \u901a\u8fc7\u6307\u5411\u53e6\u4e00\u4e2a\u5411\u91cf\u4e2d\u7684\u7279\u5b9a\u884c\u6765\u6807\u8bc6\u7279\u5b9a\u7684\u590d\u6742\u7c7b\u578b\u503c\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    VectorPtr valueVector_;\n    vector_size_t index_;\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u4e0b\u56fe\u5c55\u793a\u4e86\u4e00\u4e2a ARRAY(INTEGER) \u7c7b\u578b\u7684\u590d\u6570\u5411\u91cf\uff0c\u8868\u793a\u4e00\u4e2a\u5305\u542b 4 \u4e2a\u6574\u6570\u7684\u6570\u7ec4\uff1a",(0,t.jsx)(s.code,{children:"[10, 12, -1, 0]"}),"\u3002\u5b83\u88ab\u5b9a\u4e49\u4e3a\u6307\u5411\u5176\u4ed6 ArrayVector \u4e2d\u7b2c 2 \u884c\u7684\u6307\u9488\u3002"]}),"\n","\n",(0,t.jsx)("img",{width:"800",align:"center",src:I()}),"\n",(0,t.jsxs)(s.p,{children:["\u4f7f\u7528 BaseVector::wrapInConstant() \u9759\u6001\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u590d\u6742\u7c7b\u578b\u7684\u5e38\u91cf\u5411\u91cf\u3002\u4efb\u4f55\u5411\u91cf\u90fd\u53ef\u4ee5\u5305\u88c5\u6210\u5e38\u91cf\u5411\u91cf\u3002\u5f53\u5bf9\u975e\u5e73\u9762\u5411\u91cf\u4f7f\u7528 wrapInConstant() \u65f6\uff0c\n\u751f\u6210\u7684\u5e38\u91cf\u5411\u91cf\u6700\u7ec8\u4f1a\u5f15\u7528\u6700\u5185\u5c42\u7684\u5411\u91cf\uff0c\u4f8b\u5982\uff0cwrapInConstant(100, 5, Dict\n(Flat)) \u8fd4\u56de ",(0,t.jsx)(s.code,{children:"ConstantVector<ComplexType>"}),"(100, Dict->wrappedIndex(5), Flat)\u3002"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cpp",children:"\n    static std::shared_ptr<BaseVector> wrapInConstant(\n        vector_size_t length,\n        vector_size_t index,\n        std::shared_ptr<BaseVector> vector);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["BaseVector \u4e2d\u5b9a\u4e49\u7684 ",(0,t.jsx)(s.strong,{children:"wrappedVector()"})," \u865a\u65b9\u6cd5\u63d0\u4f9b\u5bf9\u5e95\u5c42\u5e73\u9762\u5411\u91cf\u7684\u8bbf\u95ee\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:["BaseVector \u4e2d\u5b9a\u4e49\u7684 ",(0,t.jsx)(s.strong,{children:"wrappedIndex(index)"})," \u865a\u65b9\u6cd5\u8fd4\u56de\u5e95\u5c42\u5e73\u9762\u5411\u91cf\u4e2d\u7528\u4e8e\u6807\u8bc6\u5e38\u91cf\u503c\u7684\u7d22\u5f15\u3002\u6b64\u65b9\u6cd5\u8fd4\n\u56de\u6240\u6709\u8f93\u5165\u7684\u76f8\u540c\u503c\uff0c\u56e0\u4e3a\u5e38\u91cf\u5411\u91cf\u7684\u6240\u6709\u884c\u90fd\u6620\u5c04\u5230\u5e95\u5c42\u5e73\u9762\u5411\u91cf\u7684\u540c\u4e00\u884c\u3002"]}),"\n",(0,t.jsx)(s.h2,{id:"dictionary-vector-complex-types",children:"\u5b57\u5178\u5411\u91cf - \u590d\u6742\u7c7b\u578b"}),"\n",(0,t.jsxs)(s.p,{children:["\u4e0e\u5e38\u91cf\u5411\u91cf\u7c7b\u4f3c\uff0c\u590d\u6742\u7c7b\u578b\u7684\u5b57\u5178\u5411\u91cf\u7528 ",(0,t.jsx)(s.code,{children:"DictionaryVector<ComplexType>"})," \u8868\u793a\uff0c\u5176\u4e2d ComplexType \u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6807\u8bb0\u7c7b\u578b\uff0c\u9002\u7528\u4e8e\u6240\u6709\u590d\u6742\n\u7c7b\u578b\u3002ARRAY (INTEGER) \u7c7b\u578b\u7684\u5b57\u5178\u5411\u91cf\u548c MAP(TINYINT, VARCHAR) \u7c7b\u578b\u7684\u5b57\u5178\u5411\u91cf\u90fd\u7528\u540c\u4e00\u4e2a\u7c7b ",(0,t.jsx)(s.code,{children:"DictionaryVector<ComplexType>"}),"\n\u8868\u793a\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u590d\u6742\u7c7b\u578b\u7684\u5b57\u5178\u5411\u91cf\u4e0e\u6807\u91cf\u7c7b\u578b\u7684\u5b57\u5178\u5411\u91cf\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002"]})]})}function P(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(J,{...e})}):J(e)}},28453:(e,s,n)=>{"use strict";n.d(s,{R:()=>a,x:()=>c});var t=n(96540);const r={},i=t.createContext(r);function a(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);