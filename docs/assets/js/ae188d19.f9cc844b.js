"use strict";(self.webpackChunkkumo_website=self.webpackChunkkumo_website||[]).push([[51764],{46953:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>_,contentTitle:()=>c,default:()=>l,frontMatter:()=>s,metadata:()=>u,toc:()=>i});var r=e(74848),a=e(28453);const s={},c="unicode",u={id:"cpp/vamos/unicode",title:"unicode",description:"\u4f7f\u7528 (CMake)",source:"@site/versioned_docs/version-1.1.1/cpp/vamos/unicode.mdx",sourceDirName:"cpp/vamos",slug:"/cpp/vamos/unicode",permalink:"/docs/cpp/vamos/unicode",draft:!1,unlisted:!1,tags:[],version:"1.1.1",frontMatter:{},sidebar:"docs",previous:{title:"\u6982\u89c8",permalink:"/docs/cpp/vamos/overview"},next:{title:"Base64",permalink:"/docs/cpp/vamos/base64"}},_={},i=[{value:"\u4f7f\u7528 (CMake)",id:"usage",level:2},{value:"\u793a\u4f8b",id:"example",level:2},{value:"\u8f93\u5165/\u8f93\u51fa\u4ee3\u7406",id:"\u8f93\u5165\u8f93\u51fa\u4ee3\u7406",level:2},{value:"InputSpan",id:"inputspan",level:3},{value:"OutputSpan",id:"outputspan",level:3},{value:"\u63a5\u53e3",id:"api",level:2},{value:"\u624b\u52a8\u5b9e\u65bd\u9009\u62e9",id:"\u624b\u52a8\u5b9e\u65bd\u9009\u62e9",level:2},{value:"\u7ebf\u7a0b\u5b89\u5168",id:"\u7ebf\u7a0b\u5b89\u5168",level:2},{value:"\u5f15\u7528",id:"\u5f15\u7528",level:2}];function o(n){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"unicode",children:"unicode"})}),"\n",(0,r.jsx)(t.h2,{id:"usage",children:"\u4f7f\u7528 (CMake)"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"cmake --preset=default\ncmake --build build\ncd build\nctest .\n"})}),"\n",(0,r.jsx)(t.h2,{id:"example",children:"\u793a\u4f8b"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:'#include <iostream>\n#include <memory>\n\n#include <vamos/vamos.h>\n\nint main(int argc, char *argv[]) {\n  const char *source = "1234";\n  // 4 == strlen(source)\n  bool validutf8 = vamos::validate_utf8(source, 4);\n  if (validutf8) {\n    std::cout << "valid UTF-8" << std::endl;\n  } else {\n    std::cerr << "invalid UTF-8" << std::endl;\n    return EXIT_FAILURE;\n  }\n  // We need a buffer of size where to write the UTF-16LE code units.\n  size_t expected_utf16words = vamos::utf16_length_from_utf8(source, 4);\n  std::unique_ptr<char16_t[]> utf16_output{new char16_t[expected_utf16words]};\n  // convert to UTF-16LE\n  size_t utf16words =\n      vamos::convert_utf8_to_utf16le(source, 4, utf16_output.get());\n  std::cout << "wrote " << utf16words << " UTF-16LE code units." << std::endl;\n  // It wrote utf16words * sizeof(char16_t) bytes.\n  bool validutf16 = vamos::validate_utf16le(utf16_output.get(), utf16words);\n  if (validutf16) {\n    std::cout << "valid UTF-16LE" << std::endl;\n  } else {\n    std::cerr << "invalid UTF-16LE" << std::endl;\n    return EXIT_FAILURE;\n  }\n  // convert it back:\n  // We need a buffer of size where to write the UTF-8 code units.\n  size_t expected_utf8words =\n      vamos::utf8_length_from_utf16le(utf16_output.get(), utf16words);\n  std::unique_ptr<char[]> utf8_output{new char[expected_utf8words]};\n  // convert to UTF-8\n  size_t utf8words = vamos::convert_utf16le_to_utf8(\n      utf16_output.get(), utf16words, utf8_output.get());\n  std::cout << "wrote " << utf8words << " UTF-8 code units." << std::endl;\n  std::string final_string(utf8_output.get(), utf8words);\n  std::cout << final_string << std::endl;\n  if (final_string != source) {\n    std::cerr << "bad conversion" << std::endl;\n    return EXIT_FAILURE;\n  } else {\n    std::cerr << "perfect round trip" << std::endl;\n  }\n  return EXIT_SUCCESS;\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"\u8f93\u5165\u8f93\u51fa\u4ee3\u7406",children:"\u8f93\u5165/\u8f93\u51fa\u4ee3\u7406"}),"\n",(0,r.jsx)(t.h3,{id:"inputspan",children:"InputSpan"}),"\n",(0,r.jsxs)(t.p,{children:["\u5728vamos\u4e2d\uff0c\u63d0\u4f9b\u4e86",(0,r.jsx)(t.code,{children:"InputSpan"}),"\u5bb9\u5668\u3002"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"    template<typename T, typename = void>\n    class InputSpan;\n"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"InputSpan"})," \u91cd\u8f7d\u4f7f\u7528 ",(0,r.jsx)(t.code,{children:"turbo::span"})," \u6765\u5904\u7406 UTF-16 \u548c UTF-32\u3002\u5bf9\u4e8e latin1\u3001UTF-8\u3001\n",(0,r.jsx)(t.code,{children:"binary"}),"\uff08base64 \u51fd\u6570\u4f7f\u7528\uff09\uff0c\u4efb\u4f55\u5177\u6709 ",(0,r.jsx)(t.code,{children:".size()"})," \u548c\n",(0,r.jsx)(t.code,{children:".data()"})," \u5e76\u8fd4\u56de\u6307\u5411\u5b57\u8282\u7c7b\u578b\u7684\u6307\u9488\u7684\u5185\u5bb9\u90fd\u5c06\u88ab\u63a5\u53d7\u4e3a\nspan\u3002\u8fd9\u4f7f\u5f97\u53ef\u4ee5\u76f4\u63a5\u5c06 ",(0,r.jsx)(t.code,{children:"std::string"}),"\u3001",(0,r.jsx)(t.code,{children:"std::string_view"}),"\u3001\n",(0,r.jsx)(t.code,{children:"std::vector"}),"\u3001",(0,r.jsx)(t.code,{children:"std::array"})," \u548c ",(0,r.jsx)(t.code,{children:"std::span"})," \u4f20\u9012\u7ed9\u51fd\u6570\u3002\u5141\u8bb8\u5728 ",(0,r.jsx)(t.code,{children:"api"})," \u4e2d\u4f7f\u7528\n\u6240\u6709\u5b57\u8282\u7c7b\u578b\uff08\u800c\u4e0d\u662f\u4ec5\u4f7f\u7528 ",(0,r.jsx)(t.code,{children:"std::span<char>"}),"\uff09\u7684\u539f\u56e0\u662f\u4e3a\u4e86\n\u80fd\u591f\u8f7b\u677e\u5730\u4e0e\u7528\u6237\u53ef\u80fd\u62e5\u6709\u7684\u4efb\u4f55\u6570\u636e\u8fdb\u884c\u4ea4\u4e92\uff0c\u800c\u65e0\u9700\n\u8fdb\u884c\u5f3a\u5236\u8f6c\u6362\u3002"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"vamos::InputSpan<T>"}),"\u662f\u4e2a\u4ee3\u7406",(0,r.jsx)(t.code,{children:"span"}),"\u7c7b\uff0c\u53ef\u4ee3\u7406"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"std::vector<T>"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"std::basic_string<T>"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"std::basic_string_view<T>"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"turbo::span<T>"})}),"\n",(0,r.jsxs)(t.li,{children:["\u81ea\u5b9a\u4e49\u7c7b\u578b\n\u5bf9\u4e8e\u4efb\u4f55\u7c7b\u578b\u5bb9\u5668 ",(0,r.jsx)(t.code,{children:"Container"}),"\uff0c\u5fc5\u987b\u5177\u5907\u5982\u4e0b\u6761\u4ef6\uff1a"]}),"\n",(0,r.jsxs)(t.li,{children:["\u5177\u5907",(0,r.jsx)(t.code,{children:"Container::value_type"})]}),"\n",(0,r.jsxs)(t.li,{children:["\u5177\u5907",(0,r.jsx)(t.code,{children:"const Container::value_type* Container::data() const"})]}),"\n",(0,r.jsxs)(t.li,{children:["\u5177\u5907",(0,r.jsx)(t.code,{children:"Container::size() const"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"Container::value_type"}),"\u5fc5\u987b\u662f\u6574\u5f62\u6216\u8005",(0,r.jsx)(t.code,{children:"char"}),", ",(0,r.jsx)(t.code,{children:"char16_t"}),",",(0,r.jsx)(t.code,{children:"char32_t"})]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["\u5982\u679c\u662f\u81ea\u5b9a\u4e49\u6216\u8005",(0,r.jsx)(t.code,{children:"stl"}),"\u5bb9\u5668\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0a\u6761\u4ef6\u3002"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"sizeof(Container::value_type)"}),(0,r.jsx)(t.th,{children:"\u8f6c\u6362\u540e\u7c7b\u578b"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"8"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"char"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"16"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"char16_t"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"32"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"char32_t"})})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"outputspan",children:"OutputSpan"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"template<typename T, typename = void>\nclass OutputSpan;\n"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"vamos::OutputSpan<T>"}),"\u662f\u4e2a\u4ee3\u7406",(0,r.jsx)(t.code,{children:"span"}),"\u7c7b\uff0c\u53ef\u4ee3\u7406"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"std::vector<T>"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"std::basic_string<T>"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"std::basic_string_view<T>"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"turbo::span<T>"})}),"\n",(0,r.jsxs)(t.li,{children:["\u81ea\u5b9a\u4e49\u7c7b\u578b\n\u5bf9\u4e8e\u4efb\u4f55\u7c7b\u578b\u5bb9\u5668 ",(0,r.jsx)(t.code,{children:"Container"}),"\uff0c\u5fc5\u987b\u5177\u5907\u5982\u4e0b\u6761\u4ef6\uff1a"]}),"\n",(0,r.jsxs)(t.li,{children:["\u5177\u5907",(0,r.jsx)(t.code,{children:"Container::value_type"})]}),"\n",(0,r.jsxs)(t.li,{children:["\u5177\u5907",(0,r.jsx)(t.code,{children:"Container::value_type* Container::data()"})]}),"\n",(0,r.jsxs)(t.li,{children:["\u5177\u5907",(0,r.jsx)(t.code,{children:"Container::size() const"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"Container::value_type"}),"\u5fc5\u987b\u662f\u6574\u5f62\u6216\u8005",(0,r.jsx)(t.code,{children:"char"}),", ",(0,r.jsx)(t.code,{children:"char16_t"}),",",(0,r.jsx)(t.code,{children:"char32_t"})]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["\u5982\u679c\u662f\u81ea\u5b9a\u4e49\u6216\u8005",(0,r.jsx)(t.code,{children:"stl"}),"\u5bb9\u5668\u5fc5\u987b\u6ee1\u8db3\u4ee5\u4e0a\u6761\u4ef6\u3002"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"sizeof(Container::value_type)"}),(0,r.jsx)(t.th,{children:"\u8f6c\u6362\u540e\u7c7b\u578b"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"8"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"char"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"16"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"char16_t"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"32"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"char32_t"})})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"api",children:"\u63a5\u53e3"}),"\n",(0,r.jsxs)(t.p,{children:["\u6211\u4eec\u7684 ",(0,r.jsx)(t.code,{children:"API"})," \u7531\u4e00\u4e9b\u975e\u5206\u914d\u51fd\u6570\u7ec4\u6210\u3002\u5b83\u4eec\u901a\u5e38\u4ee5\u6307\u9488\u548c\u957f\u5ea6\u4f5c\u4e3a\u53c2\u6570\uff0c\n\u6709\u65f6\u4ee5\u6307\u5411\u8f93\u51fa\u7f13\u51b2\u533a\u7684\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\u3002\u7528\u6237\u8d1f\u8d23\u5185\u5b58\u5206\u914d\u3002"]}),"\n",(0,r.jsx)(t.p,{children:"\u6211\u4eec\u4f7f\u7528\u4e09\u79cd\u7c7b\u578b\u7684\u6570\u636e\u6307\u9488\u7c7b\u578b\uff1a"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"char*"})," \u7528\u4e8e UTF-8 \u6216\u4e0d\u786e\u5b9a\u7684 Unicode \u683c\u5f0f\uff0c"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"char16_t*"})," \u7528\u4e8e UTF-16\uff08UTF-16LE \u548c UTF-16BE\uff09\uff0c"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"char32_t*"})," \u7528\u4e8e UTF-32\u3002UTF-32 \u4e3b\u8981\u7528\u4e8e\u5185\u90e8\u4f7f\u7528\uff0c\u800c\u4e0d\u662f\u6570\u636e\u4ea4\u6362\u3002\n\u56e0\u6b64\uff0c\u9664\u975e\u53e6\u6709\u8bf4\u660e\uff0c\u5426\u5219 ",(0,r.jsx)(t.code,{children:"char32_t"})," \u6307\u7684\u662f\u672c\u673a\u7c7b\u578b\uff0c\u901a\u5e38\u662f UTF-32LE\uff0c\u56e0\u4e3a\u5982\u4eca\u51e0\u4e4e\u6240\u6709\u7cfb\u7edf\u90fd\u662f\u5c0f\u7aef\u7684\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["\u6982\u62ec\u5730\u8bf4\uff0c\u6211\u4eec\u5c06 ",(0,r.jsx)(t.code,{children:"char"}),"\u3001",(0,r.jsx)(t.code,{children:"char16_t"})," \u548c ",(0,r.jsx)(t.code,{children:"char32_t"})," \u79f0\u4e3a ",(0,r.jsx)(t.em,{children:"\u4ee3\u7801\u5355\u5143"}),"\u3002\u4e00\u4e2a ",(0,r.jsx)(t.em,{children:"\u5b57\u7b26"})," \u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a ",(0,r.jsx)(t.em,{children:"\u4ee3\u7801\u5355\u5143"}),"\uff1aUTF-8 \u4e2d\u6709 1 \u5230 4 \u4e2a\u4ee3\u7801\u5355\u5143\uff0cUTF-16LE \u548c UTF-16BE \u4e2d\u6709 1 \u5230 2 \u4e2a\u4ee3\u7801\u5355\u5143\u3002"]}),"\n",(0,r.jsxs)(t.p,{children:["\u6211\u4eec\u7684\u51fd\u6570\u548c\u58f0\u660e\u90fd\u5728 ",(0,r.jsx)(t.code,{children:"vamos"})," \u547d\u540d\u7a7a\u95f4\u4e2d\u3002\u56e0\u6b64\uff0c\u60a8\u5e94\u8be5\u6839\u636e\u9700\u8981\u5728\u6211\u4eec\u7684\u51fd\u6570\n\u548c\u7c7b\u578b\u524d\u52a0\u4e0a ",(0,r.jsx)(t.code,{children:"vamos::"}),"\u3002"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"std::vector<char> data{1, 2, 3, 4, 5};\nauto cpp11 = vamos::autodetect_encoding(data.data(), data.size());\nauto cppspan = vamos::autodetect_encoding(data);\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u6211\u4eec\u6709\u57fa\u672c\u51fd\u6570\u6765\u68c0\u6d4b\u8f93\u5165\u7684\u7c7b\u578b\u3002\u5b83\u4eec\u8fd4\u56de\u7531\u4ee5\u4e0b\u201c\u679a\u4e3e\u201d\u5b9a\u4e49\u7684\u6574\u6570\u3002"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"enum encoding_type {\n        UTF8 = 1,       // BOM 0xef 0xbb 0xbf\n        UTF16_LE = 2,   // BOM 0xff 0xfe\n        UTF16_BE = 4,   // BOM 0xfe 0xff\n        UTF32_LE = 8,   // BOM 0xff 0xfe 0x00 0x00\n        UTF32_BE = 16,  // BOM 0x00 0x00 0xfe 0xff\n\n        unspecified = 0\n};\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"\n/**\n* \u81ea\u52a8\u68c0\u6d4b\u8f93\u5165\u7684\u7f16\u7801\uff0c\u5efa\u8bae\u4f7f\u7528\u5355\u4e00\u7f16\u7801\u3002\n* \u4f8b\u5982\uff0c\u8be5\u51fd\u6570\u53ef\u80fd\u8fd4\u56de vamos::encoding_type::UTF8\u3001\n* vamos::encoding_type::UTF16_LE\u3001vamos::encoding_type::UTF16_BE \u6216\n* vamos::encoding_type::UTF32_LE\u3002\n*\n* @param input \u8981\u5206\u6790\u7684\u5b57\u7b26\u4e32\u3002\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\n* @return \u68c0\u6d4b\u5230\u7684\u7f16\u7801\u7c7b\u578b\n*/\nvamos_warn_unused vamos::encoding_type autodetect_encoding(const char *input, size_t length) noexcept;\n\n/**\n* \u4e00\u6b21\u6027\u81ea\u52a8\u68c0\u6d4b\u8f93\u5165\u7684\u53ef\u80fd\u7f16\u7801\u3002\n* \u4f8b\u5982\uff0c\u5982\u679c\u8f93\u5165\u53ef\u80fd\u662f UTF-16LE \u6216 UTF-8\uff0c\u6b64\u51fd\u6570\u5c06\u8fd4\u56de\n* \u503c (vamos::encoding_type::UTF8 | vamos::encoding_type::UTF16_LE)\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* @param input \u8981\u5206\u6790\u7684\u5b57\u7b26\u4e32\u3002\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\n* @return \u68c0\u6d4b\u5230\u7684\u7f16\u7801\u7c7b\u578b\n*/\nvamos_warn_unused int detect_encodings(const char *input, size_t length) noexcept;\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u5bf9\u4e8e\u9a8c\u8bc1\u548c\u8f6c\u7801\uff0c\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e86\u5728\u53d1\u751f\u9519\u8bef\u65f6\u505c\u6b62\u5e76\u8fd4\u56de\u7ed3\u679c\u7ed3\u6784\uff08\u7531\u4e24\u4e2a\u5b57\u6bb5\u7ec4\u6210\uff09\u7684\u51fd\u6570\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"struct result {\n  /// \u53c2\u89c1\u201cstruct error_code\u201d\u3002\n  error_code error;\n  /// \u5982\u679c\u53d1\u751f\u9519\u8bef\uff0c\u5219\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u6307\u793a\u8f93\u5165\u4e2d\u9519\u8bef\u7684\u4f4d\u7f6e\u3002\n  size_t count;\n  /// \u5982\u679c\u6210\u529f\uff0c\u5219\u8868\u793a\u9a8c\u8bc1/\u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\u3002\n};\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u51fa\u73b0\u9519\u8bef\u65f6\uff0c",(0,r.jsx)(t.code,{children:"error"}),"\u5b57\u6bb5\u8868\u793a\u9047\u5230\u7684\u9519\u8bef\u7c7b\u578b\uff0c",(0,r.jsx)(t.code,{children:"count"}),"\u5b57\u6bb5\u8868\u793a\u9519\u8bef\u5728\u8f93\u5165\u4e2d\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\uff09\u6216\u9a8c\u8bc1/\u5199\u5165\u7684\u5b57\u7b26\u6570\u3002\n\u6211\u4eec\u62a5\u544a\u4e0e ",(0,r.jsx)(t.code,{children:"Latin1"}),"\u3001",(0,r.jsx)(t.code,{children:"UTF-8"}),"\u3001",(0,r.jsx)(t.code,{children:"UTF-16"})," \u548c ",(0,r.jsx)(t.code,{children:"UTF-32"})," \u7f16\u7801\u76f8\u5173\u7684\u516d\u79cd\u9519\u8bef\u7c7b\u578b\uff1a"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"enum error_code {\n    SUCCESS = 0,\n    /// \u4efb\u4f55\u5b57\u8282\u7684\u6807\u5934\u4f4d\u90fd\u5fc5\u987b\u5c11\u4e8e 5 \u4e2a\u3002\n    HEADER_BITS,\n    /// \u524d\u5bfc\u5b57\u8282\u540e\u9762\u5fc5\u987b\u8ddf\u6709 N-1 \u4e2a\u8fde\u7eed\u5b57\u8282\uff0c\n    /// \u5176\u4e2d N \u662f UTF-8 \u5b57\u7b26\u957f\u5ea6 \u8fd9\u4e5f\u662f\u8f93\u5165\u88ab\u622a\u65ad\u65f6\u51fa\u73b0\u7684\u9519\u8bef\u3002\n    TOO_SHORT,\n    /// \u6211\u4eec\u6709\u592a\u591a\u8fde\u7eed\u7684\u8fde\u7eed\u5b57\u8282\uff0c\u6216\u8005\u5b57\u7b26\u4e32\u4ee5\u8fde\u7eed\u5b57\u8282\u5f00\u5934\u3002\n    TOO_LONG,\n    /// \u89e3\u7801\u540e\u7684\u5b57\u7b26\u5bf9\u4e8e\u53cc\u5b57\u8282\u5b57\u7b26\u5fc5\u987b\u5728 U+7F \u4ee5\u4e0a\uff0c\u5bf9\u4e8e\u4e09\u5b57\u8282\u5b57\u7b26\u5fc5\u987b\u5728 U+7FF \u4ee5\u4e0a\uff0c\u5bf9\u4e8e\u56db\u5b57\u8282\u5b57\u7b26\u5fc5\u987b\u5728 U+FFFF \u4ee5\u4e0a\u3002\n    OVERLONG,\n    /// \u89e3\u7801\u540e\u7684\u5b57\u7b26\u5fc5\u987b\u5c0f\u4e8e\u6216\u7b49\u4e8e U+10FFFF\uff0c\u5bf9\u4e8e ASCII \u5c0f\u4e8e\u6216\u7b49\u4e8e U+7F\uff0c\u6216\u8005\u5bf9\u4e8e Latin1 \u5c0f\u4e8e\u7b49\u4e8e U+FF\n    TOO_LARGE,\n    /// \u89e3\u7801\u540e\u7684\u5b57\u7b26\u4e0d\u80fd\u662f U+D800...DFFF (UTF-8 \u6216 UTF-32) \u6216\u8005\u9ad8\u4ee3\u7406\u540e\u9762\u5fc5\u987b\u8ddf\u7740\u4f4e\u4ee3\u7406\uff0c\u4e14\u4f4e\u4ee3\u7406\u524d\u9762\u5fc5\u987b\u8ddf\u7740\u9ad8\u4ee3\u7406 (UTF-16) \u6216\u8005\u6839\u672c\u5c31\u6ca1\u6709\u4ee3\u7406 (Latin1)\n    SURROGATE,\n    /// \u53d1\u73b0\u4e00\u4e2a\u4e0d\u80fd\u6210\u4e3a\u6709\u6548 base64 \u5b57\u7b26\u4e32\u4e00\u90e8\u5206\u7684\u5b57\u7b26\u3002\u8fd9\u53ef\u80fd\u5305\u62ec\u653e\u9519\u4f4d\u7f6e\u7684\u586b\u5145\u5b57\u7b26 ('=')\u3002\n    INVALID_BASE64_CHARACTER,\n    /// base64 \u8f93\u5165\u4ee5\u5355\u4e2a\u5b57\u7b26\u7ec8\u6b62\uff0c\u4e0d\u5305\u62ec\u586b\u5145 (=)\u3002\n    BASE64_INPUT_REMAINDER,\n    /// base64 \u8f93\u5165\u4ee5\u975e\u96f6\u586b\u5145\u4f4d\u7ec8\u6b62\u3002\n    BASE64_EXTRA_BITS,\n    /// \u63d0\u4f9b\u7684\u7f13\u51b2\u533a\u592a\u5c0f\u3002\n    OUTPUT_BUFFER_TOO_SMALL,\n    /// \u4e0e\u9a8c\u8bc1/\u8f6c\u7801\u65e0\u5173\u3002\n    OTHER\n};\n\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u6210\u529f\u65f6\uff0c",(0,r.jsx)(t.code,{children:"error"})," \u5b57\u6bb5\u5c06\u8bbe\u7f6e\u4e3a ",(0,r.jsx)(t.code,{children:"SUCCESS"}),"\uff0c\u800c ",(0,r.jsx)(t.code,{children:"position"})," \u5b57\u6bb5\u5219\u8868\u793a\u9a8c\u8bc1\u51fd\u6570\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\u6216\u8f6c\u7801\u51fd\u6570\u8f93\u51fa\u683c\u5f0f\u4e2d\u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\u3002"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\u5728 ",(0,r.jsx)(t.code,{children:"ASCII"}),"\u3001",(0,r.jsx)(t.code,{children:"Latin1"})," \u548c ",(0,r.jsx)(t.code,{children:"UTF-8"})," \u4e2d\uff0c\u4ee3\u7801\u5355\u5143\u5360\u7528 ",(0,r.jsx)(t.code,{children:"8"})," \u4f4d\uff08\u5b83\u4eec\u662f\u5b57\u8282\uff09\uff1b"]}),"\n",(0,r.jsxs)(t.li,{children:["\u5728 ",(0,r.jsx)(t.code,{children:"UTF-16LE"})," \u548c ",(0,r.jsx)(t.code,{children:"UTF-16BE"})," \u4e2d\uff0c\u4ee3\u7801\u5355\u5143\u5360\u7528 ",(0,r.jsx)(t.code,{children:"16"})," \u4f4d\uff1b"]}),"\n",(0,r.jsxs)(t.li,{children:["\u5728 ",(0,r.jsx)(t.code,{children:"UTF-32"})," \u4e2d\uff0c\u4ee3\u7801\u5355\u5143\u5360\u7528 ",(0,r.jsx)(t.code,{children:"32"})," \u4f4d\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["\u4e00\u822c\u6765\u8bf4\uff0c\u62a5\u544a\u9519\u8bef\u7684\u51fd\u6570\u603b\u662f\u5728\u9047\u5230\u9519\u8bef\u540e\u5f88\u5feb\u505c\u6b62\uff0c\u56e0\u6b64\u5728\u8f93\u5165\u65e9\u671f\u53d1\u751f\u9519\u8bef\u7684\u8f93\u5165\u4e0a\u53ef\u80fd\u4f1a\u66f4\u5feb\u3002\n\u8fd4\u56de\u5e03\u5c14\u503c\u7684\u51fd\u6570\u8868\u793a\u662f\u5426\u9047\u5230\u9519\u8bef\n\u65e8\u5728\u7528\u4e8e",(0,r.jsx)(t.em,{children:"\u4e50\u89c2\u8bbe\u7f6e"}),"---\u5f53\u6211\u4eec\u9884\u8ba1\u8f93\u5165\u51e0\u4e4e\u603b\u662f\u6b63\u786e\u65f6\u3002"]}),"\n",(0,r.jsx)(t.p,{children:"\u60a8\u53ef\u4ee5\u4f7f\u7528\u62a5\u544a\u9519\u8bef\u7684\u51fd\u6570\u6765\u6307\u793a\u95ee\u9898\u53d1\u751f\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:'  std::string bad_ascii = "\\x20\\x20\\x20\\x20\\x20\\xff\\x20\\x20\\x20";\n  vamos::result res = implementation.validate_ascii_with_errors(bad_ascii.data(), bad_ascii.size());\n  if(res.error != vamos::error_code::SUCCESS) {\n    std::cerr << "error at index " << res.count << std::endl;\n  }\n'})}),"\n",(0,r.jsx)(t.p,{children:"\u6216\u8005\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:'    std::string bad_utf8 = "\\xc3\\xa9\\xc3\\xa9\\x20\\xff\\xc3\\xa9";\n    vamos::result res = implementation.validate_utf8_with_errors(bad_utf8.data(), bad_utf8.size());\n    if(res.error != vamos::error_code::SUCCESS) {\n        std::cerr << "error at index " << res.count << std::endl;\n    }\n    res = implementation.validate_utf8_with_errors(bad_utf8.data(), res.count);\n    // \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c06\u4f1a\u6210\u529f\n    if(res.error == vamos::error_code::SUCCESS) {\n        std::cerr << "we have " << res.count << "valid bytes" << std::endl;\n    }\n'})}),"\n",(0,r.jsx)(t.p,{children:"\u6211\u4eec\u6709\u5feb\u901f\u9a8c\u8bc1\u529f\u80fd\u3002"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"/**\n* \u9a8c\u8bc1 ASCII \u5b57\u7b26\u4e32\u3002\n*\n* \u7531\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 ASCII \u5b57\u7b26\u4e32\u3002\n* @param len \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\n* @return true \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 ASCII \u65f6\u3002\n*/\nvamos_warn_unused bool validate_ascii(const char *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 ASCII \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u9519\u65f6\u505c\u6b62\u3002\n*\n* \u7531\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 ASCII \u5b57\u7b26\u4e32\u3002\n* @param len \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\n* @return \u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u7684\u4f4d\u7f6e\n*\uff08\u5728\u8f93\u5165\u4e2d\u7684\u4ee3\u7801\u5355\u5143\u4e2d\uff09\uff08\u5982\u679c\u6709\uff09\uff0c\u6216\u8005\u5982\u679c\u6210\u529f\u5219\u8fd4\u56de\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\u3002\n*/\nvamos_warn_unused result validate_ascii_with_errors(const char *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-8 \u5b57\u7b26\u4e32\u3002\u5f53\u60a8\u671f\u671b\n* \u8f93\u5165\u51e0\u4e4e\u603b\u662f\u6709\u6548\u65f6\uff0c\u6b64\u51fd\u6570\u53ef\u80fd\u662f\u6700\u4f73\u9009\u62e9\u3002\u5426\u5219\uff0c\u8bf7\u8003\u8651\u4f7f\u7528\n* validate_utf8_with_errors\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-8 \u5b57\u7b26\u4e32\u3002\n* @param len \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\n* @return true \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-8 \u65f6\u3002\n*/\nvamos_warn_unused bool validate_utf8(const char *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-8 \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\u5f53\u9884\u8ba1\u9519\u8bef\u4f1a\u63d0\u524d\u53d1\u751f\u65f6\uff0c\u5b83\u53ef\u80fd\u6bd4\n* validate_utf8 \u66f4\u5feb\u3002\n*\n* \u7531\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-8 \u5b57\u7b26\u4e32\u3002\n* @param len \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\n* @return \u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u5982\u679c\u6709\uff09\n* \u9519\u8bef\uff08\u5728\u8f93\u5165\u4e2d\u7684\u4ee3\u7801\u5355\u5143\u4e2d\uff09\u6216\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result validate_utf8_with_errors(const char *buf, size_t len) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u9a8c\u8bc1 UTF-16 \u5b57\u7b26\u4e32\u3002\n* \u5982\u679c\u60a8\u5e0c\u671b\u8f93\u5165\u51e0\u4e4e\u603b\u662f\u6709\u6548\uff0c\u5219\u6b64\u51fd\u6570\u53ef\u80fd\u662f\u6700\u4f73\u9009\u62e9\u3002\n* \u5426\u5219\uff0c\u8bf7\u8003\u8651\u4f7f\u7528validate_utf16_with_errors\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-16 \u5b57\u7b26\u4e32\u3002\n* @param len \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u7684\u6570\u91cf\u8868\u793a\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u3002\n* @return \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16 \u65f6\u624d\u8fd4\u56de true\u3002\n*/\nvamos_warn_unused bool validate_utf16(const char16_t *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-16LE \u5b57\u7b26\u4e32\u3002\u5982\u679c\u60a8\u5e0c\u671b\n* \u8f93\u5165\u51e0\u4e4e\u603b\u662f\u6709\u6548\uff0c\u5219\u6b64\u51fd\u6570\u53ef\u80fd\u662f\u6700\u4f73\u9009\u62e9\u3002\u5426\u5219\uff0c\u8bf7\u8003\u8651\u4f7f\u7528\n* validate_utf16le_with_errors\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-16LE \u5b57\u7b26\u4e32\u3002\n* @param len \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u3002\n* @return \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16LE \u65f6\u624d\u8fd4\u56de true\u3002\n*/\nvamos_warn_unused bool validate_utf16le(const char16_t *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-16BE \u5b57\u7b26\u4e32\u3002\u5982\u679c\u60a8\u5e0c\u671b\n* \u8f93\u5165\u51e0\u4e4e\u603b\u662f\u6709\u6548\uff0c\u5219\u6b64\u51fd\u6570\u53ef\u80fd\u662f\u6700\u4f73\u9009\u62e9\u3002\u5426\u5219\uff0c\u8bf7\u8003\u8651\u4f7f\u7528\n* validate_utf16be_with_errors\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-16BE \u5b57\u7b26\u4e32\u3002\n* @param len \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u3002\n* @return \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16BE \u65f6\u624d\u8fd4\u56de true\u3002\n*/\nvamos_warn_unused bool validate_utf16be(const char16_t *buf, size_t len) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u9a8c\u8bc1 UTF-16 \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u9519\u65f6\u505c\u6b62\u3002\n* \u5f53\u9884\u8ba1\u9519\u8bef\u4f1a\u63d0\u524d\u53d1\u751f\u65f6\uff0c\u5b83\u53ef\u80fd\u6bd4validate_utf16\u66f4\u5feb\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u8bc6\u522b BOM\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-16 \u5b57\u7b26\u4e32\u3002\n* @param len \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u7684\u6570\u91cf\u8868\u793a\u3002\n* @return \u4e00\u4e2a\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result validate_utf16_with_errors(const char16_t *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-16LE \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\u5f53\u9884\u8ba1\u9519\u8bef\u4f1a\u63d0\u524d\u53d1\u751f\u65f6\uff0c\u5b83\u53ef\u80fd\u6bd4\n* validate_utf16le \u66f4\u5feb\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u5177\u5907 BOM \u611f\u77e5\u80fd\u529b\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-16LE \u5b57\u7b26\u4e32\u3002\n* @param len \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u7684\u6570\u91cf\u8868\u793a\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u3002\n* @return \u4e00\u4e2a\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\uff0c\u6216\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result validate_utf16le_with_errors(const char16_t *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-16BE \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\u5f53\u9884\u8ba1\u9519\u8bef\u4f1a\u63d0\u524d\u53d1\u751f\u65f6\uff0c\u5b83\u53ef\u80fd\u6bd4\n* validate_utf16be \u66f4\u5feb\u3002\n*\n* \u88ab\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u5177\u5907 BOM \u611f\u77e5\u80fd\u529b\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-16BE \u5b57\u7b26\u4e32\u3002\n* @param len \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u7684\u6570\u91cf\u8868\u793a\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u3002\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u4f4d\u7f6e\uff08\u5728\u8f93\u5165\u4e2d\u7684\u4ee3\u7801\u5355\u5143\u4e2d\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff09\u3002\n*/\nvamos_warn_unused result validate_utf16be_with_errors(const char16_t *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-32 \u5b57\u7b26\u4e32\u3002\n*\n* \u7531\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u8bc6\u522b BOM\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-32 \u5b57\u7b26\u4e32\u3002\n* @param len \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u7684\u6570\u91cf\u8868\u793a\uff09\u3002\n* @return \u5f53\u4e14\u4ec5\u5f53\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-32 \u65f6\u624d\u8fd4\u56de true\u3002\n*/\nvamos_warn_unused bool validate_utf32(const char32_t *buf, size_t len) noexcept;\n\n/**\n* \u9a8c\u8bc1 UTF-32 \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u9519\u65f6\u505c\u6b62\u3002\n*\n* \u7531\u6bcf\u4e2a\u5b9e\u73b0\u8986\u76d6\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u8bc6\u522b BOM\u3002\n*\n* @param buf \u8981\u9a8c\u8bc1\u7684 UTF-32 \u5b57\u7b26\u4e32\u3002\n* @param len \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u7684\u6570\u91cf\u8868\u793a\u3002\n* @return \u4e00\u4e2a\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result validate_utf32_with_errors(const char32_t *buf, size_t len) noexcept;\n\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u7ed9\u5b9a\u4e00\u4e2a\u6709\u6548\u7684 ",(0,r.jsx)(t.code,{children:"UTF-8"})," \u6216 ",(0,r.jsx)(t.code,{children:"UTF-16"})," \u8f93\u5165\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\n\u5feb\u901f\u51fd\u6570\u8ba1\u7b97 Unicode \u5b57\u7b26\u7684\u6570\u91cf\u3002\u5bf9\u4e8e ",(0,r.jsx)(t.code,{children:"UTF-32"}),"\uff0c\u7531\u4e8e\u6bcf\u4e2a\u5b57\u7b26\n\u9700\u8981 ",(0,r.jsx)(t.code,{children:"4"})," \u4e2a\u5b57\u8282\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u51fd\u6570\u3002\u5bf9\u4e8e ",(0,r.jsx)(t.code,{children:"Latin1"})," \u4e5f\u662f\u5982\u6b64\uff1a\u4e00\u4e2a\u5b57\u8282\u59cb\u7ec8\u7b49\u4e8e\u4e00\u4e2a\u5b57\u7b26\u3002"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"/**\n* \u8ba1\u7b97\u5b57\u7b26\u4e32\u4e2d\u7684\u4ee3\u7801\u70b9\uff08\u5b57\u7b26\uff09\u6570\u91cf\uff0c\u5047\u8bbe\n* \u5b57\u7b26\u4e32\u6709\u6548\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u8bbe\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16\uff08\u672c\u673a\u5b57\u8282\u5e8f\uff09\u3002\n* \u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\uff09\n* @return \u4ee3\u7801\u70b9\u6570\u91cf\n*/\nvamos_warn_unused size_t count_utf16(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u5b57\u7b26\u4e32\u4e2d\u7684\u4ee3\u7801\u70b9\uff08\u5b57\u7b26\uff09\u6570\u91cf\uff0c\u5047\u8bbe\n* \u5b57\u7b26\u4e32\u6709\u6548\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u8bbe\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16LE\u3002\n* \u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\uff09\n* @return \u4ee3\u7801\u70b9\u6570\u91cf\n*/\nvamos_warn_unused size_t count_utf16le(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u5b57\u7b26\u4e32\u4e2d\u7684\u4ee3\u7801\u70b9\uff08\u5b57\u7b26\uff09\u6570\u91cf\uff0c\u5047\u8bbe\n* \u5b57\u7b26\u4e32\u6709\u6548\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u8bbe\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16BE\u3002\n* \u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\uff09\n* @return \u4ee3\u7801\u70b9\u6570\u91cf\n*/\nvamos_warn_unused size_t count_utf16be(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u5b57\u7b26\u4e32\u4e2d\u7684\u4ee3\u7801\u70b9\uff08\u5b57\u7b26\uff09\u6570\u91cf\uff0c\u5047\u8bbe\n* \u5b57\u7b26\u4e32\u6709\u6548\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u8bbe\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-8\u3002\n* \u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u4ee3\u7801\u70b9\u6570\u91cf\n*/\nvamos_warn_unused size_t count_utf8(const char * input, size_t length) noexcept;\n\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u5728\u5bf9\u8f93\u5165\u8fdb\u884c\u8f6c\u7801\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5206\u914d\u8db3\u591f\u7684\u5185\u5b58\u6765\u63a5\u6536\u7ed3\u679c\u3002\n\u6211\u4eec\u6709\u5feb\u901f\u51fd\u6570\u6765\u626b\u63cf\u8f93\u5165\u5e76\u8ba1\u7b97\u8f93\u51fa\u7684\u5927\u5c0f\u3002\u8fd9\u4e9b\u51fd\u6570\n\u5feb\u901f\u4e14\u65e0\u9700\u9a8c\u8bc1\u3002"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"\n/**\n* \u8fd4\u56de\u6b64 Latin1 \u5b57\u7b26\u4e32\u5728 UTF-8 \u683c\u5f0f\u4e0b\u6240\u9700\u7684\u5b57\u8282\u6570\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 Latin1 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u5b57\u8282\u7684\u957f\u5ea6\n* @return \u5c06 Latin1 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-8 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf8_length_from_latin1(const char * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-8 \u5b57\u7b26\u4e32\u5728 Latin1 \u683c\u5f0f\u4e0b\u6240\u9700\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u5c06 UTF-8 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a Latin1 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t latin1_length_from_utf8(const char * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-16 \u5b57\u7b26\u4e32\u5728 Latin1 \u683c\u5f0f\u4e0b\u6240\u9700\u7684\u5b57\u8282\u6570\u3002\n*\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 Latin1 \u4ee3\u7801\u5355\u5143 (char) \u4e3a\u5355\u4f4d\uff09\n* @return \u5c06 UTF-16 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a Latin1 \u6240\u9700\u7684\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 Latin1 \u4ee3\u7801\u5355\u5143 (char) \u4e3a\u5355\u4f4d\uff09\n*/\nvamos_warn_unused size_t latin1_length_from_utf16(size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-16LE/BE \u5b57\u7b26\u4e32\u5728 Latin1 \u683c\u5f0f\u4e0b\u6240\u9700\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-16LE \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a Latin1 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t latin1_length_from_utf16(size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-32 \u5b57\u7b26\u4e32\u5728 Latin1 \u683c\u5f0f\u4e0b\u6240\u9700\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\uff09\n* @return \u5c06 UTF-32 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a Latin1 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t latin1_length_from_utf32(size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-8 \u5b57\u7b26\u4e32\u5728 UTF-16 \u683c\u5f0f\u4e0b\u9700\u8981\u7684 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* @param input \u8981\u5904\u7406\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u5c06 UTF-8 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-16 \u6240\u9700\u7684 char16_t \u4ee3\u7801\u5355\u5143\u6570\n*/\nvamos_warn_unused size_t utf16_length_from_utf8(const char * input, size_t length) noexcept;\n\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-8 \u5b57\u7b26\u4e32\u5728 UTF-32 \u683c\u5f0f\u4e0b\u9700\u8981\u7684 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u76f8\u5f53\u4e8e count_utf8\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u5c06 UTF-8 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-32 \u6240\u9700\u7684 char32_t \u4ee3\u7801\u5355\u5143\u6570\n*/\nvamos_warn_unused size_t utf32_length_from_utf8(const char * input, size_t length) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u8ba1\u7b97\u6b64 UTF-16\n* \u5b57\u7b26\u4e32\u5728 UTF-8 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-16LE \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-8 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf8_length_from_utf16(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-16LE \u5b57\u7b26\u4e32\u5728 UTF-8 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-16LE \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-8 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf8_length_from_utf16le(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-16BE \u5b57\u7b26\u4e32\u5728 UTF-8 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-16BE \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-8 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf8_length_from_utf16be(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-32 \u5b57\u7b26\u4e32\u5728 UTF-8 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-32 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-8 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf8_length_from_utf32(const char32_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-32 \u5b57\u7b26\u4e32\u5728 UTF-16 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u53cc\u5b57\u8282\u4ee3\u7801\u5355\u5143\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u4f20\u9012\u65e0\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u8868\u793a\uff09\n* @return \u5c06 UTF-32 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-16 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf16_length_from_utf32(const char32_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 Latin1 \u5b57\u7b26\u4e32\u5728 UTF-16 \u683c\u5f0f\u4e0b\u6240\u9700\u7684\u4ee3\u7801\u5355\u5143\u6570\u3002\n*\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 Latin1 \u4ee3\u7801\u5355\u5143 (char) \u4e3a\u5355\u4f4d\uff09\n* @return \u5c06 Latin1 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-16 \u6240\u9700\u7684\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\uff09\n*/\nvamos_warn_unused size_t utf16_length_from_latin1(size_t length) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u8ba1\u7b97\u6b64 UTF-16\n* \u5b57\u7b26\u4e32\u5728 UTF-32 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u76f8\u5f53\u4e8e count_utf16\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-16LE \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-32 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf32_length_from_utf16(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-16LE \u5b57\u7b26\u4e32\u5728 UTF-32 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u76f8\u5f53\u4e8e count_utf16le\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-16LE \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-32 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf32_length_from_utf16le(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 UTF-16BE \u5b57\u7b26\u4e32\u5728 UTF-32 \u683c\u5f0f\u4e0b\u9700\u8981\u7684\u5b57\u8282\u6570\u3002\n*\n* \u6b64\u51fd\u6570\u76f8\u5f53\u4e8e count_utf16be\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\u53ef\u4ee5\u4f20\u9012\u65e0\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n* \u7ed3\u679c\u7531\u5b9e\u73b0\u5b9a\u4e49\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @return \u5c06 UTF-16BE \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-32 \u6240\u9700\u7684\u5b57\u8282\u6570\n*/\nvamos_warn_unused size_t utf32_length_from_utf16be(const char16_t * input, size_t length) noexcept;\n\n/**\n* \u8ba1\u7b97\u6b64 Latin1 \u5b57\u7b26\u4e32\u5728 UTF-32 \u683c\u5f0f\u4e0b\u6240\u9700\u7684\u5b57\u8282\u6570\u3002\n*\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 Latin1 \u4ee3\u7801\u5355\u5143 (char) \u4e3a\u5355\u4f4d\uff09\n* @return \u5c06 Latin1 \u5b57\u7b26\u4e32\u7f16\u7801\u4e3a UTF-32 \u6240\u9700\u7684\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\uff09\n*/\nvamos_warn_unused size_t utf32_length_from_latin1(size_t length) noexcept;\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u6211\u4eec\u6709 ",(0,r.jsx)(t.code,{children:"Latin1"}),"\u3001",(0,r.jsx)(t.code,{children:"UTF-8"}),"\u3001",(0,r.jsx)(t.code,{children:"UTF-16"})," \u548c ",(0,r.jsx)(t.code,{children:"UTF-32"})," \u4e4b\u95f4\u7684\u5e7f\u6cdb\u8f6c\u6362\u3002\u5b83\u4eec\u5047\u8bbe\u60a8\u5df2\u4e3a\u8f93\u5165\u5206\u914d\u4e86\u8db3\u591f\u7684\u5185\u5b58\u3002\n\u6700\u7b80\u5355\u7684\u8f6c\u6362\u51fd\u6570\u8f93\u51fa\u4e00\u4e2a\u8868\u793a\u8f93\u5165\u5927\u5c0f\u7684\u6574\u6570\uff0c\u503c\u4e3a\u96f6\u8868\u793a\u9519\u8bef\uff08\u4f8b\u5982\uff0c",(0,r.jsx)(t.code,{children:"convert_utf8_to_utf16le"}),"\uff09\u3002\u5b83\u4eec\u975e\u5e38\u9002\u5408\u60a8\u671f\u671b\u8f93\u5165\u5927\u591a\u6570\u65f6\u95f4\u90fd\u6709\u6548\u7684\u573a\u666f\u3002"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"/**\n* \u5c06 Latin1 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF8 \u5b57\u7b26\u4e32\u3002\n*\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 Latin1 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf8_output \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u5b57\u7b26\u6570\uff1b\u5982\u679c\u65e0\u6cd5\u8f6c\u6362\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_latin1_to_utf8(const char * input, size_t length, char* utf8_output) noexcept;\n\n/**\n* \u5c06 Latin1 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF8 \u5b57\u7b26\u4e32\uff0c\u5e76\u9650\u5236\u8f93\u51fa\u3002\n*\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 Latin1 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf8_output \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @param utf8_len \u6700\u5927\u8f93\u51fa\u957f\u5ea6\n* @return \u5199\u5165\u7684\u5b57\u7b26\u6570\uff1b\u5982\u679c\u65e0\u6cd5\u8f6c\u6362\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_latin1_to_utf8_safe(const char * input, size_t length, char* utf8_output, size_t utf8_len) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff0c\u5c06 Latin1 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16 \u5b57\u7b26\u4e32\u3002\n*\n* @param \u8f93\u5165\u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char16_t \u6570\u91cf\u3002\n*/\nvamos_warn_unused size_t convert_latin1_to_utf16(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u7684 Latin1 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16LE \u5b57\u7b26\u4e32\u3002\n*\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 Latin1 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char16_t \u6570\u91cf\uff1b\u5982\u679c\u65e0\u6cd5\u8f6c\u6362\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_latin1_to_utf16le(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06 Latin1 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16BE \u5b57\u7b26\u4e32\u3002\n*\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 Latin1 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char16_t \u6570\u91cf\uff1b\u5982\u679c\u65e0\u6cd5\u8f6c\u6362\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_latin1_to_utf16be(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06 Latin1 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\u3002\n*\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 Latin1 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char32_t \u6570\u91cf\uff1b\u5982\u679c\u65e0\u6cd5\u8f6c\u6362\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_latin1_to_utf32(const char * input, size_t length, char32_t* utf32_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\n* \u4ee3\u7801\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param latin1_output \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u5b57\u7b26\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\u6216\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf8_to_latin1(const char * input, size_t length, char* latin1_output) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char16_t \u6570\u91cf\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf8_to_utf16(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16LE \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char16_t \u6570\u91cf\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf8_to_utf16le(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16BE \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char16_t \u6570\u91cf\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf8_to_utf16be(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684 char32_t \u6570\u91cf\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf8_to_utf32(const char * input, size_t length, char32_t* utf32_output) noexcept;\n\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff0c\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\n*\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param latin1_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\u6216\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16_to_latin1(const char16_t * input, size_t length, char* latin1_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16LE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param latin1_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16LE \u5b57\u7b26\u4e32\u6216\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16le_to_latin1(const char16_t * input, size_t length, char* latin1_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16BE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\n*\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param latin1_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16BE \u5b57\u7b26\u4e32\u6216\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16be_to_latin1(const char16_t * input, size_t length, char* latin1_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16LE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf8_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16LE \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16le_to_utf8(const char16_t * input, size_t length, char* utf8_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16BE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf8_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16LE \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16be_to_utf8(const char16_t * input, size_t length, char* utf8_buffer) noexcept;\n\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\uff09\n* @param latin1_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\u6216\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf32_to_latin1(const char32_t * input, size_t length, char* latin1_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf8_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf32_to_utf8(const char32_t * input, size_t length, char* utf8_buffer) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf32_to_utf16(const char32_t * input, size_t length, char16_t* utf16_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16LE \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf32_to_utf16le(const char32_t * input, size_t length, char16_t* utf16_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16BE \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-32 \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf32_to_utf16be(const char32_t * input, size_t length, char16_t* utf16_buffer) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16LE \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16_to_utf32(const char16_t * input, size_t length, char32_t* utf32_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16LE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16LE \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16le_to_utf32(const char16_t * input, size_t length, char32_t* utf32_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16BE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\uff1b\u5982\u679c\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-16LE \u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de 0\n*/\nvamos_warn_unused size_t convert_utf16be_to_utf32(const char16_t * input, size_t length, char32_t* utf32_buffer) noexcept;\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981\u5bf9 ",(0,r.jsx)(t.code,{children:"UTF-8"})," \u6216 ",(0,r.jsx)(t.code,{children:"UTF-16"})," \u8f93\u5165\u8fdb\u884c\u8f6c\u7801\uff0c\u4f46\u60a8\u53ef\u80fd\u6709\u4e00\u4e2a\u622a\u65ad\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u610f\u5473\u7740\u6700\u540e\u4e00\n\u4e2a\u5b57\u7b26\u53ef\u80fd\u4e0d\u5b8c\u6574\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5efa\u8bae\u4fee\u526a\u8f93\u5165\u7684\u672b\u5c3e\uff0c\u4ee5\u514d\u9047\u5230\u9519\u8bef\u3002"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"\n/**\n* \u7ed9\u5b9a\u4e00\u4e2a\u6709\u6548\u7684 UTF-8 \u5b57\u7b26\u4e32\uff0c\u8be5\u5b57\u7b26\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u53ef\u80fd\u88ab\u622a\u65ad\uff0c\n* \u6b64\u51fd\u6570\u68c0\u67e5\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u3002\u5982\u679c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u88ab\u622a\u65ad\uff08\u6216\u90e8\u5206\u622a\u65ad\uff09\uff0c\n* \u5219\u8fd4\u56de\u8f83\u77ed\u7684\u957f\u5ea6\uff08\u77ed 1 \u5230 3 \u4e2a\u5b57\u8282\uff09\uff0c\u4ee5\u4fbf\u77ed UTF-8\n* \u5b57\u7b26\u4e32\u4ec5\u5305\u542b\u5b8c\u6574\u5b57\u7b26\u3002\u5982\u679c\u6ca1\u6709\u622a\u65ad\u5b57\u7b26\uff0c\n* \u8fd4\u56de\u539f\u59cb\u957f\u5ea6\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u5b9a\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-8\uff0c\u4f46\u53ef\u80fd\u88ab\u622a\u65ad\u3002\n*\n* @param input \u8981\u5904\u7406\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\uff0c\u53ef\u80fd\u77ed 1 \u5230 3 \u4e2a\u5b57\u8282\n*/\nvamos_warn_unused size_t trim_partial_utf8(const char *input, size_t length);\n\n/**\n* \u7ed9\u5b9a\u4e00\u4e2a\u6709\u6548\u7684 UTF-16BE \u5b57\u7b26\u4e32\uff0c\u8be5\u5b57\u7b26\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u53ef\u80fd\u88ab\u622a\u65ad\uff0c\n* \u6b64\u51fd\u6570\u68c0\u67e5\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u3002\u5982\u679c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u88ab\u622a\u65ad\uff08\u6216\u90e8\u5206\u622a\u65ad\uff09\uff0c\n* \u5219\u8fd4\u56de\u8f83\u77ed\u7684\u957f\u5ea6\uff08\u77ed 1 \u4e2a\u5355\u4f4d\uff09\uff0c\u4ee5\u4fbf\u77ed UTF-16BE\n* \u5b57\u7b26\u4e32\u4ec5\u5305\u542b\u5b8c\u6574\u5b57\u7b26\u3002\u5982\u679c\u6ca1\u6709\u622a\u65ad\u5b57\u7b26\uff0c\n* \u8fd4\u56de\u539f\u59cb\u957f\u5ea6\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u5b9a\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16BE\uff0c\u4f46\u53ef\u80fd\u88ab\u622a\u65ad\u3002\n*\n* @param input \u8981\u5904\u7406\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\uff0c\u53ef\u80fd\u77ed 1 \u4e2a\u5355\u4f4d\n*/\nvamos_warn_unused size_t trim_partial_utf16be(const char16_t* input, size_t length);\n\n/**\n* \u7ed9\u5b9a\u4e00\u4e2a\u6709\u6548\u7684 UTF-16LE \u5b57\u7b26\u4e32\uff0c\u8be5\u5b57\u7b26\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u53ef\u80fd\u88ab\u622a\u65ad\uff0c\n* \u6b64\u51fd\u6570\u68c0\u67e5\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u3002\u5982\u679c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u88ab\u622a\u65ad\uff08\u6216\u90e8\u5206\u622a\u65ad\uff09\uff0c\n* \u5219\u8fd4\u56de\u8f83\u77ed\u7684\u957f\u5ea6\uff08\u77ed 1 \u4e2a\u5355\u4f4d\uff09\uff0c\u4ee5\u4fbf\u77ed UTF-16LE\n* \u5b57\u7b26\u4e32\u4ec5\u5305\u542b\u5b8c\u6574\u5b57\u7b26\u3002\u5982\u679c\u6ca1\u6709\u622a\u65ad\u5b57\u7b26\uff0c\n* \u8fd4\u56de\u539f\u59cb\u957f\u5ea6\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u5b9a\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16LE\uff0c\u4f46\u53ef\u80fd\u88ab\u622a\u65ad\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5355\u4f4d\u4e3a\u5355\u4f4d\uff09\uff0c\u53ef\u80fd\u77ed 1 \u4e2a\u5355\u4f4d\n*/\nvamos_warn_unused size_t trim_partial_utf16le(const char16_t* input, size_t length);\n\n\n/**\n* \u7ed9\u5b9a\u4e00\u4e2a\u6709\u6548\u7684 UTF-16 \u5b57\u7b26\u4e32\uff0c\u8be5\u5b57\u7b26\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u53ef\u80fd\u88ab\u622a\u65ad\uff0c\n* \u6b64\u51fd\u6570\u68c0\u67e5\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u3002\u5982\u679c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u88ab\u622a\u65ad\uff08\u6216\u90e8\u5206\u622a\u65ad\uff09\uff0c\n* \u5219\u8fd4\u56de\u8f83\u77ed\u7684\u957f\u5ea6\uff08\u77ed 1 \u4e2a\u5355\u4f4d\uff09\uff0c\u4ee5\u4fbf\u77ed UTF-16\n* \u5b57\u7b26\u4e32\u4ec5\u5305\u542b\u5b8c\u6574\u5b57\u7b26\u3002\u5982\u679c\u6ca1\u6709\u622a\u65ad\u5b57\u7b26\uff0c\n* \u8fd4\u56de\u539f\u59cb\u957f\u5ea6\u3002\n*\n* \u6b64\u51fd\u6570\u5047\u5b9a\u8f93\u5165\u5b57\u7b26\u4e32\u662f\u6709\u6548\u7684 UTF-16\uff0c\u4f46\u53ef\u80fd\u88ab\u622a\u65ad\u3002\n* \u6211\u4eec\u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @return \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5355\u4f4d\u4e3a\u5355\u4f4d\uff09\uff0c\u53ef\u80fd\u77ed 1 \u4e2a\u5355\u4f4d\n*/\nvamos_warn_unused size_t trim_partial_utf16(const char16_t* input, size_t length);\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b ",(0,r.jsx)(t.code,{children:"trim_"})," \u51fd\u6570\u9010\u6bb5\u89e3\u7801\u8f93\u5165\uff0c\u5982\u4ee5\u4e0b\u793a\u4f8b\u6240\u793a\u3002\u9996\u5148\uff0c\u60a8\u9700\u8981\u5206\u4e24\u6b65\u89e3\u7801 ",(0,r.jsx)(t.code,{children:"UTF-8"})," \u5b57\u7b26\u4e32\uff1a"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:'  const char unicode[] = "\\xc3\\xa9\\x63ole d\'\\xc3\\xa9t\\xc3\\xa9";\n  /// \u5047\u8bbe\u60a8\u53ea\u60f3\u89e3\u7801\u8be5\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u3002\n  size_t length = 10;\n  /// \u9009\u62e9 10 \u4e2a\u5b57\u8282\u662f\u6709\u95ee\u9898\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u80fd\u4f1a\u6700\u7ec8\u5904\u4e8e\n  /// \u4ee3\u7801\u70b9\u7684\u4e2d\u95f4\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u5012\u9000\u5230\u4e0a\u4e00\u4e2a\u4ee3\u7801\u70b9\u3002\n  length = vamos::trim_partial_utf8(unicode, length);\n    /// \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5b89\u5168\u5730\u8f6c\u7801\u4e86\n  size_t budget_utf16 = vamos::utf16_length_from_utf8(unicode, length);\n  std::unique_ptr<char16_t[]> utf16{new char16_t[budget_utf16]};\n  size_t utf16words =\n      vamos::convert_utf8_to_utf16le(unicode, length, utf16.get());\n  /// \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u8f6c\u7801\u4e0b\u4e00\u6279\n  const char * next = unicode + length;\n  size_t next_length = sizeof(unicode) - length;\n  size_t next_budget_utf16 = vamos::utf16_length_from_utf8(next, next_length);\n  std::unique_ptr<char16_t[]> next_utf16{new char16_t[next_budget_utf16]};\n  size_t next_utf16words =\n      vamos::convert_utf8_to_utf16le(next, next_length, next_utf16.get());\n'})}),"\n",(0,r.jsxs)(t.p,{children:["\u60a8\u53ef\u4ee5\u5bf9 ",(0,r.jsx)(t.code,{children:"UTF-16"})," \u4f7f\u7528\u76f8\u540c\u7684\u65b9\u6cd5\uff1a"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:'    /// \u6211\u4eec\u6709\u4e09\u4e2a\u4ee3\u7406\u5bf9\u5e8f\u5217\uff08UTF-16\uff09\u3002\n    const char16_t unicode[] = u"\\x3cd8\\x10df\\x3cd8\\x10df\\x3cd8\\x10df";\n    /// \u5047\u8bbe\u60a8\u53ea\u60f3\u89e3\u7801\u8be5\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u3002\n    size_t length = 3;\n    /// \u9009\u62e9 3 \u4e2a\u5355\u4f4d\u662f\u6709\u95ee\u9898\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u80fd\u4f1a\u6700\u7ec8\u5904\u4e8e\u4ee3\u7406\u5bf9\u7684\u4e2d\u95f4\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u5012\u56de\u5230\u4e0a\u4e00\u4e2a\u4ee3\u7801\u70b9\u3002\n    length = vamos::trim_partial_utf16(unicode, length);\n    /// \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5b89\u5168\u5730\u8f6c\u7801\u4e86\n    size_t budget_utf8 = vamos::utf8_length_from_utf16(unicode, length);\n    std::unique_ptr<char[]> utf8{new char[budget_utf8]};\n    size_t utf8words =\n      vamos::convert_utf16_to_utf8(unicode, length, utf8.get());\n    /// \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u8f6c\u7801\u4e0b\u4e00\u6279\n    const char16_t * next = unicode + length;\n    size_t next_length = 6 - length;\n    size_t next_budget_utf8 = vamos::utf8_length_from_utf16(next, next_length);\n    std::unique_ptr<char[]> next_utf8{new char[next_budget_utf8]};\n    size_t next_utf8words =\n      vamos::convert_utf16_to_utf8(next, next_length, next_utf8.get());\n'})}),"\n",(0,r.jsxs)(t.p,{children:["\u6211\u4eec\u6709\u66f4\u9ad8\u7ea7\u7684\u8f6c\u6362\u51fd\u6570\uff0c\u5b83\u4eec\u8f93\u51fa\u4e00\u4e2a ",(0,r.jsx)(t.code,{children:"vamos::result"})," \u7ed3\u6784\uff0c\u5176\u4e2d\u6307\u793a\u9519\u8bef\u7c7b\u578b\u548c ",(0,r.jsx)(t.code,{children:"count"})," \u6761\u76ee\uff08\u4f8b\u5982\n",(0,r.jsx)(t.code,{children:"convert_utf8_to_utf16le_with_errors"}),"\uff09\u3002\u5f53\u60a8\u9884\u8ba1\u8f93\u5165\u4e2d\u53ef\u80fd\u5b58\u5728\u9700\u8981\u8fdb\u4e00\u6b65\u8c03\u67e5\u7684\u9519\u8bef\u65f6\uff0c\u5b83\u4eec\u975e\u5e38\n\u9002\u5408\u3002",(0,r.jsx)(t.code,{children:"count"})," \u5b57\u6bb5\u5305\u542b\u8f93\u5165\u4e2d\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\uff09\uff0c\u5982\u679c\u6709\u9519\u8bef\uff0c\u5426\u5219\u5305\u542b\u5199\u5165\u7684\u4ee3\u7801\u5355\u5143\u6570\u3002\u60a8\u53ef\u4ee5\u6309\u5982\u4e0b\u65b9\u5f0f\u4f7f\u7528\u8fd9\u4e9b\u51fd\u6570\uff1a"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:'  /// \u6b64 UTF-8 \u5b57\u7b26\u4e32\u5728\u7d22\u5f15 5 \u5904\u6709\u4e00\u4e2a\u574f\u5b57\u8282\n  std::string bad_utf8 = "\\xc3\\xa9\\xc3\\xa9\\x20\\xff\\xc3\\xa9";\n  size_t budget_utf16 = vamos::utf16_length_from_utf8(bad_utf8.data(), bad_utf8.size());\n  std::unique_ptr<char16_t[]> utf16{new char16_t[budget_utf16]};\n  vamos::result res = vamos::convert_utf8_to_utf16_with_errors(bad_utf8.data(), bad_utf8.size(), utf16.get());\n  if(res.error != vamos::error_code::SUCCESS) {\n    std::cerr << "error at index " << res.count << std::endl;\n  }\n  /// \u4ee5\u4e0b\u5c06\u4f1a\u6210\u529f\n  res = vamos::convert_utf8_to_utf16_with_errors(bad_utf8.data(), res.count, utf16.get());\n  if(res.error == vamos::error_code::SUCCESS) {\n    std::cerr << "we have transcoded " << res.count << " characters" << std::endl;\n  }\n'})}),"\n",(0,r.jsx)(t.p,{children:"\u6211\u4eec\u6709\u51e0\u4e2a\u8f6c\u7801\u51fd\u6570\u8fd4\u56de\u201cvamos::error\u201d\u7ed3\u679c\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u5e76\u51fa\u73b0\u9519\u8bef\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u65e0\u6cd5\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\n* \u4ee3\u7801\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param latin1_output \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\n* \u4ee5\u53ca\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u9a8c\u8bc1\u7684\u4ee3\u7801\u5355\u5143\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf8_to_latin1_with_errors(const char * input, size_t length, char* latin1_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16LE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u4e0d\u80fd\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\n*\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param latin1_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684\u5b57\u7b26\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16le_to_latin1_with_errors(const char16_t * input, size_t length, char* latin1_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16BE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u4e0d\u80fd\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\n*\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param latin1_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u4e00\u4e2a\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\n* \u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\uff0c\u6216\u5199\u5165\u7684\u5b57\u7b26\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16be_to_latin1_with_errors(const char16_t * input, size_t length, char* latin1_buffer) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff0c\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u4e0d\u80fd\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\n*\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param latin1_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684\u5b57\u7b26\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16_to_latin1_with_errors(const char16_t * input, size_t length, char* latin1_buffer) noexcept;\n\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16\n* \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\uff0c\u6216\u6210\u529f\u65f6\u5199\u5165\u7684 char16_t \u7684\u6570\u91cf\u3002\n*/\nvamos_warn_unused result convert_utf8_to_utf16_with_errors(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16LE \u5b57\u7b26\u4e32\uff0c\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\n* \u4ee5\u53ca\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\uff0c\u6216\u6210\u529f\u65f6\u5199\u5165\u7684 char16_t \u6570\u91cf\u3002\n*/\nvamos_warn_unused result convert_utf8_to_utf16le_with_errors(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16BE \u5b57\u7b26\u4e32\uff0c\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u4e00\u4e2a\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\n* \u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\uff0c\u6216\u8005\u5982\u679c\u6210\u529f\u5219\u5199\u5165\u7684 char16_t \u6570\u91cf\u3002\n*/\nvamos_warn_unused result convert_utf8_to_utf16be_with_errors(const char * input, size_t length, char16_t* utf16_output) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-8 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\uff0c\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-8 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u4e00\u4e2a\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684 char32_t \u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf8_to_utf32_with_errors(const char * input, size_t length, char32_t* utf32_output) noexcept;\n\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16LE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf8_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u4ee5\u53ca\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684\u5b57\u7b26\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16le_to_utf8_with_errors(const char16_t * input, size_t length, char* utf8_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16BE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u5b57\u7b26\u4e32\uff0c\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf8_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684\u5b57\u7b26\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16be_to_utf8_with_errors(const char16_t * input, size_t length, char* utf8_buffer) noexcept;\n\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a Latin1 \u5b57\u7b26\u4e32\uff0c\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n* \u5982\u679c\u5b57\u7b26\u4e32\u4e0d\u80fd\u8868\u793a\u4e3a Latin1\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08\u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\uff09\n* @param latin1_buffer \u6307\u5411\u53ef\u4ee5\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u4e00\u4e2a\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08\u7c7b\u578b\u4e3a vamos::result\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\uff0c\u5176\u4e2d\u5305\u542b\u9519\u8bef\u4ee3\u7801\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\uff0c\u6216\u8005\u5982\u679c\u6210\u529f\u5219\u5199\u5165\u7684\u5b57\u7b26\u6570\u3002\n*/\nvamos_warn_unused result convert_utf32_to_latin1_with_errors(const char32_t * input, size_t length, char* latin1_buffer) noexcept;\n\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-8 \u5b57\u7b26\u4e32\uff0c\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u5177\u5907 BOM \u611f\u77e5\u80fd\u529b\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf8_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684\u5b57\u7b26\u6570\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf32_to_utf8_with_errors(const char32_t * input, size_t length, char* utf8_buffer) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16\n* \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684 char16_t \u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf32_to_utf16_with_errors(const char32_t * input, size_t length, char16_t* utf16_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16LE \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u5177\u5907 BOM \u611f\u77e5\u80fd\u529b\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684 char16_t \u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf32_to_utf16le_with_errors(const char32_t * input, size_t length, char16_t* utf16_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-32 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-16BE \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u5177\u5907 BOM \u611f\u77e5\u80fd\u529b\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-32 \u5b57\u7b26\u4e32\n* @param length \u4ee5 4 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char32_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf16_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u4ee5\u53ca\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684 char16_t \u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf32_to_utf16be_with_errors(const char32_t * input, size_t length, char16_t* utf16_buffer) noexcept;\n\n/**\n* \u4f7f\u7528\u672c\u673a\u5b57\u8282\u5e8f\uff1b\u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16 \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\n* UTF-32 \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684 char32_t \u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16_to_utf32_with_errors(const char16_t * input, size_t length, char32_t* utf32_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16LE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u9519\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16LE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u548c\n* \u9519\u8bef\u7684\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684 char32_t \u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16le_to_utf32_with_errors(const char16_t * input, size_t length, char32_t* utf32_buffer) noexcept;\n\n/**\n* \u5c06\u53ef\u80fd\u635f\u574f\u7684 UTF-16BE \u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a UTF-32 \u5b57\u7b26\u4e32\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u505c\u6b62\u3002\n*\n* \u5728\u8f6c\u6362\u8fc7\u7a0b\u4e2d\uff0c\u8fd8\u4f1a\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u8fdb\u884c\u9a8c\u8bc1\u3002\n* \u6b64\u51fd\u6570\u9002\u7528\u4e8e\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u6765\u6e90\u7684\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u5177\u5907 BOM \u611f\u77e5\u80fd\u529b\u3002\n*\n* @param input \u8981\u8f6c\u6362\u7684 UTF-16BE \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param utf32_buffer \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n* @return \u5e26\u6709\u9519\u8bef\u4ee3\u7801\u7684\u7ed3\u679c\u5bf9\u7ed3\u6784\uff08vamos::result \u7c7b\u578b\uff0c\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5 error \u548c count\uff09\u4ee5\u53ca\u9519\u8bef\u4ee3\u7801\u548c\u9519\u8bef\u4f4d\u7f6e\uff08\u4ee5\u4ee3\u7801\u5355\u5143\u4e3a\u5355\u4f4d\u7684\u8f93\u5165\uff09\uff08\u5982\u679c\u6709\uff09\u6216\u5199\u5165\u7684 char32_t \u6570\u91cf\uff08\u5982\u679c\u6210\u529f\uff09\u3002\n*/\nvamos_warn_unused result convert_utf16be_to_utf32_with_errors(const char16_t * input, size_t length, char32_t* utf32_buffer) noexcept;\n\n"})}),"\n",(0,r.jsxs)(t.p,{children:["\u5982\u679c\u60a8\u6709 ",(0,r.jsx)(t.code,{children:"UTF-16"})," \u8f93\u5165\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5feb\u901f\u51fd\u6570\u66f4\u6539\u5176\u5b57\u8282\u987a\u5e8f\u3002"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:"/**\n* \u66f4\u6539\u8f93\u5165\u7684\u5b57\u8282\u5e8f\u3002\u53ef\u7528\u4e8e\u4ece UTF-16LE \u8f6c\u6362\u4e3a UTF-16BE \u6216\n* \u4ece UTF-16BE \u8f6c\u6362\u4e3a UTF-16LE\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u9a8c\u8bc1\u8f93\u5165\u3002\n*\n* \u6b64\u51fd\u6570\u4e0d\u652f\u6301 BOM\u3002\n*\n* @param \u8f93\u5165\u8981\u5904\u7406\u7684 UTF-16 \u5b57\u7b26\u4e32\n* @param length \u4ee5 2 \u5b57\u8282\u4ee3\u7801\u5355\u5143 (char16_t) \u4e3a\u5355\u4f4d\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\n* @param output \u6307\u5411\u53ef\u4fdd\u5b58\u8f6c\u6362\u7ed3\u679c\u7684\u7f13\u51b2\u533a\u7684\u6307\u9488\n*/\nvoid change_endianness_utf16(const char16_t * input, size_t length, char16_t * output) noexcept;\n\n"})}),"\n",(0,r.jsx)(t.h2,{id:"\u624b\u52a8\u5b9e\u65bd\u9009\u62e9",children:"\u624b\u52a8\u5b9e\u65bd\u9009\u62e9"}),"\n",(0,r.jsx)(t.p,{children:"\u5728\u4e3a x64 \u5904\u7406\u5668\u7f16\u8bd1 library \u65f6\uff0c\u6211\u4eec\u4e3a\u6bcf\u4e2a\u51fd\u6570\u6784\u5efa\u4e86\u591a\u4e2a\u5b9e\u73b0\u3002\u5728\u8fd0\u884c\u65f6\uff0c\u4f1a\u81ea\u52a8\u9009\u62e9\u6700\u4f73\u5b9e\u73b0\u3002\u9ad8\u7ea7\n\u7528\u6237\u53ef\u80fd\u5e0c\u671b\u9009\u62e9\u7279\u5b9a\u7684\u5b9e\u73b0\uff0c\u4ece\u800c\u7ed5\u8fc7\u6211\u4eec\u7684\u8fd0\u884c\u65f6\u68c0\u6d4b\u3002\u8fd9\u6837\u505a\u662f\u53ef\u80fd\u7684\uff0c\u751a\u81f3\u76f8\u5bf9\u65b9\u4fbf\u3002\u4ee5\u4e0b C++ \u7a0b\u5e8f\u68c0\u67e5\u6240\u6709\u53ef\u7528\u7684\u5b9e\u73b0\uff0c\u5e76\u9009\u62e9\u4e00\u4e2a\u4f5c\u4e3a\u9ed8\u8ba4\u5b9e\u73b0\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cpp",children:'#include <vamos/vamos.h>\n#include <cstdlib>\n#include <iostream>\n#include <string>\n\nint main() {\n  // This is just a demonstration, not actual testing required.\n  std::string source = "La vie est belle.";\n  std::string chosen_implementation;\n  for (auto &implementation : vamos::get_available_implementations()) {\n    if (!implementation->supported_by_runtime_system()) {\n      continue;\n    }\n    bool validutf8 = implementation->validate_utf8(source.c_str(), source.size());\n    if (!validutf8) {\n      return EXIT_FAILURE;\n    }\n    std::cout << implementation->name() << ": " << implementation->description()\n              << std::endl;\n    chosen_implementation = implementation->name();\n  }\n  auto my_implementation =\n      vamos::get_available_implementations()[chosen_implementation];\n  if (!my_implementation) {\n    return EXIT_FAILURE;\n  }\n  if (!my_implementation->supported_by_runtime_system()) {\n    return EXIT_FAILURE;\n  }\n  vamos::get_active_implementation() = my_implementation;\n  bool validutf8 = vamos::validate_utf8(source.c_str(), source.size());\n  if (!validutf8) {\n    return EXIT_FAILURE;\n  }\n  if (vamos::get_active_implementation()->name() != chosen_implementation) {\n    return EXIT_FAILURE;\n  }\n  std::cout << "I have manually selected: " << vamos::get_active_implementation()->name() << std::endl;\n  return EXIT_SUCCESS;\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"\u7ebf\u7a0b\u5b89\u5168",children:"\u7ebf\u7a0b\u5b89\u5168"}),"\n",(0,r.jsxs)(t.p,{children:["\u6211\u4eec\u5728\u6784\u5efa vamos \u65f6\u5c31\u8003\u8651\u5230\u4e86\u7ebf\u7a0b\u5b89\u5168\u3002vamos \u5e93\u59cb\u7ec8\u662f\u5355\u7ebf\u7a0b\u7684\u3002\nCPU \u68c0\u6d4b\u5728\u7b2c\u4e00\u6b21\u5c1d\u8bd5\u89e3\u6790\u65f6\u8fd0\u884c\uff0c\u5e76\u5207\u6362\u5230\u9002\u5408\u60a8 CPU \u7684\u6700\u5feb\u89e3\u6790\u5668\uff0c\u5b83\u662f\u900f\u660e\u4e14\u7ebf\u7a0b\u5b89\u5168\u7684\u3002\u6211\u4eec\u7684\u8fd0\u884c\u65f6\u8c03\u5ea6\u57fa\u4e8e\u5728\u4e3b\u7ebf\n\u7a0b\u5f00\u59cb\u65f6\u5b9e\u4f8b\u5316\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u5e76\u53ef\u80fd\u5728\u4e3b\u7ebf\u7a0b\u7ed3\u675f\u65f6\u88ab\u4e22\u5f03\u3002\u5982\u679c\u60a8\u6709\u591a\u4e2a\u7ebf\u7a0b\u5728\u8fd0\u884c\uff0c\u5e76\u4e14\u4e00\u4e9b\u7ebf\u7a0b\u5728\u4e3b\u7ebf\u7a0b\u6e05\u7406\u8d44\u6e90\u65f6\u4f7f\u7528\u8be5\u5e93\uff0c\u60a8\n\u53ef\u80fd\u4f1a\u9047\u5230\u95ee\u9898\u3002\u5982\u679c\u60a8\u9884\u8ba1\u4f1a\u51fa\u73b0\u6b64\u7c7b\u95ee\u9898\uff0c\u60a8\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 ",(0,r.jsx)(t.a,{href:"https://en.cppreference.com/w/cpp/utility/program/quick_exit",children:"std::quick_exit"}),"\u3002"]}),"\n",(0,r.jsx)(t.h2,{id:"\u5f15\u7528",children:"\u5f15\u7528"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Robert Clausecker\u3001Daniel Lemire\uff0c",(0,r.jsx)(t.a,{href:"https://arxiv.org/abs/2212.05098",children:"\u4f7f\u7528 AVX-512 \u6307\u4ee4\u8f6c\u7801 Unicode \u5b57\u7b26"}),"\uff0c\u8f6f\u4ef6\uff1a\u5b9e\u8df5\u4e0e\u7ecf\u9a8c 53 (12)\uff0c2023 \u5e74\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:["Daniel Lemire\u3001Wojciech Mu\u0142a\uff0c",(0,r.jsx)(t.a,{href:"https://arxiv.org/abs/2109.10433",children:"\u4f7f\u7528 SIMD \u6307\u4ee4\u6bcf\u79d2\u8f6c\u7801\u6570\u5341\u4ebf\u4e2a Unicode \u5b57\u7b26"}),"\uff0c\u8f6f\u4ef6\uff1a\u5b9e\u8df5\u4e0e\u7ecf\u9a8c 52 (2)\uff0c2022 \u5e74\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:["John Keiser\u3001Daniel Lemire\uff0c",(0,r.jsx)(t.a,{href:"https://arxiv.org/abs/2010.03090",children:"\u4ee5\u5c11\u4e8e\u6bcf\u5b57\u8282\u4e00\u6761\u6307\u4ee4\u9a8c\u8bc1 UTF-8"}),"\uff0c\u8f6f\u4ef6\uff1a\u5b9e\u8df5\u4e0e\u7ecf\u9a8c 51 (5)\uff0c2021 \u5e74\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:["Wojciech Mu\u0142a\u3001Daniel Lemire\uff0c",(0,r.jsx)(t.a,{href:"https://arxiv.org/abs/1910.05109",children:"Base64 \u7f16\u7801\u548c\u89e3\u7801\u901f\u5ea6\u51e0\u4e4e\u4e0e\u5185\u5b58\u901f\u5ea6\u76f8\u540ccopy"}),"\uff0c\u8f6f\u4ef6\uff1a\u5b9e\u8df5\u4e0e\u7ecf\u9a8c 50 (2)\uff0c2020 \u5e74\u3002"]}),"\n",(0,r.jsxs)(t.li,{children:["Wojciech Mu\u0142a\u3001Daniel Lemire\uff0c",(0,r.jsx)(t.a,{href:"https://arxiv.org/abs/1704.00605",children:"\u4f7f\u7528 AVX2 \u6307\u4ee4\u5b9e\u73b0\u66f4\u5feb\u7684 Base64 \u7f16\u7801\u548c\u89e3\u7801"}),"\uff0cACM Transactions on the Web 12 (3)\uff0c2018 \u5e74\u3002"]}),"\n"]})]})}function l(n={}){const{wrapper:t}={...(0,a.R)(),...n.components};return t?(0,r.jsx)(t,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},28453:(n,t,e)=>{e.d(t,{R:()=>c,x:()=>u});var r=e(96540);const a={},s=r.createContext(a);function c(n){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function u(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:c(n.components),r.createElement(s.Provider,{value:t},n.children)}}}]);